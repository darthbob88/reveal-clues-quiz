/*! For license information please see main.38d53ae1.js.LICENSE.txt */
!function(){var e={132:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,l,c,f=arguments[0],h=1,d=arguments.length,p=!1;for("boolean"===typeof f&&(p=f,f=arguments[1]||{},h=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});h<d;++h)if(null!=(t=arguments[h]))for(n in t)r=s(f,n),f!==(i=s(t,n))&&(p&&i&&(o(i)||(l=a(i)))?(l?(l=!1,c=r&&a(r)?r:[]):c=r&&o(r)?r:{},u(f,{name:n,newValue:e(p,c,i)})):"undefined"!==typeof i&&u(f,{name:n,newValue:i}));return f}},65:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,s=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(s,l):l}e.exports=function(e,s){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];s=s||{};var f=1,h=1;function d(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:f,column:h};return function(t){return t.position=new v(e),b(),t}}function v(e){this.start=e,this.end={line:f,column:h},this.source=s.source}v.prototype.content=e;var m=[];function y(t){var n=new Error(s.source+":"+f+":"+h+": "+t);if(n.reason=t,n.filename=s.source,n.line=f,n.column=h,n.source=e,!s.silent)throw n;m.push(n)}function g(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function b(){g(r)}function k(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;l!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,l===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,d(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function E(){var e=p(),n=g(i);if(n){if(w(),!g(a))return y("property missing ':'");var r=g(o),s=e({type:"declaration",property:c(n[0].replace(t,l)),value:r?c(r[0].replace(t,l)):l});return g(u),s}}return b(),function(){var e,t=[];for(k(t);e=E();)!1!==e&&(t.push(e),k(t));return t}()}},586:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in a=Object(arguments[s]))n.call(a,l)&&(u[l]=a[l]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(u[o[c]]=a[o[c]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var s=!1,l=null,c=!1,f=null,h={onError:function(e){s=!0,l=e}};function d(e,t,n,r,i,a,o,c,f){s=!1,l=null,u.apply(h,arguments)}var p=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(o(198));var v=l;s=!1,l=null,c||(c=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function k(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!E[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;if(x.hasOwnProperty(s))throw Error(o(99,s));x[s]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&w(l[i],u,s);i=!0}else a.registrationName?(w(a.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,_[e]=t.eventTypes[n].dependencies}var E=[],x={},S={},_={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&k()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=null,A=null,O=null;function P(e){if(e=v(e)){if("function"!==typeof I)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),I(e.stateNode,e.type,t))}}function N(e){A?O?O.push(e):O=[e]:A=e}function R(){if(A){var e=A,t=O;if(O=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function D(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function M(){}var F=D,U=!1,j=!1;function V(){null===A&&null===O||(M(),R())}function z(e,t,n){if(j)return e(t,n);j=!0;try{return F(e,t,n)}finally{j=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,H={},W={};function K(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(W,e)||!q.call(H,e)&&(B.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function _e(e,t){Se(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Ne(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,je,Ve=(je=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},He={},We={};function Ke(e){if(He[e])return He[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}C&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=Ke("animationend"),Qe=Ke("animationiteration"),Ye=Ke("animationstart"),Xe=Ke("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,ut),ot)throw Error(o(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,s=0;s<E.length;s++){var l=E[s];l&&(l=l.extractEvents(r,t,a,i,o))&&(u=it(u,l))}st(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,yt,gt,bt=!1,kt=[],wt=null,Et=null,xt=null,St=new Map,_t=new Map,Tt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=Rn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Rt(e)&&n.delete(t)}function Lt(){for(bt=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:kt.shift()}null!==wt&&Rt(wt)&&(wt=null),null!==Et&&Rt(Et)&&(Et=null),null!==xt&&Rt(xt)&&(xt=null),St.forEach(Dt),_t.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return Mt(t,e)}if(0<kt.length){Mt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==Et&&Mt(Et,e),null!==xt&&Mt(xt,e),St.forEach(t),_t.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Tt.shift()}var Ut={},jt=new Map,Vt=new Map,zt=["abort","abort",Ge,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),jt.set(r,a),Ut[i]=a}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(zt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<qt.length;Ht++)Vt.set(qt[Ht],0);var Wt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Gt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){U||M();var i=Jt,a=U;U=!0;try{L(i,e,t,n,r)}finally{(U=a)||V()}}function $t(e,t,n,r){Kt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<kt.length&&-1<Ct.indexOf(e))e=At(null,e,t,n,r),kt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ot(e,r);else if(-1<Ct.indexOf(e))e=At(i,e,t,n,r),kt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Pt(wt,e,t,n,r,i),!0;case"dragenter":return Et=Pt(Et,e,t,n,r,i),!0;case"mouseover":return xt=Pt(xt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Pt(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_t.set(a,Pt(_t.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ot(e,r),e=dt(e,r,null,t);try{z(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Rn(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{z(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function cn(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",gn="/$",bn="$?",kn="$!",wn=null,En=null;function xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Tn="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function In(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===kn||n===bn){if(0===t)return e;t--}else n===gn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+An,Pn="__reactEventHandlers$"+An,Nn="__reactContainere$"+An;function Rn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=In(e);null!==e;){if(n=e[On])return n;e=In(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[On]||e[Nn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[Pn]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function jn(e,t,n){(t=Un(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)jn(n[t],"captured",e);for(t=0;t<n.length;t++)jn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Un(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function qn(e){at(e,Vn)}var Hn=null,Wn=null,Kn=null;function Gn(){if(Kn)return Kn;var e,t,n=Wn,r=n.length,i="value"in Hn?Hn.value:Hn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Kn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=$n,e.release=Jn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Xn);var er=Xn.extend({data:null}),tr=Xn.extend({data:null}),nr=[9,13,27,32],rr=C&&"CompositionEvent"in window,ir=null;C&&"documentMode"in document&&(ir=document.documentMode);var ar=C&&"TextEvent"in window&&!ir,or=C&&(!rr||ir&&8<ir&&11>=ir),ur=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function cr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var dr={eventTypes:sr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=sr.compositionStart;break e;case"compositionend":a=sr.compositionEnd;break e;case"compositionupdate":a=sr.compositionUpdate;break e}a=void 0}else hr?cr(e,n)&&(a=sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=sr.compositionStart);return a?(or&&"ko"!==n.locale&&(hr||a!==sr.compositionStart?a===sr.compositionEnd&&hr&&(i=Gn()):(Wn="value"in(Hn=r)?Hn.value:Hn.textContent,hr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=fr(n))&&(a.data=i),qn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(lr=!0,ur);case"textInput":return(e=t.data)===ur&&lr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&cr(e,t)?(e=Gn(),Kn=Wn=Hn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(sr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Xn.getPooled(mr.change,e,t,n)).type="change",N(n),qn(e),e}var gr=null,br=null;function kr(e){st(e)}function wr(e){if(we(Ln(e)))return e}function Er(e,t){if("change"===e)return t}var xr=!1;function Sr(){gr&&(gr.detachEvent("onpropertychange",_r),br=gr=null)}function _r(e){if("value"===e.propertyName&&wr(br))if(e=yr(br,e,lt(e)),U)st(e);else{U=!0;try{D(kr,e)}finally{U=!1,V()}}}function Tr(e,t,n){"focus"===e?(Sr(),br=n,(gr=t).attachEvent("onpropertychange",_r)):"blur"===e&&Sr()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return wr(br)}function Ir(e,t){if("click"===e)return wr(t)}function Ar(e,t){if("input"===e||"change"===e)return wr(t)}C&&(xr=ct("input")&&(!document.documentMode||9<document.documentMode));var Or={eventTypes:mr,_isInputEventSupported:xr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Er;else if(vr(i))if(xr)o=Ar;else{o=Cr;var u=Tr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ir);if(o&&(o=o(e,t)))return yr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Pr=Xn.extend({view:null,detail:null}),Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nr[e])&&!!t[e]}function Dr(){return Rr}var Lr=0,Mr=0,Fr=!1,Ur=!1,jr=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ur?"mousemove"===e.type?e.screenY-t:0:(Ur=!0,0)}}),Vr=jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:zr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Rn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=jr,s=zr.mouseLeave,l=zr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Vr,s=zr.pointerLeave,l=zr.pointerEnter,c="pointer");if(e=null==o?a:Ln(o),a=null==t?a:Ln(t),(s=u.getPooled(s,o,n,r)).type=c+"leave",s.target=e,s.relatedTarget=a,(n=u.getPooled(l,t,n,r)).type=c+"enter",n.target=a,n.relatedTarget=e,c=t,(r=o)&&c)e:{for(l=c,o=0,e=u=r;e;e=Fn(e))o++;for(e=0,t=l;t;t=Fn(t))e++;for(;0<o-e;)u=Fn(u),o--;for(;0<e-o;)l=Fn(l),e--;for(;o--;){if(u===l||u===l.alternate)break e;u=Fn(u),l=Fn(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)u.push(r),r=Fn(r);for(r=[];c&&c!==l&&(null===(o=c.alternate)||o!==l);)r.push(c),c=Fn(c);for(c=0;c<u.length;c++)zn(u[c],"bubbled",s);for(c=r.length;0<c--;)zn(r[c],"captured",n);return 0===(64&i)?[s]:[s,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Hr=Object.prototype.hasOwnProperty;function Wr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=C&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Xr=null,$r=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Qr||Qr!==fn(n)?null:("selectionStart"in(n=Qr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Wr(Xr,n)?null:(Xr=n,(e=Xn.getPooled(Gr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=_.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Ln(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Xr=null);break;case"blur":Xr=Yr=Qr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Jr(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Pr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Pr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ui=jr.extend({dataTransfer:null}),si=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),li=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=si;break;case Ge:case Qe:case Ye:e=ei;break;case Xe:e=li;break;case"scroll":e=Pr;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Xn}return qn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),p=Mn,v=Dn,m=Ln,T({SimpleEventPlugin:fi,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Or,SelectEventPlugin:Zr,BeforeInputEventPlugin:dr});var hi=[],di=-1;function pi(e){0>di||(e.current=hi[di],hi[di]=null,di--)}function vi(e,t){di++,hi[di]=e.current,e.current=t}var mi={},yi={current:mi},gi={current:!1},bi=mi;function ki(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){pi(gi),pi(yi)}function xi(e,t,n){if(yi.current!==mi)throw Error(o(168));vi(yi,t),vi(gi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,bi=yi.current,vi(yi,e),vi(gi,gi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Si(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,pi(gi),pi(yi),vi(yi,e)):pi(gi),vi(gi,n)}var Ci=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Oi=a.unstable_requestPaint,Pi=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,Ui={},ji=a.unstable_shouldYield,Vi=void 0!==Oi?Oi:function(){},zi=null,Bi=null,qi=!1,Hi=Pi(),Wi=1e4>Hi?Pi:function(){return Pi()-Hi};function Ki(){switch(Ni()){case Ri:return 99;case Di:return 98;case Li:return 97;case Mi:return 96;case Fi:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Di;case 97:return Li;case 96:return Mi;case 95:return Fi;default:throw Error(o(332))}}function Qi(e,t){return e=Gi(e),Ci(e,t)}function Yi(e,t,n){return e=Gi(e),Ii(e,t,n)}function Xi(e){return null===zi?(zi=[e],Bi=Ii(Ri,Ji)):zi.push(e),Ui}function $i(){if(null!==Bi){var e=Bi;Bi=null,Ai(e)}Ji()}function Ji(){if(!qi&&null!==zi){qi=!0;var e=0;try{var t=zi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ii(Ri,$i),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function ua(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function sa(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function la(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var ca=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&ha(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;ca=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var s=o.next;o.next=u.next,u.next=s}o=u,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==o){s=o.next;var l=a.baseState,c=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=l):d=d.next=v,u>c&&(c=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Es(u,p.suspenseConfig);e:{var m=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){l=m.call(v,l,u);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,l,u):m)||void 0===u)break e;l=i({},l,u);break e;case 2:ca=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=s,a.baseQueue=o=u,a.shared.pending=null}}null===d?f=l:d.next=h,a.baseState=f,a.baseQueue=d,xs(c),e.expirationTime=c,e.memoizedState=l}}function ya(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ga=X.ReactCurrentBatchConfig,ba=(new r.Component).refs;function ka(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ls(),i=ga.suspense;(i=da(r=cs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ls(),i=ga.suspense;(i=da(r=cs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ls(),r=ga.suspense;(r=da(n=cs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),fs(e,n)}};function Ea(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Wr(n,r)||!Wr(i,a))}function xa(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=la(a):(i=wi(t)?bi:yi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ba,fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=la(a):(a=wi(t)?bi:yi.current,i.context=ki(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ka(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wa.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ta=Array.isArray;function Ca(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ba&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ks(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ca(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=Ca(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ws(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ks(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=Ca(e,null,t),n.return=e,n;case te:return(t=Gs(t,e.mode,n)).return=e,t}if(Ta(t)||ve(t))return(t=Ws(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(Ta(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ta(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,u,s,l){var c=ve(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,s){var l="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===ne){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Ca(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===ne?((r=Ws(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=Ca(e,r,a),s.return=e,e=s)}return u(e);case te:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ks(a,e.mode,s)).return=e,e=r),u(e);if(Ta(a))return v(e,r,a,s);if(ve(a))return m(e,r,a,s);if(c&&Ia(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oa=Aa(!0),Pa=Aa(!1),Na={},Ra={current:Na},Da={current:Na},La={current:Na};function Ma(e){if(e===Na)throw Error(o(174));return e}function Fa(e,t){switch(vi(La,t),vi(Da,e),vi(Ra,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Ra),vi(Ra,t)}function Ua(){pi(Ra),pi(Da),pi(La)}function ja(e){Ma(La.current);var t=Ma(Ra.current),n=Fe(t,e.type);t!==n&&(vi(Da,e),vi(Ra,n))}function Va(e){Da.current===e&&(pi(Ra),pi(Da))}var za={current:0};function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===kn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qa(e,t){return{responder:e,props:t}}var Ha=X.ReactCurrentDispatcher,Wa=X.ReactCurrentBatchConfig,Ka=0,Ga=null,Qa=null,Ya=null,Xa=!1;function $a(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(Ka=a,Ga=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ha.current=null===e||null===e.memoizedState?xo:So,e=n(r,i),t.expirationTime===Ka){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ya=Qa=null,t.updateQueue=null,Ha.current=_o,e=n(r,i)}while(t.expirationTime===Ka)}if(Ha.current=Eo,t=null!==Qa&&null!==Qa.next,Ka=0,Ya=Qa=Ga=null,Xa=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e,Ya}function to(){if(null===Qa){var e=Ga.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ya?Ga.memoizedState:Ya.next;if(null!==t)Ya=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e}return Ya}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,l=i;do{var c=l.expirationTime;if(c<Ka){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,c>Ga.expirationTime&&(Ga.expirationTime=c,xs(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Es(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?a=r:s.next=u,qr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);qr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=wo.bind(null,Ga,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ga.updateQueue)?(t={lastEffect:null},Ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function uo(){return to().memoizedState}function so(e,t,n,r){var i=eo();Ga.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function lo(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&Ja(r,o.deps))return void oo(t,n,a,r)}Ga.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function co(e,t){return so(516,4,e,t)}function fo(e,t){return lo(516,4,e,t)}function ho(e,t){return lo(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lo(4,2,po.bind(null,t,e),n)}function mo(){}function yo(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function go(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ko(e,t,n){var r=Ki();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Wa.suspense;Wa.suspense=void 0===t?null:t;try{e(!1),n()}finally{Wa.suspense=r}}))}function wo(e,t,n){var r=ls(),i=ga.suspense;i={expirationTime:r=cs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ga||null!==a&&a===Ga)Xa=!0,i.expirationTime=Ka,Ga.expirationTime=Ka;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,qr(u,o))return}catch(s){}fs(e,r)}}var Eo={readContext:la,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},xo={readContext:la,useCallback:yo,useContext:la,useEffect:co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=wo.bind(null,Ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return co((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[yo(ko.bind(null,t,e),[t,e]),n]}},So={readContext:la,useCallback:go,useContext:la,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:bo,useReducer:ro,useRef:uo,useState:function(){return ro(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return fo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[go(ko.bind(null,t,e),[t,e]),n]}},_o={readContext:la,useCallback:go,useContext:la,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:bo,useReducer:io,useRef:uo,useState:function(){return io(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return fo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[go(ko.bind(null,t,e),[t,e]),n]}},To=null,Co=null,Io=!1;function Ao(e,t){var n=zs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Po(e){if(Io){var t=Co;if(t){var n=t;if(!Oo(e,t)){if(!(t=Cn(n.nextSibling))||!Oo(e,t))return e.effectTag=-1025&e.effectTag|2,Io=!1,void(To=e);Ao(To,n)}To=e,Co=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Io=!1,To=e}}function No(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;To=e}function Ro(e){if(e!==To)return!1;if(!Io)return No(e),Io=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=Co;t;)Ao(e,t),t=Cn(t.nextSibling);if(No(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn){if(0===t){Co=Cn(e.nextSibling);break e}t--}else n!==yn&&n!==kn&&n!==bn||t++}e=e.nextSibling}Co=null}}else Co=To?Cn(e.stateNode.nextSibling):null;return!0}function Do(){Co=To=null,Io=!1}var Lo=X.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Pa(t,null,n,r):Oa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return sa(t,i),r=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Wr)(i,r)&&e.ref===t.ref)?tu(e,t,a):(t.effectTag|=1,(e=qs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){return null!==e&&Wr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,tu(e,t,a)):Bo(e,t,n,r,a)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bo(e,t,n,r,i){var a=wi(n)?bi:yi.current;return a=ki(t,a),sa(t,i),n=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function qo(e,t,n,r,i){if(wi(n)){var a=!0;_i(t)}else a=!1;if(sa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),xa(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=la(l):l=ki(t,l=wi(n)?bi:yi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Sa(t,o,r,l),ca=!1;var h=t.memoizedState;o.state=h,ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||gi.current||ca?("function"===typeof c&&(ka(t,n,c,r),s=t.memoizedState),(u=ca||Ea(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ha(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:ea(t.type,u),s=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=la(l):l=ki(t,l=wi(n)?bi:yi.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Sa(t,o,r,l),ca=!1,s=t.memoizedState,o.state=s,ma(t,r,o,i),h=t.memoizedState,u!==r||s!==h||gi.current||ca?("function"===typeof c&&(ka(t,n,c,r),h=t.memoizedState),(c=ca||Ea(t,n,u,r,s,h,l))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ti(t,n,!1),tu(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Oa(t,e.child,null,a),t.child=Oa(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),Fa(e,t.containerInfo)}var Ko,Go,Qo,Yo,Xo={dehydrated:null,retryTime:0};function $o(e,t,n){var r,i=t.mode,a=t.pendingProps,o=za.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(za,1&o),null===e){if(void 0!==a.fallback&&Po(t),u){if(u=a.fallback,(a=Ws(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ws(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=Xo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Pa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=qs(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=qs(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Xo,t.child=n,i}return n=Oa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Ws(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ws(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Xo,t.child=a,n}return t.memoizedState=null,t.child=Oa(t,e,a.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ua(e.return,t)}function Zo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function eu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=za.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(za,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function tu(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&xs(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nu(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ru(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&Ei(),null;case 3:return Ua(),pi(gi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ro(t)||(t.effectTag|=4),Go(t),null;case 5:Va(t),n=Ma(La.current);var a=t.type;if(null!==e&&null!=t.stateNode)Qo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Ra.current),Ro(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[On]=t,r[Pn]=u,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":xe(r,u),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,u),Qt("invalid",r),ln(n,"onChange")}for(var s in on(a,u),e=null,u)if(u.hasOwnProperty(s)){var l=u[s];"children"===s?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):S.hasOwnProperty(s)&&null!=l&&ln(n,s)}switch(a){case"input":ke(r),Te(r,u,!0);break;case"textarea":ke(r),Re(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Me(a)),e===sn?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[On]=t,e[Pn]=r,Ko(e,t,!1,!1),t.stateNode=e,s=un(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<$e.length;l++)Qt($e[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":xe(e,r),l=Ee(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=Ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),l=Oe(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}on(a,l);var c=l;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&ze(e,f):"number"===typeof f&&ze(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(S.hasOwnProperty(u)?null!=f&&ln(n,u):null!=f&&$(e,u,f,s))}switch(a){case"input":ke(e),Te(e,r,!1);break;case"textarea":ke(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=cn)}xn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(La.current),Ma(Ra.current),Ro(t)?(n=t.stateNode,r=t.memoizedProps,n[On]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[On]=t,t.stateNode=n)}return null;case 13:return pi(za),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ro(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?qu===Ru&&(qu=Mu):(qu!==Ru&&qu!==Mu||(qu=Fu),0!==Qu&&null!==Vu&&(Xs(Vu,Bu),$s(Vu,Qu)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ua(),Go(t),null;case 10:return oa(t),null;case 19:if(pi(za),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)nu(r,!1);else if(qu!==Ru||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=Ba(u))){for(t.effectTag|=64,nu(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return vi(za,1&za.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=Ba(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),nu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,nu(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Wi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=za.current,vi(za,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function iu(e){switch(e.tag){case 1:wi(e.type)&&Ei();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ua(),pi(gi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Va(e),null;case 13:return pi(za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(za),null;case 4:return Ua(),null;case 10:return oa(e),null;default:return null}}function au(e,t){return{value:e,source:t,stack:ye(t)}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(){},Qo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,s,l=t.stateNode;switch(Ma(Ra.current),e=null,n){case"input":o=Ee(l,o),r=Ee(l,r),e=[];break;case"option":o=Ie(l,o),r=Ie(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Oe(l,o),r=Oe(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=cn)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(s in l=o[u])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(S.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(u,c)):"children"===u?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(S.hasOwnProperty(u)?(null!=c&&ln(a,u),e||l===c||(e=[])):(e=e||[]).push(u,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Yo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ou="function"===typeof WeakSet?WeakSet:Set;function uu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function su(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ls(e,n)}else t.current=null}function lu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function cu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ya(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ya(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function du(e,t,n){switch("function"===typeof js&&js(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Ls(i,a)}}e=e.next}while(e!==r)}))}break;case 1:su(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ls(e,n)}}(t,n);break;case 5:su(t);break;case 4:bu(e,t,n)}}function pu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pu(t)}function vu(e){return 5===e.tag||3===e.tag||4===e.tag}function mu(e){e:{for(var t=e.return;null!==t;){if(vu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?yu(e,n,t):gu(e,n,t)}function yu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(yu(e,t,n),e=e.sibling;null!==e;)yu(e,t,n),e=e.sibling}function gu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gu(e,t,n),e=e.sibling;null!==e;)gu(e,t,n),e=e.sibling}function bu(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,l=a,c=n,f=l;;)if(du(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,l=a.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(du(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function ku(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void cu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Pn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),un(e,i),t=un(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?rn(n,s):"dangerouslySetInnerHTML"===u?Ve(n,s):"children"===u?ze(n,s):$(n,u,s,t)}switch(e){case"input":_e(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Xu=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void wu(t);case 19:return void wu(t)}throw Error(o(163))}function wu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ou),t.forEach((function(t){var r=Fs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Eu="function"===typeof WeakMap?WeakMap:Map;function xu(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,es=r),uu(e,t)},n}function Su(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===ts?ts=new Set([this]):ts.add(this),uu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var _u,Tu=Math.ceil,Cu=X.ReactCurrentDispatcher,Iu=X.ReactCurrentOwner,Au=0,Ou=8,Pu=16,Nu=32,Ru=0,Du=1,Lu=2,Mu=3,Fu=4,Uu=5,ju=Au,Vu=null,zu=null,Bu=0,qu=Ru,Hu=null,Wu=1073741823,Ku=1073741823,Gu=null,Qu=0,Yu=!1,Xu=0,$u=500,Ju=null,Zu=!1,es=null,ts=null,ns=!1,rs=null,is=90,as=null,os=0,us=null,ss=0;function ls(){return(ju&(Pu|Nu))!==Au?1073741821-(Wi()/10|0):0!==ss?ss:ss=1073741821-(Wi()/10|0)}function cs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ki();if(0===(4&t))return 99===r?1073741823:1073741822;if((ju&Pu)!==Au)return Bu;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Vu&&e===Bu&&--e,e}function fs(e,t){if(50<os)throw os=0,us=null,Error(o(185));if(null!==(e=hs(e,t))){var n=Ki();1073741823===t?(ju&Ou)!==Au&&(ju&(Pu|Nu))===Au?ms(e):(ps(e),ju===Au&&$i()):ps(e),(4&ju)===Au||98!==n&&99!==n||(null===as?as=new Map([[e,t]]):(void 0===(n=as.get(e))||n>t)&&as.set(e,t))}}function hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Vu===i&&(xs(t),qu===Fu&&Xs(i,Bu)),$s(i,t)),i}function ds(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ys(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ps(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(ms.bind(null,e));else{var t=ds(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ls();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ui&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(ms.bind(null,e)):Yi(r,vs.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function vs(e,t){if(ss=0,t)return Js(e,t=ls()),ps(e),null;var n=ds(e);if(0!==n){if(t=e.callbackNode,(ju&(Pu|Nu))!==Au)throw Error(o(327));if(Ns(),e===Vu&&n===Bu||bs(e,n),null!==zu){var r=ju;ju|=Pu;for(var i=ws();;)try{_s();break}catch(s){ks(e,s)}if(aa(),ju=r,Cu.current=i,qu===Du)throw t=Hu,bs(e,n),Xs(e,n),ps(e),t;if(null===zu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qu,Vu=null,r){case Ru:case Du:throw Error(o(345));case Lu:Js(e,2<n?2:n);break;case Mu:if(Xs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Is(i)),1073741823===Wu&&10<(i=Xu+$u-Wi())){if(Yu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,bs(e,n);break}}if(0!==(a=ds(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(As.bind(null,e),i);break}As(e);break;case Fu:if(Xs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Is(i)),Yu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bs(e,n);break}if(0!==(i=ds(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ku?r=10*(1073741821-Ku)-Wi():1073741823===Wu?r=0:(r=10*(1073741821-Wu)-5e3,0>(r=(i=Wi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(As.bind(null,e),r);break}As(e);break;case Uu:if(1073741823!==Wu&&null!==Gu){a=Wu;var u=Gu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=Wi()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Xs(e,n),e.timeoutHandle=_n(As.bind(null,e),r);break}}As(e);break;default:throw Error(o(329))}if(ps(e),e.callbackNode===t)return vs.bind(null,e)}}return null}function ms(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(ju&(Pu|Nu))!==Au)throw Error(o(327));if(Ns(),e===Vu&&t===Bu||bs(e,t),null!==zu){var n=ju;ju|=Pu;for(var r=ws();;)try{Ss();break}catch(i){ks(e,i)}if(aa(),ju=n,Cu.current=r,qu===Du)throw n=Hu,bs(e,t),Xs(e,t),ps(e),n;if(null!==zu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Vu=null,As(e),ps(e)}return null}function ys(e,t){var n=ju;ju|=1;try{return e(t)}finally{(ju=n)===Au&&$i()}}function gs(e,t){var n=ju;ju&=-2,ju|=Ou;try{return e(t)}finally{(ju=n)===Au&&$i()}}function bs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==zu)for(n=zu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Ua(),pi(gi),pi(yi);break;case 5:Va(r);break;case 4:Ua();break;case 13:case 19:pi(za);break;case 10:oa(r)}n=n.return}Vu=e,zu=qs(e.current,null),Bu=t,qu=Ru,Hu=null,Ku=Wu=1073741823,Gu=null,Qu=0,Yu=!1}function ks(e,t){for(;;){try{if(aa(),Ha.current=Eo,Xa)for(var n=Ga.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ka=0,Ya=Qa=Ga=null,Xa=!1,null===zu||null===zu.return)return qu=Du,Hu=t,zu=null;e:{var i=e,a=zu.return,o=zu,u=t;if(t=Bu,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&za.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(s),f.updateQueue=m}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=da(1073741823,null);y.tag=2,pa(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new Eu,u=new Set,g.set(s,u)):void 0===(u=g.get(s))&&(u=new Set,g.set(s,u)),!u.has(o)){u.add(o);var b=Ms.bind(null,i,s,o);s.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}qu!==Uu&&(qu=Lu),u=au(u,o),f=a;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,va(f,xu(f,s,t));break e;case 1:s=u;var k=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===ts||!ts.has(w)))){f.effectTag|=4096,f.expirationTime=t,va(f,Su(f,s,t));break e}}f=f.return}while(null!==f)}zu=Cs(zu)}catch(E){t=E;continue}break}}function ws(){var e=Cu.current;return Cu.current=Eo,null===e?Eo:e}function Es(e,t){e<Wu&&2<e&&(Wu=e),null!==t&&e<Ku&&2<e&&(Ku=e,Gu=t)}function xs(e){e>Qu&&(Qu=e)}function Ss(){for(;null!==zu;)zu=Ts(zu)}function _s(){for(;null!==zu&&!ji();)zu=Ts(zu)}function Ts(e){var t=_u(e.alternate,e,Bu);return e.memoizedProps=e.pendingProps,null===t&&(t=Cs(e)),Iu.current=null,t}function Cs(e){zu=e;do{var t=zu.alternate;if(e=zu.return,0===(2048&zu.effectTag)){if(t=ru(t,zu,Bu),1===Bu||1!==zu.childExpirationTime){for(var n=0,r=zu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}zu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=zu.firstEffect),null!==zu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=zu.firstEffect),e.lastEffect=zu.lastEffect),1<zu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=zu:e.firstEffect=zu,e.lastEffect=zu))}else{if(null!==(t=iu(zu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=zu.sibling))return t;zu=e}while(null!==zu);return qu===Ru&&(qu=Uu),null}function Is(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function As(e){var t=Ki();return Qi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ns()}while(null!==rs);if((ju&(Pu|Nu))!==Au)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Is(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Vu&&(zu=Vu=null,Bu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=ju;ju|=Nu,Iu.current=null,wn=Gt;var u=vn();if(mn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var l=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch(T){s=null;break e}var h=0,d=-1,p=-1,v=0,m=0,y=u,g=null;t:for(;;){for(var b;y!==s||0!==c&&3!==y.nodeType||(d=h+c),y!==f||0!==l&&3!==y.nodeType||(p=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===u)break t;if(g===s&&++v===c&&(d=h),g===f&&++m===l&&(p=h),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;En={activeElementDetached:null,focusedElem:u,selectionRange:s},Gt=!1,Ju=i;do{try{Ps()}catch(T){if(null===Ju)throw Error(o(330));Ls(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);Ju=i;do{try{for(u=e,s=t;null!==Ju;){var k=Ju.effectTag;if(16&k&&ze(Ju.stateNode,""),128&k){var w=Ju.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&k){case 2:mu(Ju),Ju.effectTag&=-3;break;case 6:mu(Ju),Ju.effectTag&=-3,ku(Ju.alternate,Ju);break;case 1024:Ju.effectTag&=-1025;break;case 1028:Ju.effectTag&=-1025,ku(Ju.alternate,Ju);break;case 4:ku(Ju.alternate,Ju);break;case 8:bu(u,c=Ju,s),pu(c)}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Ls(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);if(E=En,w=vn(),k=E.focusedElem,s=E.selectionRange,w!==k&&k&&k.ownerDocument&&pn(k.ownerDocument.documentElement,k)){null!==s&&mn(k)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(E,k.value.length)):(E=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),c=k.textContent.length,u=Math.min(s.start,c),s=void 0===s.end?u:Math.min(s.end,c),!E.extend&&u>s&&(c=s,s=u,u=c),c=dn(k,u),f=dn(k,s),c&&f&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((w=w.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),u>s?(E.addRange(w),E.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),E.addRange(w))))),w=[];for(E=k;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(E=w[k]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!wn,En=wn=null,e.current=n,Ju=i;do{try{for(k=e;null!==Ju;){var x=Ju.effectTag;if(36&x&&hu(k,Ju.alternate,Ju),128&x){w=void 0;var S=Ju.ref;if(null!==S){var _=Ju.stateNode;Ju.tag,w=_,"function"===typeof S?S(w):S.current=w}}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Ls(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);Ju=null,Vi(),ju=a}else e.current=n;if(ns)ns=!1,rs=e,is=t;else for(Ju=i;null!==Ju;)t=Ju.nextEffect,Ju.nextEffect=null,Ju=t;if(0===(t=e.firstPendingTime)&&(ts=null),1073741823===t?e===us?os++:(os=0,us=e):os=0,"function"===typeof Us&&Us(n.stateNode,r),ps(e),Zu)throw Zu=!1,e=es,es=null,e;return(ju&Ou)!==Au||$i(),null}function Ps(){for(;null!==Ju;){var e=Ju.effectTag;0!==(256&e)&&lu(Ju.alternate,Ju),0===(512&e)||ns||(ns=!0,Yi(97,(function(){return Ns(),null}))),Ju=Ju.nextEffect}}function Ns(){if(90!==is){var e=97<is?97:is;return is=90,Qi(e,Rs)}}function Rs(){if(null===rs)return!1;var e=rs;if(rs=null,(ju&(Pu|Nu))!==Au)throw Error(o(331));var t=ju;for(ju|=Nu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:cu(5,n),fu(5,n)}}catch(r){if(null===e)throw Error(o(330));Ls(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ju=t,$i(),!0}function Ds(e,t,n){pa(e,t=xu(e,t=au(n,t),1073741823)),null!==(e=hs(e,1073741823))&&ps(e)}function Ls(e,t){if(3===e.tag)Ds(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ds(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ts||!ts.has(r))){pa(n,e=Su(n,e=au(t,e),1073741823)),null!==(n=hs(n,1073741823))&&ps(n);break}}n=n.return}}function Ms(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Vu===e&&Bu===n?qu===Fu||qu===Mu&&1073741823===Wu&&Wi()-Xu<$u?bs(e,Bu):Yu=!0:Ys(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ps(e)))}function Fs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=cs(t=ls(),e,null)),null!==(e=hs(e,t))&&ps(e)}_u=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||gi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:Wo(t),Do();break;case 5:if(ja(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&_i(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$o(e,t,n):(vi(za,1&za.current),null!==(t=tu(e,t,n))?t.sibling:null);vi(za,1&za.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return eu(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(za,za.current),!r)return null}return tu(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=ki(t,yi.current),sa(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ka(t,r,u,e),i.updater=wa,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=ea(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ha(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=tu(e,t,n);else{if((i=t.stateNode.hydrate)&&(Co=Cn(t.stateNode.containerInfo.firstChild),To=t,i=Io=!0),i)for(n=Pa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fo(e,t,r,n),Do();t=t.child}return t;case 5:return ja(t),null===e&&Po(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Sn(r,i)?u=null:null!==a&&Sn(r,a)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fo(e,t,u,n),t=t.child),t;case 6:return null===e&&Po(t),null;case 13:return $o(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(vi(ta,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=qr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!gi.current){t=tu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===s.tag&&((c=da(n,null)).tag=2,pa(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ua(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,sa(t,n),r=r(i=la(i,a.unstable_observedBits)),t.effectTag|=1,Fo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),jo(e,t,i,a=ea(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,_i(t)):e=!1,sa(t,n),xa(t,r,i),_a(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return eu(e,t,n)}throw Error(o(156,t.tag))};var Us=null,js=null;function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zs(e,t,n,r){return new Vs(e,t,n,r)}function Bs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qs(e,t){var n=e.alternate;return null===n?((n=zs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Bs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Ws(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=zs(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case le:return(e=zs(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=a,e;case ce:return(e=zs(19,n,t,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zs(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ws(e,t,n,r){return(e=zs(7,e,r,t)).expirationTime=n,e}function Ks(e,t,n){return(e=zs(6,e,null,t)).expirationTime=n,e}function Gs(e,t,n){return(t=zs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ys(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Xs(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $s(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Js(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zs(e,t,n,r){var i=t.current,a=ls(),u=ga.suspense;a=cs(a,i,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(wi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var l=n.type;if(wi(l)){n=Si(n,l,s);break e}}n=s}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),fs(i,a),a}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qs(e,t,n=null!=n&&!0===n.hydrate),i=zs(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fa(i),e[Nn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Ct.forEach((function(e){vt(e,t,n)})),It.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=el(o);u.call(e)}}Zs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=el(o);s.call(e)}}gs((function(){Zs(t,o,e,i)}))}return el(o)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Nn]=null}))},mt=function(e){if(13===e.tag){var t=Zi(ls(),150,100);fs(e,t),nl(e,t)}},yt=function(e){13===e.tag&&(fs(e,3),nl(e,3))},gt=function(e){if(13===e.tag){var t=ls();fs(e,t=cs(t,e,null)),nl(e,t)}},I=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));we(r),_e(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=ys,L=function(e,t,n,r,i){var a=ju;ju|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(ju=a)===Au&&$i()}},M=function(){(ju&(1|Pu|Nu))===Au&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e,t){Js(t,e),ps(t)})),$i()}}(),Ns())},F=function(e,t){var n=ju;ju|=2;try{return e(t)}finally{(ju=n)===Au&&$i()}};var ul={Events:[Dn,Ln,Mn,T,x,qn,function(e){at(e,Bn)},N,R,Jt,st,Ns,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Us=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},js=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((ju&(Pu|Nu))!==Au)throw Error(o(187));var n=ju;ju|=1;try{return Qi(99,e.bind(null,t))}finally{ju=n,$i()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(o(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(o(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(o(40));return!!e._reactRootContainer&&(gs((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[Nn]=null}))})),!0)},t.unstable_batchedUpdates=ys,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return al(e,t,n,!1,r)},t.version="16.13.1"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},574:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.SuspenseList=d,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===f},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===p},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===o},t.isSuspense=function(e){return y(e)===h},t.isSuspenseList=function(e){return y(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===o||e===h||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},599:function(e,t,n){"use strict";e.exports=n(574)},117:function(e,t,n){"use strict";var r=n(725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var x=E.prototype=new w;x.constructor=E,r(x,k.prototype),x.isPureReactComponent=!0;var S={current:null},_=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,O=[];function P(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return n(r,e,""===t?"."+L(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=t+L(i=e[s],s);u+=R(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=m&&e[m]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),s=0;!(i=e.next()).done;)u+=R(i=i.value,l=t+L(i,s++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function D(e,t,n){return null==e?0:R(e,"",t,n)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),D(e,F,t=P(t,a,r,i)),N(t)}var j={current:null};function V(){var e=j.current;if(null===e)throw Error(y(321));return e}var z={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,M,t=P(null,null,t,n)),N(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(y(143));return e}},t.Component=k,t.Fragment=u,t.Profiler=l,t.PureComponent=E,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.13.1"},791:function(e,t,n){"use strict";e.exports=n(117)},813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,s=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(l,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var y=!1,g=null,b=-1,k=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+k;try{g(!0,e)?x.postMessage(null):(y=!1,g=null)}catch(n){throw x.postMessage(null),n}}else y=!1},n=function(e){g=e,y||(y=!0,x.postMessage(null))},r=function(e,n){b=d((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>C(o,n))void 0!==s&&0>C(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>C(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],A=[],O=1,P=null,N=3,R=!1,D=!1,L=!1;function M(e){for(var t=_(A);null!==t;){if(null===t.callback)T(A);else{if(!(t.startTime<=e))break;T(A),t.sortIndex=t.expirationTime,S(I,t)}t=_(A)}}function F(e){if(L=!1,M(e),!D)if(null!==_(I))D=!0,n(U);else{var t=_(A);null!==t&&r(F,t.startTime-e)}}function U(e,n){D=!1,L&&(L=!1,i()),R=!0;var o=N;try{for(M(n),P=_(I);null!==P&&(!(P.expirationTime>n)||e&&!a());){var u=P.callback;if(null!==u){P.callback=null,N=P.priorityLevel;var s=u(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===_(I)&&T(I),M(n)}else T(I);P=_(I)}if(null!==P)var l=!0;else{var c=_(A);null!==c&&r(F,c.startTime-n),l=!1}return l}finally{P=null,N=o,R=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?u+s:u,o="number"===typeof o.timeout?o.timeout:j(e)}else o=j(e),s=u;return e={id:O++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>u?(e.sortIndex=s,S(A,e),null===_(I)&&e===_(A)&&(L?i():L=!0,r(F,s-u))):(e.sortIndex=o,S(I,e),D||R||(D=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=_(I);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},426:function(e,t,n){var r=n(65);function i(e,t){var n,i=null;if(!e||"string"!==typeof e)return i;for(var a,o,u=r(e),s="function"===typeof t,l=0,c=u.length;l<c;l++)a=(n=u[l]).property,o=n.value,s?t(a,o,n):o&&(i||(i={}),i[a]=o);return i}e.exports=i,e.exports.default=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{attentionMarkers:function(){return BT},contentInitial:function(){return MT},disable:function(){return qT},document:function(){return LT},flow:function(){return UT},flowInitial:function(){return FT},insideSpan:function(){return zT},string:function(){return jT},text:function(){return VT}});var t={};n.r(t),n.d(t,{boolean:function(){return UC},booleanish:function(){return jC},commaOrSpaceSeparated:function(){return HC},commaSeparated:function(){return qC},number:function(){return zC},overloadedBoolean:function(){return VC},spaceSeparated:function(){return BC}});var r,i=n(791),a=n.t(i,2),o=n(164),u=n.t(o,2);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||l(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){var t=k();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function x(e,t,n){return x=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},x.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return x(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},S(e)}function _(e){if(Array.isArray(e))return e}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){return _(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||c(e,t)||T()}function I(e){return _(e)||l(e)||c(e)||T()}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var P,N="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),O({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,l=void 0!==s&&s,c=u.history,f=r.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:t})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:F(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(O({},c.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),h=e,function(){u.removeEventListener(N,v),h=null}},createHref:function(e){return t(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=M(y.location,e,t);n&&n(i,e);var a=L(i,d=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}l&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,t){f=r.Replace;var i=M(y.location,e,t);n&&n(i,e);var a=L(i,d=p()),o=y.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n){void 0===n&&(n="/");var r=ee(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],Z(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ae([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:X(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),s=[];return s.push.apply(s,f(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,f(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:\w+$/,H=3,W=2,K=1,G=10,Q=-2,Y=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=Q),t&&(r+=W),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(q.test(t)?H:""===t?K:G)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=J({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:ae([i,c.pathname]),pathnameBase:oe(ae([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=ae([i,c.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=C(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=l[n]||"";s=u.slice(0,u.length-a.length).replace(/(.)\/+$/,"$1")}var o=l[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o||"",r),e}),{});return{params:c,pathname:u,pathnameBase:s,pattern:e}}function Z(e){try{return decodeURI(e)}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function te(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function re(e){return ne(e).map((function(t,n){return n===e.length-1?t.pathname:t.pathnameBase}))}function ie(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(R(!(i=O({},e)).pathname||!i.pathname.includes("?"),te("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),te("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),te("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(null==u)a=n;else if(r){var s=t[t.length-1].replace(/^\//,"").split("/");if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s.pop();i.pathname=l.join("/")}a="/"+s.join("/")}else{var c=t.length-1;if(u.startsWith("..")){for(var f=u.split("/");".."===f[0];)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?t[c]:"/"}var h=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ue(a),hash:se(u)}}(i,a),d=u&&"/"!==u&&u.endsWith("/"),p=(o||"."===u)&&n.endsWith("/");return h.pathname.endsWith("/")||!d&&!p||(h.pathname+="/"),h}var ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},oe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ue=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},se=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},le=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(S(Error));function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fe=["post","put","patch","delete"],he=(new Set(fe),["get"].concat(fe));new Set(he),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext(null);var ge=i.createContext(null);var be=i.createContext({outlet:null,matches:[],isDataRoute:!1});var ke=i.createContext(null);function we(){return null!=i.useContext(ge)}function Ee(){return we()||R(!1),i.useContext(ge).location}function xe(e){i.useContext(ye).static||i.useLayoutEffect(e)}function Se(){return i.useContext(be).isDataRoute?function(){var e=De(Ne.UseNavigateStable).router,t=Me(Re.UseNavigateStable),n=i.useRef(!1);xe((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,de({fromRouteId:t},i)))}),[e,t]);return r}():function(){we()||R(!1);var e=i.useContext(pe),t=i.useContext(ye),n=t.basename,r=t.navigator,a=i.useContext(be).matches,o=Ee().pathname,u=JSON.stringify(re(a)),s=i.useRef(!1);xe((function(){s.current=!0}));var l=i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ie(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ae([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e]);return l}()}function _e(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(be).matches,a=Ee().pathname,o=JSON.stringify(re(r));return i.useMemo((function(){return ie(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(e,t,n){we()||R(!1);var a,o=i.useContext(ye).navigator,u=i.useContext(be).matches,s=u[u.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ee());if(t){var h,d="string"===typeof t?U(t):t;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||R(!1),a=d}else a=f;var p=a.pathname||"/",v=V(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Pe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ae([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ae([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,n);return t&&m?i.createElement(ge.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:r.Pop}},m):m}function Ce(){var e=function(){var e,t=i.useContext(ke),n=Le(Re.UseRouteError),r=Me(Re.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=ce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Ie=i.createElement(Ce,null),Ae=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(be.Provider,{value:this.props.routeContext},i.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Oe(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(pe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(be.Provider,{value:t},r)}function Pe(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,l=null;n&&(l=r.route.errorElement||Ie);var c=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?l:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Oe,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Ae,{location:n.location,revalidation:n.revalidation,component:l,error:s,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}var Ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ne||{}),Re=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Re||{});function De(e){var t=i.useContext(pe);return t||R(!1),t}function Le(e){var t=i.useContext(ve);return t||R(!1),t}function Me(e){var t=function(e){var t=i.useContext(be);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}a.startTransition;function Fe(e){R(!1)}function Ue(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,l=void 0===s?r.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;we()&&R(!1);var d=n.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof u&&(u=U(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,E=v.state,x=void 0===E?null:E,S=v.key,_=void 0===S?"default":S,T=i.useMemo((function(){var e=ee(y,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:x,key:_},navigationType:l}}),[d,y,b,w,x,_,l]);return null==T?null:i.createElement(ye.Provider,{value:p},i.createElement(ge.Provider,{children:o,value:T}))}function je(e){var t=e.children,n=e.location;return Te(Be(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),ze=new Promise((function(){}));i.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(f(t),[r]);if(e.type!==i.Fragment){e.type!==Fe&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}var qe={SIGN_IN:"/signin",SIGN_UP:"/signup",LANDING:"/",HOME:"/reveal-clues-quiz",ACCOUNT:"/account",ADMIN:"/admin",PASSWORD_FORGET:"/pw-forget",QUIZ:"/quiz/:id",NEW_QUIZ:"/newquiz"};function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;var Ge=a.startTransition;u.flushSync;function Qe(e){var t,n=e.basename,r=e.children,a=e.future,o=e.window,u=i.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),j((function(e,t){var n=U(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),M("",{pathname:i,search:o,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:F(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var s=u.current,l=C(i.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1],h=(a||{}).v7_startTransition,d=i.useCallback((function(e){h&&Ge?Ge((function(){return f(e)})):f(e)}),[f,h]);return i.useLayoutEffect((function(){return s.listen(d)}),[s,d]),i.createElement(Ue,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=i.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,l=e.target,c=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=We(e,Ke),p=i.useContext(ye).basename,v=!1;if("string"===typeof c&&Xe.test(c)&&(n=c,Ye))try{var m=new URL(window.location.href),y=c.startsWith("//")?new URL(m.protocol+c):new URL(c),g=ee(y.pathname,p);y.origin===m.origin&&null!=g?c=g+y.search+y.hash:v=!0}catch(w){}var b=function(e,t){var n=(void 0===t?{}:t).relative;we()||R(!1);var r=i.useContext(ye),a=r.basename,o=r.navigator,u=_e(e,{relative:n}),s=u.hash,l=u.pathname,c=u.search,f=l;return"/"!==a&&(f="/"===l?a:ae([a,l])),o.createHref({pathname:f,search:c,hash:s})}(c,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,l=n.unstable_viewTransition,c=Se(),f=Ee(),h=_e(e,{relative:s});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:F(f)===F(h);c(e,{replace:n,state:o,preventScrollReset:u,relative:s,unstable_viewTransition:l})}}),[f,c,h,a,o,r,e,u,s,l])}(c,{replace:u,state:s,target:l,preventScrollReset:f,relative:a,unstable_viewTransition:h});return i.createElement("a",He({},d,{href:n||b,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:l}))}));var Je,Ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Je||(Je={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ze||(Ze={}));function et(){et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:E(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function tt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tt(a,r,i,o,u,"next",e)}function u(e){tt(a,r,i,o,u,"throw",e)}o(void 0)}))}}function rt(){return rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rt.apply(this,arguments)}function it(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(at(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ut;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ut=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(S(Error)),st=function(e){return function(e){var t=at(e);return ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},lt=function(e){try{return ot.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ct=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ft=function(){try{return ct()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/reveal-clues-quiz",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&lt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ht=function(e){var t,n;return null===(n=null===(t=ft())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},dt=function(){var e;return null===(e=ft())||void 0===e?void 0:e.config},pt=function(e){var t;return null===(t=ft())||void 0===t?void 0:t["_".concat(e)]},vt=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gt=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),bt.prototype.create),a}return m(n)}(S(Error)),bt=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(kt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gt(n,a,t)}}]),e}();var kt=/\{\$([^}]+)}/g;function wt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Et(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(xt(u)&&xt(s)){if(!Et(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function xt(e){return null!==e&&"object"===typeof e}function St(e){for(var t=[],n=function(){var e=C(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _t(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=C(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ct=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=It),void 0===r.error&&(r.error=It),void 0===r.complete&&(r.complete=It);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function It(){}function At(e){return e&&e._delegate?e._delegate:e}var Ot=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pt="[DEFAULT]",Nt=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new vt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch(s){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=C(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=C(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(UE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(UE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.component?this.component.multipleInstances?e:Pt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Rt,Dt,Lt=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dt||(Dt={}));var Ft={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Ut=Dt.INFO,jt=(it(Rt={},Dt.DEBUG,"log"),it(Rt,Dt.VERBOSE,"log"),it(Rt,Dt.INFO,"info"),it(Rt,Dt.WARN,"warn"),it(Rt,Dt.ERROR,"error"),Rt),Vt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=jt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zt=function(){function e(t){h(this,e),this.name=t,this._logLevel=Ut,this._logHandler=Vt,this._userLogHandler=null,Mt.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ft[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.INFO].concat(t)),this._logHandler.apply(this,[this,Dt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.WARN].concat(t)),this._logHandler.apply(this,[this,Dt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dt.ERROR].concat(t)),this._logHandler.apply(this,[this,Dt.ERROR].concat(t))}}]),e}();function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht,Wt,Kt=function(e,t){return t.some((function(t){return e instanceof t}))};var Gt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,$t=new WeakMap;var Jt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nn(this),n),tn(Gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tn(e.apply(nn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[nn(this),t].concat(r));return Yt.set(a,t.sort?t.sort():[t]),tn(a)}}function en(e){return"function"===typeof e?Zt(e):(e instanceof IDBTransaction&&function(e){if(!Qt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Qt.set(e,t)}}(e),Kt(e,Ht||(Ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Jt):e)}function tn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(tn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Gt.set(t,e)})).catch((function(){})),$t.set(t,e),t}(e);if(Xt.has(e))return Xt.get(e);var t=en(e);return t!==e&&(Xt.set(e,t),$t.set(t,e)),t}var nn=function(e){return $t.get(e)};var rn,an,on=["get","getKey","getAll","getAllKeys","count"],un=["put","add","delete","clear"],sn=new Map;function ln(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(sn.get(t))return sn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=un.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||on.includes(n))){var a=function(){var e=nt(et().mark((function e(t){var a,o,u,s,l,c,f=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return sn.set(t,a),a}}}Jt=function(e){return qt(qt({},e),{},{get:function(t,n,r){return ln(t,n)||e.get(t,n,r)},has:function(t,n){return!!ln(t,n)||e.has(t,n)}})}(Jt);var cn=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var fn="@firebase/app",hn="0.9.23",dn=new zt("@firebase/app"),pn="[DEFAULT]",vn=(it(rn={},fn,"fire-core"),it(rn,"@firebase/app-compat","fire-core-compat"),it(rn,"@firebase/analytics","fire-analytics"),it(rn,"@firebase/analytics-compat","fire-analytics-compat"),it(rn,"@firebase/app-check","fire-app-check"),it(rn,"@firebase/app-check-compat","fire-app-check-compat"),it(rn,"@firebase/auth","fire-auth"),it(rn,"@firebase/auth-compat","fire-auth-compat"),it(rn,"@firebase/database","fire-rtdb"),it(rn,"@firebase/database-compat","fire-rtdb-compat"),it(rn,"@firebase/functions","fire-fn"),it(rn,"@firebase/functions-compat","fire-fn-compat"),it(rn,"@firebase/installations","fire-iid"),it(rn,"@firebase/installations-compat","fire-iid-compat"),it(rn,"@firebase/messaging","fire-fcm"),it(rn,"@firebase/messaging-compat","fire-fcm-compat"),it(rn,"@firebase/performance","fire-perf"),it(rn,"@firebase/performance-compat","fire-perf-compat"),it(rn,"@firebase/remote-config","fire-rc"),it(rn,"@firebase/remote-config-compat","fire-rc-compat"),it(rn,"@firebase/storage","fire-gcs"),it(rn,"@firebase/storage-compat","fire-gcs-compat"),it(rn,"@firebase/firestore","fire-fst"),it(rn,"@firebase/firestore-compat","fire-fst-compat"),it(rn,"fire-js","fire-js"),it(rn,"firebase","fire-js-all"),rn),mn=new Map,yn=new Map;function gn(e,t){try{e.container.addComponent(t)}catch(n){dn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function bn(e){var t=e.name;if(yn.has(t))return dn.debug("There were multiple attempts to register component ".concat(t,".")),!1;yn.set(t,e);var n,r=A(mn.values());try{for(r.s();!(n=r.n()).done;){gn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var wn=(it(an={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),it(an,"bad-app-name","Illegal App name: '{$appName}"),it(an,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),it(an,"app-deleted","Firebase App named '{$appName}' already deleted"),it(an,"no-options","Need to provide options, when not being deployed to hosting via source."),it(an,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),it(an,"invalid-log-argument","First argument to `onLog` must be null or a function."),it(an,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),it(an,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),it(an,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),it(an,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),an),En=new bt("app","Firebase",wn),xn=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}]),e}(),Sn="10.6.0";function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw En.create("bad-app-name",{appName:String(i)});if(n||(n=dt()),!n)throw En.create("no-options");var a=mn.get(i);if(a){if(Et(n,a.options)&&Et(r,a.config))return a;throw En.create("duplicate-app",{appName:i})}var o,u=new Lt(i),s=A(yn.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new xn(n,r,u);return mn.set(i,c),c}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=mn.get(e);if(!t&&e===pn&&dt())return _n();if(!t)throw En.create("no-app",{appName:e});return t}function Cn(e,t,n){var r,i=null!==(r=vn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dn.warn(u.join(" "))}bn(new Ot("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var In="firebase-heartbeat-database",An=1,On="firebase-heartbeat-store",Pn=null;function Nn(){return Pn||(Pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=tn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(tn(u.result),e.oldVersion,e.newVersion,tn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(In,An,{upgrade:function(e,t){if(0===t)e.createObjectStore(On)}}).catch((function(e){throw En.create("idb-open",{originalErrorMessage:e.message})}))),Pn}function Rn(e){return Dn.apply(this,arguments)}function Dn(){return Dn=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nn();case 3:return n=e.sent,e.next=6,n.transaction(On).objectStore(On).get(Fn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof gt?dn.warn(e.t0.message):(i=En.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),dn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Dn.apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nn();case 3:return r=e.sent,i=r.transaction(On,"readwrite"),a=i.objectStore(On),e.next=8,a.put(n,Fn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof gt?dn.warn(e.t0.message):(o=En.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),dn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Mn.apply(this,arguments)}function Fn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Un=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=nt(et().mark((function e(){var t,n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=jn(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:r});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=jn(),r=Vn(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=st(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jn(){return(new Date).toISOString().substring(0,10)}function Vn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zn,Bn=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qn(e){return st(JSON.stringify({version:2,heartbeats:e})).length}zn="",bn(new Ot("platform-logger",(function(e){return new cn(e)}),"PRIVATE")),bn(new Ot("heartbeat",(function(e){return new Un(e)}),"PRIVATE")),Cn(fn,hn,zn),Cn(fn,hn,"esm2017"),Cn("fire-js","");var Hn,Wn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kn={},Gn=Gn||{},Qn=Wn||self;function Yn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $n="closure_uid_"+(1e9*Math.random()>>>0),Jn=0;function Zn(e,t,n){return e.call.apply(e.bind,arguments)}function er(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tr(e,t,n){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zn:er).apply(null,arguments)}function nr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ir(){this.s=this.s,this.o=this.o}ir.prototype.s=!1,ir.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,$n)&&e[$n]||(e[$n]=++Jn))},ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ar=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function or(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ur(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Yn(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function sr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var lr=function(){if(!Qn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qn.addEventListener("test",(function(){}),t),Qn.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function cr(e){return/^[\s\xa0]*$/.test(e)}function fr(){var e=Qn.navigator;return e&&(e=e.userAgent)?e:""}function hr(e){return-1!=fr().indexOf(e)}function dr(e){return dr[" "](e),e}dr[" "]=function(){};var pr,vr,mr=hr("Opera"),yr=hr("Trident")||hr("MSIE"),gr=hr("Edge"),br=gr||yr,kr=hr("Gecko")&&!(-1!=fr().toLowerCase().indexOf("webkit")&&!hr("Edge"))&&!(hr("Trident")||hr("MSIE"))&&!hr("Edge"),wr=-1!=fr().toLowerCase().indexOf("webkit")&&!hr("Edge");function Er(){var e=Qn.document;return e?e.documentMode:void 0}e:{var xr="",Sr=function(){var e=fr();return kr?/rv:([^\);]+)(\)|;)/.exec(e):gr?/Edge\/([\d\.]+)/.exec(e):yr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wr?/WebKit\/(\S+)/.exec(e):mr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Sr&&(xr=Sr?Sr[1]:""),yr){var _r=Er();if(null!=_r&&_r>parseFloat(xr)){pr=String(_r);break e}}pr=xr}if(Qn.document&&yr){var Tr=Er();vr=Tr||(parseInt(pr,10)||void 0)}else vr=void 0;var Cr=vr;function Ir(e,t){if(sr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kr){e:{try{dr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ar[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ir.$.h.call(this)}}rr(Ir,sr);var Ar={2:"touch",3:"pen",4:"mouse"};Ir.prototype.h=function(){Ir.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Or="closure_listenable_"+(1e6*Math.random()|0),Pr=0;function Nr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Pr,this.fa=this.ia=!1}function Rr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Dr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Lr(e){var t={};for(var n in e)t[n]=e[n];return t}var Mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Mr.length;a++)n=Mr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ur(e){this.src=e,this.g={},this.h=0}function jr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ar(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Rr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ur.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Vr(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Nr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var zr="closure_lm_"+(1e6*Math.random()|0),Br={};function qr(e,t,n,r,i){if(r&&r.once)return Wr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qr(e,t[a],n,r,i);return null}return n=Jr(n),e&&e[Or]?e.O(t,n,Xn(r)?!!r.capture:!!r,i):Hr(e,t,n,!1,r,i)}function Hr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xn(i)?!!i.capture:!!i,u=Xr(e);if(u||(e[zr]=u=new Ur(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Yr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wr(e,t[a],n,r,i);return null}return n=Jr(n),e&&e[Or]?e.P(t,n,Xn(r)?!!r.capture:!!r,i):Hr(e,t,n,!0,r,i)}function Kr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Kr(e,t[a],n,r,i);else r=Xn(r)?!!r.capture:!!r,n=Jr(n),e&&e[Or]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vr(a=e.g[t],n,r,i))&&(Rr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Xr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vr(t,n,r,i)),(n=-1<e?t[e]:null)&&Gr(n))}function Gr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Or])jr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xr(t))?(jr(n,e),0==n.h&&(n.src=null,t[zr]=null)):Rr(e)}}}function Qr(e){return e in Br?Br[e]:Br[e]="on"+e}function Yr(e,t){if(e.fa)e=!0;else{t=new Ir(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Gr(e),e=n.call(r,t)}return e}function Xr(e){return(e=e[zr])instanceof Ur?e:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(e){return"function"===typeof e?e:(e[$r]||(e[$r]=function(t){return e.handleEvent(t)}),e[$r])}function Zr(){ir.call(this),this.i=new Ur(this),this.S=this,this.J=null}function ei(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new sr(t,e);else if(t instanceof sr)t.target=t.target||e;else{var i=t;Fr(t=new sr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ti(o,r,!0,t)&&i}if(i=ti(o=t.g=e,r,!0,t)&&i,i=ti(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ti(o=t.g=n[a],r,!1,t)&&i}function ti(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&jr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}rr(Zr,ir),Zr.prototype[Or]=!0,Zr.prototype.removeEventListener=function(e,t,n,r){Kr(this,e,t,n,r)},Zr.prototype.N=function(){if(Zr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rr(n[r]);delete t.g[e],t.h--}}this.J=null},Zr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ni=Qn.JSON.stringify,ri=function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ii(){var e=hi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ai=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=oi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),oi=new ri((function(){return new ui}),(function(e){return e.reset()})),ui=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function si(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function li(e){Qn.setTimeout((function(){throw e}),0)}var ci,fi=!1,hi=new ai,di=function(){var e=Qn.Promise.resolve(void 0);ci=function(){e.then(pi)}},pi=function(){for(var e;e=ii();){try{e.h.call(e.g)}catch(n){li(n)}var t=oi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fi=!1};function vi(e,t){Zr.call(this),this.h=e||1,this.g=t||Qn,this.j=tr(this.qb,this),this.l=Date.now()}function mi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function yi(e,t,n){if("function"===typeof e)n&&(e=tr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qn.setTimeout(e,t||0)}function gi(e){e.g=yi((function(){e.g=null,e.i&&(e.i=!1,gi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rr(vi,Zr),(Hn=vi.prototype).ga=!1,Hn.T=null,Hn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ei(this,"tick"),this.ga&&(mi(this),this.start()))}},Hn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hn.N=function(){vi.$.N.call(this),mi(this),delete this.g};var bi=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gi(this)}},{key:"N",value:function(){rt(b(n.prototype),"N",this).call(this),this.g&&(Qn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ir);function ki(e){ir.call(this),this.h=e,this.g={}}rr(ki,ir);var wi=[];function Ei(e,t,n,r){Array.isArray(n)||(n&&(wi[0]=n.toString()),n=wi);for(var i=0;i<n.length;i++){var a=qr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xi(e){Dr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gr(e)}),e),e.g={}}function Si(){this.g=!0}function _i(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ni(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ki.prototype.N=function(){ki.$.N.call(this),xi(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Si.prototype.Ea=function(){this.g=!1},Si.prototype.info=function(){};var Ti={},Ci=null;function Ii(){return Ci=Ci||new Zr}function Ai(e){sr.call(this,Ti.Ta,e)}function Oi(e){var t=Ii();ei(t,new Ai(t))}function Pi(e,t){sr.call(this,Ti.STAT_EVENT,e),this.stat=t}function Ni(e){var t=Ii();ei(t,new Pi(t,e))}function Ri(e,t){sr.call(this,Ti.Ua,e),this.size=t}function Di(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qn.setTimeout((function(){e()}),t)}Ti.Ta="serverreachability",rr(Ai,sr),Ti.STAT_EVENT="statevent",rr(Pi,sr),Ti.Ua="timingevent",rr(Ri,sr);var Li={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fi(){}function Ui(e){return e.h||(e.h=e.i())}function ji(){}Fi.prototype.h=null;var Vi,zi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bi(){sr.call(this,"d")}function qi(){sr.call(this,"c")}function Hi(){}function Wi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ki(this),this.P=Gi,e=br?125:void 0,this.V=new vi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}rr(Bi,sr),rr(qi,sr),rr(Hi,Fi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Vi=new Hi;var Gi=45e3,Qi={},Yi={};function Xi(e,t,n){e.L=1,e.v=va(ca(t)),e.s=n,e.S=!0,$i(e,null)}function $i(e,t){e.G=Date.now(),ta(e),e.A=ca(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ia(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ki,e.g=Oo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new bi(tr(e.Pa,e,e.g),e.O)),Ei(e.U,e.g,"readystatechange",e.nb),t=e.I?Lr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Oi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ji(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Zi(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ea(e,n))==Yi){4==t&&(e.o=4,Ni(14),i=!1),_i(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qi){e.o=4,Ni(15),_i(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}_i(e.j,e.m,r,null),oa(e,r)}Ji(e)&&r!=Yi&&r!=Qi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ni(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eo(t),t.M=!0,Ni(11))):(_i(e.j,e.m,n,"[Invalid Chunked Response]"),aa(e),ia(e))}function ea(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yi:(n=Number(t.substring(n,r)),isNaN(n)?Qi:(r+=1)+n>t.length?Yi:(t=t.slice(r,r+n),e.C=r+n,t))}function ta(e){e.Y=Date.now()+e.P,na(e,e.P)}function na(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Di(tr(e.lb,e),t)}function ra(e){e.B&&(Qn.clearTimeout(e.B),e.B=null)}function ia(e){0==e.l.H||e.J||_o(e.l,e)}function aa(e){ra(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,mi(e.V),xi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function oa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||La(n.i,e)))if(!e.K&&La(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;So(n),po(n)}wo(n),Ni(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Di(tr(n.ib,n),6e3));if(1>=Da(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Co(n,11)}else if((e.K||n.g==e)&&So(n),!cr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ma(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,pa(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Ao(r,r.J?r.pa:null,r.Y),d.K){Fa(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(ra(p),ta(p)),r.g=d}else ko(r);0<n.j.length&&mo(n)}else"stop"!=a[0]&&"close"!=a[0]||Co(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Co(n,7):ho(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Oi()}catch(a){}}function ua(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Hn=Wi.prototype).setTimeout=function(e){this.P=e},Hn.nb=function(e){e=e.target;var t=this.M;t&&3==oo(e)?t.l():this.Pa(e)},Hn.Pa=function(e){try{if(e==this.g)e:{var t=oo(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||br||this.g&&(this.h.h||this.g.ja()||uo(this.g)))){this.J||4!=t||7==n||Oi(),ra(this);var r=this.g.da();this.ca=r;t:if(Ji(this)){var i=uo(this.g);e="";var a=i.length,o=4==oo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){aa(this),ia(this);var u="";break t}this.h.i=new Qn.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Ni(12),aa(this),ia(this);break e}_i(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,r)}this.S?(Zi(this,t,u),br&&this.i&&3==t&&(Ei(this.U,this.V,"tick",this.mb),this.V.start())):(_i(this.j,this.m,u,null),oa(this,u)),4==t&&aa(this),this.i&&!this.J&&(4==t?_o(this.l,this):(this.i=!1,ta(this)))}else(function(e){var t={};e=(e.g&&2<=oo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!cr(e[n])){var r=si(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ni(12)):(this.o=0,Ni(13)),aa(this),ia(this)}}}catch(t){}},Hn.mb=function(){if(this.g){var e=oo(this.g),t=this.g.ja();this.C<t.length&&(ra(this),Zi(this,e,t),this.i&&4!=e&&ta(this))}},Hn.cancel=function(){this.J=!0,aa(this)},Hn.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Oi(),Ni(17)),aa(this),this.o=2,ia(this)):na(this,this.Y-e)};var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof la){this.h=e.h,fa(this,e.j),this.s=e.s,this.g=e.g,ha(this,e.m),this.l=e.l;var t=e.i,n=new Sa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),da(this,n),this.o=e.o}else e&&(t=String(e).match(sa))?(this.h=!1,fa(this,t[1]||"",!0),this.s=ma(t[2]||""),this.g=ma(t[3]||"",!0),ha(this,t[4]),this.l=ma(t[5]||"",!0),da(this,t[6]||"",!0),this.o=ma(t[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}function ca(e){return new la(e)}function fa(e,t,n){e.j=n?ma(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ha(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function da(e,t,n){t instanceof Sa?(e.i=t,function(e,t){t&&!e.j&&(_a(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ta(this,t),Ia(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ya(t,Ea)),e.i=new Sa(t,e.h))}function pa(e,t,n){e.i.set(t,n)}function va(e){return pa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ma(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ga),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ga(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}la.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,ba,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ya(t,ba,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ya(n,"/"==n.charAt(0)?wa:ka,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,xa)),e.join("")};var ba=/[#\/\?@]/g,ka=/[#\?:]/g,wa=/[#\?]/g,Ea=/[#\?@]/g,xa=/#/g;function Sa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _a(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ta(e,t){_a(e),t=Aa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ca(e,t){return _a(e),t=Aa(e,t),e.g.has(t)}function Ia(e,t,n){Ta(e,t),0<n.length&&(e.i=null,e.g.set(Aa(e,t),or(n)),e.h+=n.length)}function Aa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hn=Sa.prototype).add=function(e,t){_a(this),this.i=null,e=Aa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hn.forEach=function(e,t){_a(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Hn.ta=function(){_a(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Hn.Z=function(e){_a(this);var t=[];if("string"===typeof e)Ca(this,e)&&(t=t.concat(this.g.get(Aa(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Hn.set=function(e,t){return _a(this),this.i=null,Ca(this,e=Aa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Hn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Oa=m((function e(t,n){h(this,e),this.g=t,this.map=n}));function Pa(e){this.l=e||Na,Qn.PerformanceNavigationTiming?e=0<(e=Qn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qn.g&&Qn.g.Ka&&Qn.g.Ka()&&Qn.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Na=10;function Ra(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Da(e){return e.h?1:e.g?e.g.size:0}function La(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ma(e,t){e.g?e.g.add(t):e.h=t}function Fa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ua(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return or(e.i)}Pa.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ja,Va=function(){function e(){h(this,e)}return m(e,[{key:"stringify",value:function(e){return Qn.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Qn.JSON.parse(e,void 0)}}]),e}();function za(){this.g=new Va}function Ba(e,t,n){var r=n||"";try{ua(e,(function(e,n){var i=e;Xn(e)&&(i=ni(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ha(e){this.l=e.ec||null,this.j=e.ob||!1}function Wa(e,t){Zr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ka,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rr(Ha,Fi),Ha.prototype.g=function(){return new Wa(this.l,this.j)},Ha.prototype.i=(ja={},function(){return ja}),rr(Wa,Zr);var Ka=0;function Ga(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Qa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ya(e)}function Ya(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hn=Wa.prototype).open=function(e,t){if(this.readyState!=Ka)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ya(this)},Hn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Hn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qa(this)),this.readyState=Ka},Hn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ga(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Hn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qa(this):Ya(this),3==this.readyState&&Ga(this)}},Hn.Za=function(e){this.g&&(this.response=this.responseText=e,Qa(this))},Hn.Ya=function(e){this.g&&(this.response=e,Qa(this))},Hn.ka=function(){this.g&&Qa(this)},Hn.setRequestHeader=function(e,t){this.v.append(e,t)},Hn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xa=Qn.JSON.parse;function $a(e){Zr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ja,this.L=this.M=!1}rr($a,Zr);var Ja="",Za=/^https?$/i,eo=["POST","PUT"];function to(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,no(e),io(e)}function no(e){e.F||(e.F=!0,ei(e,"complete"),ei(e,"error"))}function ro(e){if(e.h&&"undefined"!=typeof Gn&&(!e.C[1]||4!=oo(e)||2!=e.da()))if(e.v&&4==oo(e))yi(e.La,0,e);else if(ei(e,"readystatechange"),4==oo(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(sa)[1]||null;!a&&Qn.self&&Qn.self.location&&(a=Qn.self.location.protocol.slice(0,-1)),i=!Za.test(a?a.toLowerCase():"")}t=i}if(t)ei(e,"complete"),ei(e,"success");else{e.m=6;try{var o=2<oo(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",no(e)}}finally{io(e)}}}function io(e,t){if(e.g){ao(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ei(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ao(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qn.clearTimeout(e.A),e.A=null)}function oo(e){return e.g?e.g.readyState:0}function uo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ja:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vu){return null}}function so(e){var t="";return Dr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function lo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=so(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pa(e,t,n))}function co(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fo(e){this.Ga=0,this.j=[],this.l=new Si,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=co("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=co("baseRetryDelayMs",5e3,e),this.hb=co("retryDelaySeedMs",1e4,e),this.eb=co("forwardChannelMaxRetries",2,e),this.xa=co("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Pa(e&&e.concurrentRequestLimit),this.Ja=new za,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ho(e){if(vo(e),3==e.H){var t=e.W++,n=ca(e.I);if(pa(n,"SID",e.K),pa(n,"RID",t),pa(n,"TYPE","terminate"),go(e,n),(t=new Wi(e,e.l,t)).L=2,t.v=va(ca(n)),n=!1,Qn.navigator&&Qn.navigator.sendBeacon)try{n=Qn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Qn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Oo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ta(t)}Io(e)}function po(e){e.g&&(Eo(e),e.g.cancel(),e.g=null)}function vo(e){po(e),e.u&&(Qn.clearTimeout(e.u),e.u=null),So(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qn.clearTimeout(e.m),e.m=null)}function mo(e){if(!Ra(e.i)&&!e.m){e.m=!0;var t=e.Na;ci||di(),fi||(ci(),fi=!0),hi.add(t,e),e.C=0}}function yo(e,t){var n;n=t?t.m:e.W++;var r=ca(e.I);pa(r,"SID",e.K),pa(r,"RID",n),pa(r,"AID",e.V),go(e,r),e.o&&e.s&&lo(r,e.o,e.s),n=new Wi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=bo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ma(e.i,n),Xi(n,r,t)}function go(e,t){e.na&&Dr(e.na,(function(e,n){pa(t,n,e)})),e.h&&ua({},(function(e,n){pa(t,n,e)}))}function bo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?tr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].g,c=i[s].map;if(0>(l-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Ba(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function ko(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ci||di(),fi||(ci(),fi=!0),hi.add(t,e),e.A=0}}function wo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Di(tr(e.Ma,e),To(e,e.A)),e.A++,!0)}function Eo(e){null!=e.B&&(Qn.clearTimeout(e.B),e.B=null)}function xo(e){e.g=new Wi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ca(e.wa);pa(t,"RID","rpc"),pa(t,"SID",e.K),pa(t,"AID",e.V),pa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pa(t,"TO",e.qa),pa(t,"TYPE","xmlhttp"),go(e,t),e.o&&e.s&&lo(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=va(ca(t)),n.s=null,n.S=!0,$i(n,e)}function So(e){null!=e.v&&(Qn.clearTimeout(e.v),e.v=null)}function _o(e,t){var n=null;if(e.g==t){So(e),Eo(e),e.g=null;var r=2}else{if(!La(e.i,t))return;n=t.F,Fa(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ei(r=Ii(),new Ri(r,n)),mo(e)}else ko(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Da(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Di(tr(e.Na,e,t),To(e,e.C)),e.C++,!0))}(e,t)||2==r&&wo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Co(e,5);break;case 4:Co(e,10);break;case 3:Co(e,6);break;default:Co(e,2)}}function To(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Co(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=tr(e.pb,e);n||(n=new la("//www.google.com/images/cleardot.gif"),Qn.location&&"http"==Qn.location.protocol||fa(n,"https"),va(n)),function(e,t){var n=new Si;if(Qn.Image){var r=new Image;r.onload=nr(qa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nr(qa,n,r,"TestLoadImage: error",!1,t),r.onabort=nr(qa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nr(qa,n,r,"TestLoadImage: timeout",!1,t),Qn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ni(2);e.H=0,e.h&&e.h.za(t),Io(e),vo(e)}function Io(e){if(e.H=0,e.ma=[],e.h){var t=Ua(e.i);0==t.length&&0==e.j.length||(ur(e.ma,t),ur(e.ma,e.j),e.i.i.length=0,or(e.j),e.j.length=0),e.h.ya()}}function Ao(e,t,n){var r=n instanceof la?ca(n):new la(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ha(r,r.m);else{var i=Qn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new la(null);r&&fa(a,r),t&&(a.g=t),i&&ha(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&pa(r,n,t),pa(r,"VER",e.ra),go(e,r),r}function Oo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new $a(new Ha({ob:!0})):new $a(e.va)).Oa(e.J),t}function Po(){}function No(){if(yr&&!(10<=Number(Cr)))throw Error("Environmental error: no available transport.")}function Ro(e,t){Zr.call(this),this.g=new fo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!cr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mo(this)}function Do(e){Bi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Lo(){qi.call(this),this.status=1}function Mo(e){this.g=e}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function jo(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Hn=$a.prototype).Oa=function(e){this.M=e},Hn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vi.g(),this.C=this.u?Ui(this.u):Ui(Vi),this.g.onreadystatechange=tr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void to(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Qn.FormData&&e instanceof Qn.FormData,!(0<=ar(eo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=A(n);try{for(l.s();!(s=l.n()).done;){var c=C(s.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ao(this),0<this.B&&((this.L=function(e){return yr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.ua,this)):this.A=yi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){to(this,u)}},Hn.ua=function(){"undefined"!=typeof Gn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Hn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ei(this,"complete"),ei(this,"abort"),io(this))},Hn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),io(this,!0)),$a.$.N.call(this)},Hn.La=function(){this.s||(this.G||this.v||this.l?ro(this):this.kb())},Hn.kb=function(){ro(this)},Hn.isActive=function(){return!!this.g},Hn.da=function(){try{return 2<oo(this)?this.g.status:-1}catch(ja){return-1}},Hn.ja=function(){try{return this.g?this.g.responseText:""}catch(ja){return""}},Hn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xa(t)}},Hn.Ia=function(){return this.m},Hn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Hn=fo.prototype).ra=8,Hn.H=1,Hn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Wi(this,this.l,e),n=this.s;if(this.U&&(n?Fr(n=Lr(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=bo(this,t,r),pa(i=ca(this.I),"RID",e),pa(i,"CVER",22),this.F&&pa(i,"X-HTTP-Session-Id",this.F),go(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(so(n)))+"&"+r:this.o&&lo(i,this.o,n)),Ma(this.i,t),this.bb&&pa(i,"TYPE","init"),this.P?(pa(i,"$req",r),pa(i,"SID","null"),t.aa=!0,Xi(t,i,null)):Xi(t,i,r),this.H=2}}else 3==this.H&&(e?yo(this,e):0==this.j.length||Ra(this.i)||yo(this))},Hn.Ma=function(){if(this.u=null,xo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Di(tr(this.jb,this),e)}},Hn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ni(10),po(this),xo(this))},Hn.ib=function(){null!=this.v&&(this.v=null,po(this),wo(this),Ni(19))},Hn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ni(2)):(this.l.info("Failed to ping google.com"),Ni(1))},Hn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Hn=Po.prototype).Ba=function(){},Hn.Aa=function(){},Hn.za=function(){},Hn.ya=function(){},Hn.isActive=function(){return!0},Hn.Va=function(){},No.prototype.g=function(e,t){return new Ro(e,t)},rr(Ro,Zr),Ro.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ni(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ao(e,null,e.Y),mo(e)},Ro.prototype.close=function(){ho(this.g)},Ro.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ni(e),e=n);t.j.push(new Oa(t.fb++,e)),3==t.H&&mo(t)},Ro.prototype.N=function(){this.g.h=null,delete this.j,ho(this.g),delete this.g,Ro.$.N.call(this)},rr(Do,Bi),rr(Lo,qi),rr(Mo,Po),Mo.prototype.Ba=function(){ei(this.g,"a")},Mo.prototype.Aa=function(e){ei(this.g,new Do(e))},Mo.prototype.za=function(e){ei(this.g,new Lo)},Mo.prototype.ya=function(){ei(this.g,"b")},rr(Fo,(function(){this.blockSize=-1})),Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Uo(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Uo(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Uo(this,r),i=0;break}}this.h=i,this.i+=t},Fo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Vo={};function zo(e){return-128<=e&&128>e?function(e,t){var n=Vo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new jo([0|e],0>e?-1:0)})):new jo([0|e],0>e?-1:0)}function Bo(e){if(isNaN(e)||!isFinite(e))return Ho;if(0>e)return Yo(Bo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=qo;return new jo(t,0)}var qo=4294967296,Ho=zo(0),Wo=zo(1),Ko=zo(16777216);function Go(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Qo(e){return-1==e.h}function Yo(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jo(n,~e.h).add(Wo)}function Xo(e,t){return e.add(Yo(t))}function $o(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jo(e,t){this.g=e,this.h=t}function Zo(e,t){if(Go(t))throw Error("division by zero");if(Go(e))return new Jo(Ho,Ho);if(Qo(e))return t=Zo(Yo(e),t),new Jo(Yo(t.g),Yo(t.h));if(Qo(t))return t=Zo(e,Yo(t)),new Jo(Yo(t.g),t.h);if(30<e.g.length){if(Qo(e)||Qo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wo,r=t;0>=r.X(e);)n=eu(n),r=eu(r);var i=tu(n,1),a=tu(r,1);for(r=tu(r,2),n=tu(n,2);!Go(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=tu(r,1),n=tu(n,1)}return t=Xo(e,i.R(t)),new Jo(i,t)}for(i=Ho;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Bo(n)).R(t);Qo(o)||0<o.X(e);)o=(a=Bo(n-=r)).R(t);Go(a)&&(a=Wo),i=i.add(a),e=Xo(e,o)}return new Jo(i,e)}function eu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jo(n,e.h)}function tu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new jo(i,e.h)}(Hn=jo.prototype).ea=function(){if(Qo(this))return-Yo(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:qo+r)*t,t*=qo}return e},Hn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Go(this))return"0";if(Qo(this))return"-"+Yo(this).toString(e);for(var t=Bo(Math.pow(e,6)),n=this,r="";;){var i=Zo(n,t).g,a=((0<(n=Xo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Go(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Hn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Hn.X=function(e){return Qo(e=Xo(this,e))?-1:Go(e)?0:1},Hn.abs=function(){return Qo(this)?Yo(this):this},Hn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new jo(n,-2147483648&n[n.length-1]?-1:0)},Hn.R=function(e){if(Go(this)||Go(e))return Ho;if(Qo(this))return Qo(e)?Yo(this).R(Yo(e)):Yo(Yo(this).R(e));if(Qo(e))return Yo(this.R(Yo(e)));if(0>this.X(Ko)&&0>e.X(Ko))return Bo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,$o(n,2*r+2*i),n[2*r+2*i+1]+=a*s,$o(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,$o(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,$o(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jo(n,0)},Hn.gb=function(e){return Zo(this,e).h},Hn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jo(n,this.h&e.h)},Hn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jo(n,this.h|e.h)},Hn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jo(n,this.h^e.h)},No.prototype.createWebChannel=No.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Mi.COMPLETE="complete",ji.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Zr.prototype.listen=Zr.prototype.O,$a.prototype.listenOnce=$a.prototype.P,$a.prototype.getLastError=$a.prototype.Sa,$a.prototype.getLastErrorCode=$a.prototype.Ia,$a.prototype.getStatus=$a.prototype.da,$a.prototype.getResponseJson=$a.prototype.Wa,$a.prototype.getResponseText=$a.prototype.ja,$a.prototype.send=$a.prototype.ha,$a.prototype.setWithCredentials=$a.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,jo.prototype.add=jo.prototype.add,jo.prototype.multiply=jo.prototype.R,jo.prototype.modulo=jo.prototype.gb,jo.prototype.compare=jo.prototype.X,jo.prototype.toNumber=jo.prototype.ea,jo.prototype.toString=jo.prototype.toString,jo.prototype.getBits=jo.prototype.D,jo.fromNumber=Bo,jo.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Yo(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bo(Math.pow(n,8)),i=Ho,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Bo(Math.pow(n,o)),i=i.R(o).add(Bo(u))):i=(i=i.R(r)).add(Bo(u))}return i};var nu=Kn.createWebChannelTransport=function(){return new No},ru=Kn.getStatEventTarget=function(){return Ii()},iu=Kn.ErrorCode=Li,au=Kn.EventType=Mi,ou=Kn.Event=Ti,uu=Kn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},su=Kn.FetchXmlHttpFactory=Ha,lu=Kn.WebChannel=ji,cu=Kn.XhrIo=$a,fu=Kn.Md5=Fo,hu=Kn.Integer=jo,du="@firebase/firestore",pu=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pu.UNAUTHENTICATED=new pu(null),pu.GOOGLE_CREDENTIALS=new pu("google-credentials-uid"),pu.FIRST_PARTY=new pu("first-party-uid"),pu.MOCK_USER=new pu("mock-user");var vu="10.5.2",mu=new zt("@firebase/firestore");function yu(){return mu.logLevel}function gu(e){if(mu.logLevel<=Dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wu);mu.debug.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(f(i)))}}function bu(e){if(mu.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wu);mu.error.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(f(i)))}}function ku(e){if(mu.logLevel<=Dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wu);mu.warn.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(f(i)))}}function wu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vu,") INTERNAL ASSERTION FAILED: ")+e;throw bu(t),new Error(t)}function xu(e,t){e||Eu()}function Su(e,t){return e}var _u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tu=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(gt),Cu=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Iu=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Au=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ou=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Pu=function(){function e(t){h(this,e),this.t=t,this.currentUser=pu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Cu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Cu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){gu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(gu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xu("string"==typeof n.accessToken),new Iu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xu(null===e||"string"==typeof e),new pu(e)}}]),e}(),Nu=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=pu.FIRST_PARTY,this.I=new Map}return m(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Ru=function(){function e(t,n,r){h(this,e),this.l=t,this.h=n,this.P=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Nu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Du=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Lu=function(){function e(t){h(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,gu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):gu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xu("string"==typeof t.token),e.R=t.token,new Du(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Mu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Fu=function(){function e(){h(this,e)}return m(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Mu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Uu(e,t){return e<t?-1:e>t?1:0}function ju(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Vu=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tu(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Uu(this.nanoseconds,e.nanoseconds):Uu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),zu=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vu(0,0))}},{key:"max",value:function(){return new e(new Vu(253402300799,999999999))}}]),e}(),Bu=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&Eu(),void 0===r?r=t.length-n:r>t.length-n&&Eu(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qu=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Tu(_u.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,f(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bu),Hu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wu=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Hu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tu(_u.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Tu(_u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Tu(_u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Tu(_u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bu),Ku=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qu.fromString(t))}},{key:"fromName",value:function(t){return new e(qu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qu.emptyPath())}},{key:"comparator",value:function(e,t){return qu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qu(t.slice()))}}]),e}(),Gu=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Gu.UNKNOWN_ID=-1;function Qu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zu.fromTimestamp(1e9===r?new Vu(n+1,0):new Vu(n,r));return new Xu(i,Ku.empty(),t)}function Yu(e){return new Xu(e.readTime,e.key,-1)}var Xu=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(zu.min(),Ku.empty(),-1)}},{key:"max",value:function(){return new e(zu.max(),Ku.empty(),-1)}}]),e}();function $u(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ku.comparator(e.documentKey,t.documentKey))?n:Uu(e.largestBatchId,t.largestBatchId)}var Ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zu=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function es(e){return ts.apply(this,arguments)}function ts(){return(ts=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_u.FAILED_PRECONDITION&&t.message===Ju){e.next=2;break}throw t;case 2:gu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Eu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function rs(e){return"IndexedDbTransactionError"===e.name}var is=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function as(e){return null==e}function os(e){return 0===e&&1/e==-1/0}function us(e){return"number"==typeof e&&Number.isInteger(e)&&!os(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}is._e=-1;var ss=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ls=([].concat(f(ss),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),cs=ls;[].concat(cs,["indexConfiguration","indexState","indexEntries"]);function fs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ds(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ps=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||ms.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ms.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ms.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new vs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new vs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new vs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new vs(this.root,e,this.comparator,!0)}}]),e}(),vs=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ms=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Eu();if(this.right.isRed())throw Eu();var e=this.left.check();if(e!==this.right.check())throw Eu();return e+(this.isRed()?0:1)}}]),e}();ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw Eu()}},{key:"value",get:function(){throw Eu()}},{key:"color",get:function(){throw Eu()}},{key:"left",get:function(){throw Eu()}},{key:"right",get:function(){throw Eu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ms(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ys=function(){function e(t){h(this,e),this.comparator=t,this.data=new ps(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new gs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new gs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),gs=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var bs=function(){function e(t){h(this,e),this.fields=t,t.sort(Wu.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new ys(Wu.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=A(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ju(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ks=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(S(Error));var ws=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Uu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ks("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ws.EMPTY_BYTE_STRING=new ws("");var Es=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(e){if(xu(!!e),"string"==typeof e){var t=0,n=Es.exec(e);if(xu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ss(e.seconds),nanos:Ss(e.nanos)}}function Ss(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _s(e){return"string"==typeof e?ws.fromBase64String(e):ws.fromUint8Array(e)}function Ts(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cs(e){var t=e.mapValue.fields.__previous_value__;return Ts(t)?Cs(t):t}function Is(e){var t=xs(e.mapValue.fields.__local_write_time__.timestampValue);return new Vu(t.seconds,t.nanos)}var As=m((function e(t,n,r,i,a,o,u,s,l){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),Os=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ts(e)?4:Ws(e)?9007199254740991:10:Eu()}function Rs(e,t){if(e===t)return!0;var n=Ns(e);if(n!==Ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Is(e).isEqual(Is(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xs(e.timestampValue),r=xs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _s(e.bytesValue).isEqual(_s(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ss(e.geoPointValue.latitude)===Ss(t.geoPointValue.latitude)&&Ss(e.geoPointValue.longitude)===Ss(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ss(e.integerValue)===Ss(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ss(e.doubleValue),r=Ss(t.doubleValue);return n===r?os(n)===os(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ju(e.arrayValue.values||[],t.arrayValue.values||[],Rs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rs(n[i],r[i])))return!1;return!0}(e,t);default:return Eu()}}function Ds(e,t){return void 0!==(e.values||[]).find((function(e){return Rs(e,t)}))}function Ls(e,t){if(e===t)return 0;var n=Ns(e),r=Ns(t);if(n!==r)return Uu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Uu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ss(e.integerValue||e.doubleValue),r=Ss(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ms(e.timestampValue,t.timestampValue);case 4:return Ms(Is(e),Is(t));case 5:return Uu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_s(e),r=_s(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Uu(n[i],r[i]);if(0!==a)return a}return Uu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Uu(Ss(e.latitude),Ss(t.latitude));return 0!==n?n:Uu(Ss(e.longitude),Ss(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ls(n[i],r[i]);if(a)return a}return Uu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ps.mapValue&&t===Ps.mapValue)return 0;if(e===Ps.mapValue)return 1;if(t===Ps.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Uu(r[o],a[o]);if(0!==u)return u;var s=Ls(n[r[o]],i[a[o]]);if(0!==s)return s}return Uu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Eu()}}function Ms(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Uu(e,t);var n=xs(e),r=xs(t),i=Uu(n.seconds,r.seconds);return 0!==i?i:Uu(n.nanos,r.nanos)}function Fs(e){return Us(e)}function Us(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _s(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ku.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Us(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Us(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Eu()}function js(e){return!!e&&"integerValue"in e}function Vs(e){return!!e&&"arrayValue"in e}function zs(e){return!!e&&"nullValue"in e}function Bs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qs(e){return!!e&&"mapValue"in e}function Hs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ws(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ks=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hs(t)}},{key:"setAll",value:function(e){var t=this,n=Wu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Rs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hs(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gs(e){var t=[];return hs(e.fields,(function(e,n){var r=new Wu([e]);if(qs(n)){var i=Gs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new bs(t)}var Qs=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(zu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=zu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,zu.min(),zu.min(),zu.min(),Ks.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,zu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,zu.min(),zu.min(),Ks.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,zu.min(),zu.min(),Ks.empty(),2)}}]),e}(),Ys=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function Xs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ku.comparator(Ku.fromName(o.referenceValue),n.key):Ls(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function $s(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rs(e.position[n],t.position[n]))return!1;return!0}var Js=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function Zs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var el=m((function e(){h(this,e)})),tl=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ls(t,this.value)):null!==t&&Ns(this.value)===Ns(t)&&this.matchesComparison(Ls(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Eu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ll(e,t,r):"array-contains"===t?new dl(e,r):"in"===t?new pl(e,r):"not-in"===t?new vl(e,r):"array-contains-any"===t?new ml(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new cl(e,n):new fl(e,n)}}]),n}(el),nl=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return m(n,[{key:"matches",value:function(e){return rl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(el);function rl(e){return"and"===e.op}function il(e){return al(e)&&rl(e)}function al(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof nl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ol(e){if(e instanceof tl)return e.field.canonicalString()+e.op.toString()+Fs(e.value);if(il(e))return e.filters.map((function(e){return ol(e)})).join(",");var t=e.filters.map((function(e){return ol(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ul(e,t){return e instanceof tl?function(e,t){return t instanceof tl&&e.op===t.op&&e.field.isEqual(t.field)&&Rs(e.value,t.value)}(e,t):e instanceof nl?function(e,t){return t instanceof nl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ul(n,t.filters[r])}),!0)}(e,t):void Eu()}function sl(e){return e instanceof tl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fs(e.value))}(e):e instanceof nl?function(e){return e.op.toString()+" {"+e.getFilters().map(sl).join(" ,")+"}"}(e):"Filter"}var ll=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Ku.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=Ku.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(tl),cl=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=hl("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tl),fl=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=hl("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tl);function hl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ku.fromName(e.referenceValue)}))}var dl=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vs(t)&&Ds(t.arrayValue,this.value)}}]),n}(tl),pl=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ds(this.value.arrayValue,t)}}]),n}(tl),vl=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(Ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ds(this.value.arrayValue,t)}}]),n}(tl),ml=function(e){g(n,e);var t=E(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ds(t.value.arrayValue,e)}))}}]),n}(tl),yl=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ce=null}));function gl(e){return new yl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bl(e){var t=Su(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ol(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),as(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fs(e)})).join(",")),t.ce=n}return t.ce}function kl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ul(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$s(e.startAt,t.startAt)&&$s(e.endAt,t.endAt)}function wl(e){return Ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var El=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function xl(e,t,n,r,i,a,o,u){return new El(e,t,n,r,i,a,o,u)}function Sl(e){return new El(e)}function _l(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tl(e){return null!==e.collectionGroup}function Cl(e){var t=Su(e);if(null===t.le){t.le=[];var n,r=new Set,i=A(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new ys(Wu.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Js(e,o))})),r.has(Wu.keyField().canonicalString())||t.le.push(new Js(Wu.keyField(),o))}return t.le}function Il(e){var t=Su(e);return t.he||(t.he=Al(t,Cl(e))),t.he}function Al(e,t){if("F"===e.limitType)return gl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Js(e.field,t)}));var n=e.endAt?new Ys(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ys(e.startAt.position,e.startAt.inclusive):null;return gl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Ol(e,t,n){return new El(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pl(e,t){return kl(Il(e),Il(t))&&e.limitType===t.limitType}function Nl(e){return"".concat(bl(Il(e)),"|lt:").concat(e.limitType)}function Rl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return sl(e)})).join(", "),"]")),as(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fs(e)})).join(",")),"Target(".concat(t,")")}(Il(e)),"; limitType=").concat(e.limitType,")")}function Dl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ku.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A(Cl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cl(e),t))}(e,t)}function Ll(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ml(e){return function(t,n){var r,i=!1,a=A(Cl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Fl(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Fl(e,t,n){var r=e.field.isKeyField()?Ku.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ls(r,i):Eu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Eu()}}var Ul=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=C(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hs(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=C(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ds(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jl=new ps(Ku.comparator);function Vl(){return jl}var zl=new ps(Ku.comparator);function Bl(){for(var e=zl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ql(e){var t=zl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Hl(){return Kl()}function Wl(){return Kl()}function Kl(){return new Ul((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gl=new ps(Ku.comparator),Ql=new ys(Ku.comparator);function Yl(){for(var e=Ql,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Xl=new ys(Uu);function $l(){return Xl}function Jl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:os(t)?"-0":t}}function Zl(e){return{integerValue:""+e}}function ec(e,t){return us(t)?Zl(t):Jl(e,t)}var tc=m((function e(){h(this,e),this._=void 0}));function nc(e,t,n){return e instanceof ac?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ts(t)&&(t=Cs(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oc?uc(e,t):e instanceof sc?lc(e,t):function(e,t){var n=ic(e,t),r=fc(n)+fc(e.Ie);return js(n)&&js(e.Ie)?Zl(r):Jl(e.serializer,r)}(e,t)}function rc(e,t,n){return e instanceof oc?uc(e,t):e instanceof sc?lc(e,t):n}function ic(e,t){return e instanceof cc?function(e){return js(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var ac=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(tc),oc=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(tc);function uc(e,t){var n,r=hc(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Rs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sc=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(tc);function lc(e,t){var n,r=hc(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Rs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cc=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return m(n)}(tc);function fc(e){return Ss(e.integerValue||e.doubleValue)}function hc(e){return Vs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dc=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),pc=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mc=m((function e(){h(this,e)}));function yc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ac(e.key,pc.none()):new Ec(e.key,e.data,pc.none());var n,r=e.data,i=Ks.empty(),a=new ys(Wu.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new xc(e.key,i,new bs(a.toArray()),pc.none())}function gc(e,t,n){e instanceof Ec?function(e,t,n){var r=e.value.clone(),i=_c(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xc?function(e,t,n){if(vc(e.precondition,t)){var r=_c(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bc(e,t,n,r){return e instanceof Ec?function(e,t,n,r){if(!vc(e.precondition,t))return n;var i=e.value.clone(),a=Tc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xc?function(e,t,n,r){if(!vc(e.precondition,t))return n;var i=Tc(e.fieldTransforms,r,t),a=t.data;return a.setAll(Sc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kc(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ic(a.transform,o||null);null!=u&&(null===r&&(r=Ks.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function wc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ju(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oc&&t instanceof oc||e instanceof sc&&t instanceof sc?ju(e.elements,t.elements,Rs):e instanceof cc&&t instanceof cc?Rs(e.Ie,t.Ie):e instanceof ac&&t instanceof ac}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ec=function(e){g(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mc),xc=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mc);function Sc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _c(e,t,n){var r=new Map;xu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,rc(o,u,n[i]))}return r}function Tc(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,nc(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Cc,Ic,Ac=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mc),Oc=function(e){g(n,e);var t=E(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mc),Pc=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=bc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=bc(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Wl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(zu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,(function(e,t){return wc(e,t)}))&&ju(this.baseMutations,e.baseMutations,(function(e,t){return wc(e,t)}))}}]),e}(),Nc=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){xu(t.mutations.length===r.length);for(var i=Gl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rc=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dc=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function Lc(e){switch(e){default:return Eu();case _u.CANCELLED:case _u.UNKNOWN:case _u.DEADLINE_EXCEEDED:case _u.RESOURCE_EXHAUSTED:case _u.INTERNAL:case _u.UNAVAILABLE:case _u.UNAUTHENTICATED:return!1;case _u.INVALID_ARGUMENT:case _u.NOT_FOUND:case _u.ALREADY_EXISTS:case _u.PERMISSION_DENIED:case _u.FAILED_PRECONDITION:case _u.ABORTED:case _u.OUT_OF_RANGE:case _u.UNIMPLEMENTED:case _u.DATA_LOSS:return!0}}function Mc(e){if(void 0===e)return bu("GRPC error has no .code"),_u.UNKNOWN;switch(e){case Cc.OK:return _u.OK;case Cc.CANCELLED:return _u.CANCELLED;case Cc.UNKNOWN:return _u.UNKNOWN;case Cc.DEADLINE_EXCEEDED:return _u.DEADLINE_EXCEEDED;case Cc.RESOURCE_EXHAUSTED:return _u.RESOURCE_EXHAUSTED;case Cc.INTERNAL:return _u.INTERNAL;case Cc.UNAVAILABLE:return _u.UNAVAILABLE;case Cc.UNAUTHENTICATED:return _u.UNAUTHENTICATED;case Cc.INVALID_ARGUMENT:return _u.INVALID_ARGUMENT;case Cc.NOT_FOUND:return _u.NOT_FOUND;case Cc.ALREADY_EXISTS:return _u.ALREADY_EXISTS;case Cc.PERMISSION_DENIED:return _u.PERMISSION_DENIED;case Cc.FAILED_PRECONDITION:return _u.FAILED_PRECONDITION;case Cc.ABORTED:return _u.ABORTED;case Cc.OUT_OF_RANGE:return _u.OUT_OF_RANGE;case Cc.UNIMPLEMENTED:return _u.UNIMPLEMENTED;case Cc.DATA_LOSS:return _u.DATA_LOSS;default:return Eu()}}(Ic=Cc||(Cc={}))[Ic.OK=0]="OK",Ic[Ic.CANCELLED=1]="CANCELLED",Ic[Ic.UNKNOWN=2]="UNKNOWN",Ic[Ic.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ic[Ic.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ic[Ic.NOT_FOUND=5]="NOT_FOUND",Ic[Ic.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ic[Ic.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ic[Ic.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ic[Ic.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ic[Ic.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ic[Ic.ABORTED=10]="ABORTED",Ic[Ic.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ic[Ic.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ic[Ic.INTERNAL=13]="INTERNAL",Ic[Ic.UNAVAILABLE=14]="UNAVAILABLE",Ic[Ic.DATA_LOSS=15]="DATA_LOSS";var Fc=null;function Uc(){return new TextEncoder}var jc=new hu([4294967295,4294967295],0);function Vc(e){var t=Uc().encode(e),n=new fu;return n.update(t),new Uint8Array(n.digest())}function zc(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new hu([n,r],0),new hu([i,a],0)]}var Bc=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc("Invalid padding: ".concat(n));if(r<0)throw new qc("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new qc("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new qc("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=hu.fromNumber(this.Te)}return m(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(hu.fromNumber(n)));return 1===r.compare(jc)&&(r=new hu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=C(zc(Vc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=C(zc(Vc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),qc=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(S(Error)),Hc=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Wc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(zu.min(),i,new ps(Uu),Vl(),Yl())}}]),e}(),Wc=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Yl(),Yl(),Yl())}}]),e}(),Kc=m((function e(t,n,r,i){h(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Gc=m((function e(t,n){h(this,e),this.targetId=t,this.fe=n})),Qc=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ws.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Yc=function(){function e(){h(this,e),this.ge=0,this.pe=Jc(),this.ye=ws.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return m(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Yl(),t=Yl(),n=Yl();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Eu()}})),new Wc(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Jc()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),Xc=function(){function e(t){h(this,e),this.Le=t,this.ke=new Map,this.qe=Vl(),this.Qe=$c(),this.Ke=new ps(Uu)}return m(e,[{key:"$e",value:function(e){var t,n=A(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(u){n.e(u)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:Eu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(wl(i))if(0===n){var a=new Ku(i.path);this.We(t,a,Qs.newNoDocument(a,zu.min()))}else xu(1===n);else{var o=this.Ze(t);if(o!==n){var u=this.Xe(e),s=u?this.et(u,e,o):1;if(0!==s){this.He(t);var l=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}null==Fc||Fc.tt(function(e,t,n,r,i){var a,o,u,s,l,c,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),u,s))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,l=t.hashCount,c=void 0===l?0:l;try{n=_s(o).toUint8Array()}catch(e){if(e instanceof ks)return ku("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Bc(n,s,c)}catch(e){return ku(e instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&wl(a.target)){var o=new Ku(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,Qs.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Yl();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hc(e,n,this.Ke,this.qe,r);return this.qe=Vl(),this.Qe=$c(),this.Ke=new ps(Uu),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Yc,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new ys(Uu),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||gu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Yc),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function $c(){return new ps(Ku.comparator)}function Jc(){return new ps(Ku.comparator)}var Zc={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tf={and:"AND",or:"OR"},nf=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function rf(e,t){return e.useProto3Json||as(t)?t:{value:t}}function af(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function of(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uf(e,t){return af(e,t.toTimestamp())}function sf(e){return xu(!!e),zu.fromTimestamp(function(e){var t=xs(e);return new Vu(t.seconds,t.nanos)}(e))}function lf(e,t){return function(e){return new qu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cf(e){var t=qu.fromString(e);return xu(Of(t)),t}function ff(e,t){return lf(e.databaseId,t.path)}function hf(e,t){var n=cf(t);if(n.get(1)!==e.databaseId.projectId)throw new Tu(_u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tu(_u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ku(mf(n))}function df(e,t){return lf(e.databaseId,t)}function pf(e){var t=cf(e);return 4===t.length?qu.emptyPath():mf(t)}function vf(e){return new qu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mf(e){return xu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yf(e,t,n){return{name:ff(e,t),fields:n.value.mapValue.fields}}function gf(e,t){var n;if(t instanceof Ec)n={update:yf(e,t.key,t.value)};else if(t instanceof Ac)n={delete:ff(e,t.key)};else if(t instanceof xc)n={update:yf(e,t.key,t.data),updateMask:Af(t.fieldMask)};else{if(!(t instanceof Oc))return Eu();n={verify:ff(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ac)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Eu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Eu()}(e,t.precondition)),n}function bf(e,t){return{documents:[df(e,t.path)]}}function kf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=df(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=df(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return If(nl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tf(e.field),direction:xf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=rf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wf(e){var t=pf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Ef(e);return t instanceof nl&&il(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Js(Cf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return as(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ys(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Ys(n,t)}(n.endAt)),xl(t,i,u,o,s,"F",l,c)}function Ef(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cf(e.unaryFilter.field);return tl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(e.unaryFilter.field);return tl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(e.unaryFilter.field);return tl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(e.unaryFilter.field);return tl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Eu()}}(e):void 0!==e.fieldFilter?function(e){return tl.create(Cf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Eu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nl.create(e.compositeFilter.filters.map((function(e){return Ef(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Eu()}}(e.compositeFilter.op))}(e):Eu()}function xf(e){return Zc[e]}function Sf(e){return ef[e]}function _f(e){return tf[e]}function Tf(e){return{fieldPath:e.canonicalString()}}function Cf(e){return Wu.fromServerFormat(e.fieldPath)}function If(e){return e instanceof tl?function(e){if("=="===e.op){if(Bs(e.value))return{unaryFilter:{field:Tf(e.field),op:"IS_NAN"}};if(zs(e.value))return{unaryFilter:{field:Tf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bs(e.value))return{unaryFilter:{field:Tf(e.field),op:"IS_NOT_NAN"}};if(zs(e.value))return{unaryFilter:{field:Tf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(e.field),op:Sf(e.op),value:e.value}}}(e):e instanceof nl?function(e){var t=e.getFilters().map((function(e){return If(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_f(e.op),filters:t}}}(e):Eu()}function Af(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Of(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Pf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ws.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Nf=m((function e(t){h(this,e),this.ut=t}));function Rf(e){var t=wf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ol(t,t.limit,"L"):t}var Df=function(){function e(){h(this,e)}return m(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ss(e.integerValue));else if("doubleValue"in e){var n=Ss(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),os(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(_s(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Ws(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Eu()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),Ku.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();Df.St=new Df;var Lf=function(){function e(){h(this,e),this.on=new Mf}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),ns.resolve()}},{key:"getCollectionParents",value:function(e,t){return ns.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ns.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ns.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return ns.resolve()}},{key:"createTargetIndexes",value:function(e,t){return ns.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ns.resolve(null)}},{key:"getIndexType",value:function(e,t){return ns.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ns.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ns.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ns.resolve(Xu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ns.resolve(Xu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ns.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ns.resolve()}}]),e}(),Mf=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ys(qu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ys(qu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Ff=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Ff.DEFAULT_COLLECTION_PERCENTILE=10,Ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ff.DEFAULT=new Ff(41943040,Ff.DEFAULT_COLLECTION_PERCENTILE,Ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ff.DISABLED=new Ff(-1,0,0);var Uf=function(){function e(t){h(this,e),this.xn=t}return m(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}();var jf=function(){function e(){h(this,e),this.changes=new Ul((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ns.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Vf=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zf=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&bc(r.mutation,e,bs.empty(),Vu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Yl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yl(),i=Hl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Bl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Hl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Yl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Vl(),a=Kl(),o=Kl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xc)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),bc(o.mutation,t,o.mutation.getFieldMask(),Vu.now())):a.set(t.key,bs.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Kl(),i=new ps((function(e,t){return e-t})),a=Yl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||bs.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Yl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=Wl();l.forEach((function(e){if(!a.has(e)){var n=yc(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return ns.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ns.resolve(Hl()),u=-1,s=a;return o.next((function(t){return ns.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ns.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Yl())})).next((function(e){return{batchId:u,changes:ql(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ku(t)).next((function(e){var t=Bl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Bl();return this.indexManager.getCollectionParents(e,a).next((function(u){return ns.forEach(u,(function(u){var s=function(e,t){return new El(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qs.newInvalidDocument(r)))}));var n=Bl();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&bc(a.mutation,r,bs.empty(),Vu.now()),Dl(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Bf=function(){function e(t){h(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return ns.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sf(e.createTime)}}(t)),ns.resolve()}},{key:"getNamedQuery",value:function(e,t){return ns.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Rf(e.bundledQuery),readTime:sf(e.readTime)}}(t)),ns.resolve()}}]),e}(),qf=function(){function e(){h(this,e),this.overlays=new ps(Ku.comparator),this.lr=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return ns.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Hl();return ns.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),ns.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),ns.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Hl(),i=t.length+1,a=new Ku(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ns.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ps((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Hl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Hl(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ns.resolve(s)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rc(t,n));var a=this.lr.get(t);void 0===a&&(a=Yl(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),Hf=function(){function e(){h(this,e),this.hr=new ys(Wf.Pr),this.Ir=new ys(Wf.Tr)}return m(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wf(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new Wf(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new Ku(new qu([])),r=new Wf(n,e),i=new Wf(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new Ku(new qu([])),n=new Wf(t,e),r=new Wf(t,e+1),i=Yl();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wf(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wf=function(){function e(t,n){h(this,e),this.key=t,this.gr=n}return m(e,null,[{key:"Pr",value:function(e,t){return Ku.comparator(e.key,t.key)||Uu(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return Uu(e.gr,t.gr)||Ku.comparator(e.key,t.key)}}]),e}(),Kf=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ys(Wf.Pr)}return m(e,[{key:"checkEmpty",value:function(e){return ns.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Pc(i,t,n,r);this.mutationQueue.push(a);var o,u=A(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.yr=this.yr.add(new Wf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return ns.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ns.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return ns.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ns.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return ns.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wf(t,0),i=new Wf(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),ns.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ys(Uu);return t.forEach((function(e){var t=new Wf(e,0),i=new Wf(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),ns.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ku.isDocumentKey(i)||(i=i.child(""));var a=new Wf(new Ku(i),0),o=new ys(Uu);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),ns.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xu(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return ns.forEach(t.mutations,(function(i){var a=new Wf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wf(t,0),r=this.yr.firstAfterOrEqual(n);return ns.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ns.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Gf=function(){function e(t){h(this,e),this.Cr=t,this.docs=new ps(Ku.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ns.resolve(n?n.document.mutableCopy():Qs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qs.newInvalidDocument(e))})),ns.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Vl(),a=t.path,o=new Ku(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||$u(Yu(c),n)<=0||(r.has(c.key)||Dl(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return ns.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Eu()}},{key:"vr",value:function(e,t){return ns.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qf(this)}},{key:"getSize",value:function(e){return ns.resolve(this.size)}}]),e}(),Qf=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this))._r=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),ns.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(jf),Yf=function(){function e(t){h(this,e),this.persistence=t,this.Fr=new Ul((function(e){return bl(e)}),kl),this.lastRemoteSnapshotVersion=zu.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Hf,this.targetCount=0,this.Nr=Uf.On()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),ns.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ns.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ns.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),ns.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),ns.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new Uf(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,ns.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),ns.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,ns.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ns.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ns.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return ns.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),ns.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ns.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),ns.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return ns.resolve(n)}},{key:"containsKey",value:function(e,t){return ns.resolve(this.Or.containsKey(t))}}]),e}(),Xf=function(){function e(t,n){var r=this;h(this,e),this.Br={},this.overlays={},this.Lr=new is(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Yf(this),this.indexManager=new Lf,this.remoteDocumentCache=function(e){return new Gf(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new Nf(n),this.Kr=new Bf(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new Kf(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;gu("MemoryPersistence","Starting transaction:",e);var i=new $f(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return ns.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$f=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(Zu),Jf=function(){function e(t){h(this,e),this.persistence=t,this.Gr=new Hf,this.zr=null}return m(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Eu()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),ns.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),ns.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),ns.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ns.forEach(this.Hr,(function(r){var i=Ku.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,zu.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return ns.or([function(){return ns.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}();var Zf=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return m(e,null,[{key:"Qi",value:function(t,n){var r,i=Yl(),a=Yl(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),eh=function(){function e(){h(this,e),this._documentReadCount=0}return m(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),th=function(){function e(){h(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return m(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new eh;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(yu()<=Dt.DEBUG&&gu("QueryEngine","SDK will not create cache indexes for query:",Rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ns.resolve()):(yu()<=Dt.DEBUG&&gu("QueryEngine","Query:",Rl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(yu()<=Dt.DEBUG&&gu("QueryEngine","The SDK decides to create cache indexes for query:",Rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Il(t))):ns.resolve())}},{key:"zi",value:function(e,t){var n=this;if(_l(t))return ns.resolve(null);var r=Il(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ol(t,null,"F"),r=Il(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Yl.apply(void 0,f(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,Ol(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return _l(t)||r.isEqual(zu.min())?ns.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?ns.resolve(null):(yu()<=Dt.DEBUG&&gu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rl(t)),i.Xi(e,o,t,Qu(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new ys(Ml(e));return t.forEach((function(t,r){Dl(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return yu()<=Dt.DEBUG&&gu("QueryEngine","Using full collection scan to execute query:",Rl(t)),this.Gi.getDocumentsMatchingQuery(e,t,Xu.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nh=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new ps(Uu),this.ns=new Ul((function(e){return bl(e)}),kl),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return m(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zf(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function rh(e,t,n,r){return new nh(e,t,n,r)}function ih(e,t){return ah.apply(this,arguments)}function ah(){return ah=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Yl(),s=A(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=A(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=A(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=A(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){var n=Su(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ns.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Yl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function uh(e){var t=Su(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function sh(e,t){var n=Su(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?l=l.withResumeToken(ws.EMPTY_BYTE_STRING,zu.min()).withLastLimboFreeSnapshotVersion(zu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.qr.updateTargetData(e,l))}}));var u=Vl(),s=Yl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(lh(e,a,t.documentUpdates).next((function(e){u=e.us,s=e.cs}))),!r.isEqual(zu.min())){var l=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return ns.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ts=i,e}))}function lh(e,t,n){var r=Yl(),i=Yl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(zu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):gu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function ch(e,t){var n=Su(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fh(e,t){var n=Su(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,ns.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new Pf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function hh(e,t,n){return dh.apply(this,arguments)}function dh(){return dh=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Su(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rs(e.t1)){e.next=12;break}throw e.t1;case 12:gu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dh.apply(this,arguments)}function ph(e,t,n){var r=Su(e),i=zu.min(),a=Yl();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Su(e),i=r.ns.get(n);return void 0!==i?ns.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Il(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:zu.min(),n?a:Yl())})).next((function(e){return vh(r,Ll(t),e),{documents:e,ls:a}}))}))}function vh(e,t,n){var r=e.rs.get(t)||zu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}var mh=function(){function e(){h(this,e),this.activeTargetIds=$l()}return m(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yh=function(){function e(){h(this,e),this.eo=new mh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new mh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),gh=function(){function e(){h(this,e)}return m(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bh=function(){function e(){var t=this;h(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return m(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){gu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){gu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),kh=null;function wh(){return null===kh?kh=268435456+Math.round(2147483648*Math.random()):kh++,"0x"+kh.toString(16)}var Eh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xh=function(){function e(t){h(this,e),this.co=t.co,this.lo=t.lo}return m(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),Sh="WebChannelConnection",_h=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Do",value:function(e,t,n,r){var i=wh();return new Promise((function(a,o){var u=new cu;u.setWithCredentials(!0),u.listenOnce(au.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case iu.NO_ERROR:var t=u.getResponseJson();gu(Sh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case iu.TIMEOUT:gu(Sh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Tu(_u.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:var n=u.getStatus();if(gu(Sh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_u).indexOf(t)>=0?t:_u.UNKNOWN}(s.status);o(new Tu(l,s.message))}else o(new Tu(_u.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Tu(_u.UNAVAILABLE,"Connection failed."));break;default:Eu()}}finally{gu(Sh,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);gu(Sh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"vo",value:function(e,t,n){var r=wh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nu(),o=ru(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new su({})),this.bo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var l=i.join("");gu(Sh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),u);var c=a.createWebChannel(l,u),f=!1,h=!1,d=new xh({co:function(t){h?gu(Sh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(gu(Sh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),gu(Sh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},lo:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,lu.EventType.OPEN,(function(){h||gu(Sh,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,lu.EventType.CLOSE,(function(){h||(h=!0,gu(Sh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(c,lu.EventType.ERROR,(function(t){h||(h=!0,ku(Sh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new Tu(_u.UNAVAILABLE,"The operation could not be completed")))})),p(c,lu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];xu(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){gu(Sh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Cc[e];if(void 0!==t)return Mc(t)}(u),l=o.message;void 0===s&&(s=_u.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),h=!0,d.Ro(new Tu(s,l)),c.close()}else gu(Sh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,ou.STAT_EVENT,(function(t){t.stat===uu.PROXY?gu(Sh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===uu.NOPROXY&&gu(Sh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return m(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=wh(),o=this.So(e,t);gu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,r,i),this.Do(e,o,u,n).then((function(t){return gu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ku("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=Eh[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Th(){return"undefined"!=typeof document?document:null}function Ch(e){return new nf(e,!0)}var Ih=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&gu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),Ah=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ih(t,n)}return m(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===_u.RESOURCE_EXHAUSTED?(bu(n.toString()),bu("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_u.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=C(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new Tu(_u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return gu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(gu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Oh=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Eu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(xu(void 0===t||"string"==typeof t),ws.fromBase64String(t||"")):(xu(void 0===t||t instanceof Uint8Array),ws.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?_u.UNKNOWN:Mc(e.code);return new Tu(t,e.message||"")}(o);n=new Qc(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=hf(e,s.document.name),c=sf(s.document.updateTime),f=s.document.createTime?sf(s.document.createTime):zu.min(),h=new Ks({mapValue:{fields:s.document.fields}}),d=Qs.newFoundDocument(l,c,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Kc(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=hf(e,m.document),g=m.readTime?sf(m.readTime):zu.min(),b=Qs.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Kc([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var E=hf(e,w.document),x=w.removedTargetIds||[];n=new Kc([],x,E,null)}else{if(!("filter"in t))return Eu();t.filter;var S=t.filter;S.targetId;var _=S.count,T=void 0===_?0:_,C=S.unchangedNames,I=new Dc(T,C),A=S.targetId;n=new Gc(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zu.min():t.readTime?sf(t.readTime):zu.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=vf(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=wl(r)?{documents:bf(e,r)}:{query:kf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=of(e,t.resumeToken);var i=rf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(zu.min())>0){n.readTime=af(e,t.snapshotVersion.toTimestamp());var a=rf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Eu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=vf(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(Ah),Ph=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.l_=!1,s}return m(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,rt(b(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(xu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(xu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sf(e.updateTime):sf(t);return n.isEqual(zu.min())&&(n=sf(t)),new dc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sf(e.commitTime);return this.listener.I_(n,t)}return xu(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=vf(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gf(t.serializer,e)}))};this.e_(n)}}]),n}(Ah),Nh=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return m(n,[{key:"A_",value:function(){if(this.d_)throw new Tu(_u.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=C(i,2),o=a[0],u=a[1];return r.connection.wo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_u.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tu(_u.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=C(a,2),u=o[0],s=o[1];return i.connection.Co(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_u.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Tu(_u.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(m((function e(){h(this,e)})));var Rh=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return m(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(bu(t),this.f_=!1):gu("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),Dh=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Wh(o),!e.t0){e.next=5;break}return gu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Su(t)).C_.add(4),e.next=4,Fh(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,Lh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new Rh(r,i)}));function Lh(e){return Mh.apply(this,arguments)}function Mh(){return(Mh=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wh(t)){e.next=18;break}n=A(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Fh(e){return Uh.apply(this,arguments)}function Uh(){return(Uh=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function jh(e,t){var n=Su(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Hh(n)?qh(n):kd(n).Ho()&&zh(n,t))}function Vh(e,t){var n=Su(e),r=kd(n);n.D_.delete(t),r.Ho()&&Bh(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Wh(n)&&n.M_.set("Unknown"))}function zh(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zu.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kd(e).u_(t)}function Bh(e,t){e.x_.Oe(t),kd(e).c_(t)}function qh(e){e.x_=new Xc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),kd(e).start(),e.M_.g_()}function Hh(e){return Wh(e)&&!kd(e).jo()&&e.D_.size>0}function Wh(e){return 0===Su(e).C_.size}function Kh(e){e.x_=void 0}function Gh(e){return Qh.apply(this,arguments)}function Qh(){return(Qh=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){zh(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return(Xh=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kh(t),Hh(t)?(t.M_.w_(n),qh(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t,n){return Jh.apply(this,arguments)}function Jh(){return Jh=nt(et().mark((function e(t,n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof Qc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Zh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kc?t.x_.$e(n):n instanceof Gc?t.x_.Je(n):t.x_.Ge(n),r.isEqual(zu.min())){e.next=29;break}return e.prev=14,e.next=17,uh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(ws.EMPTY_BYTE_STRING,r.snapshotVersion)),Bh(e,t);var i=new Pf(r.target,t,n,r.sequenceNumber);zh(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Zh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Jh.apply(this,arguments)}function Zh(e,t,n){return ed.apply(this,arguments)}function ed(){return(ed=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rs(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,Fh(t);case 5:t.M_.set("Offline"),r||(r=function(){return uh(t.localStore)}),t.asyncQueue.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,Lh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function td(e,t){return t().catch((function(n){return Zh(e,n,t)}))}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Su(t),r=wd(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!id(n)){e.next=19;break}return e.prev=3,e.next=6,ch(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,ad(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Zh(n,e.t0);case 17:e.next=2;break;case 19:od(n)&&ud(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),rd.apply(this,arguments)}function id(e){return Wh(e)&&e.b_.length<10}function ad(e,t){e.b_.push(t);var n=wd(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function od(e){return Wh(e)&&!wd(e).jo()&&e.b_.length>0}function ud(e){wd(e).start()}function sd(e){return ld.apply(this,arguments)}function ld(){return(ld=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wd(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cd(e){return fd.apply(this,arguments)}function fd(){return(fd=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wd(t),r=A(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e,t,n){return dd.apply(this,arguments)}function dd(){return dd=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=Nc.from(i,n,r),e.next=3,td(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,nd(t);case 5:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wd(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Lc(e)&&e!==_u.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),wd(t).Yo(),e.next=5,td(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,nd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:od(t)&&ud(t);case 5:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){return yd.apply(this,arguments)}function yd(){return yd=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Su(t)).asyncQueue.verifyOperationInProgress(),gu("RemoteStore","RemoteStore received new credentials"),i=Wh(r),r.C_.add(3),e.next=6,Fh(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,Lh(r);case 12:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){return bd.apply(this,arguments)}function bd(){return(bd=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Su(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,Lh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,Fh(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e){return e.O_||(e.O_=function(e,t,n){var r=Su(e);return r.A_(),new Oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Gh.bind(null,e),Io:Yh.bind(null,e),a_:$h.bind(null,e)}),e.v_.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),Hh(e)?qh(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:Kh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function wd(e){return e.N_||(e.N_=function(e,t,n){var r=Su(e);return r.A_(),new Ph(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:sd.bind(null,e),Io:pd.bind(null,e),T_:cd.bind(null,e),I_:hd.bind(null,e)}),e.v_.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,nd(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(gu("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var Ed=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tu(_u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xd(e,t){if(bu("AsyncQueue","".concat(t,": ").concat(e)),rs(e))return new Tu(_u.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Sd=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Ku.comparator(e.key,n.key)}:function(e,t){return Ku.comparator(e.key,t.key)},this.keyedMap=Bl(),this.sortedSet=new ps(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_d=function(){function e(){h(this,e),this.B_=new ps(Ku.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Eu():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Td=function(){function e(t,n,r,i,a,o,u,s,l){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Sd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Cd=m((function e(){h(this,e),this.k_=void 0,this.listeners=[]})),Id=m((function e(){h(this,e),this.queries=new Ul((function(e){return Nl(e)}),Pl),this.onlineState="Unknown",this.q_=new Set}));function Ad(e,t){return Od.apply(this,arguments)}function Od(){return Od=nt(et().mark((function e(t,n){var r,i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Su(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Cd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=xd(e.t0,"Initialization of query '".concat(Rl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&Ld(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Od.apply(this,arguments)}function Pd(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=nt(et().mark((function e(t,n){var r,i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Su(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Rd(e,t){var n,r=Su(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=A(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.K_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ld(r)}function Dd(e,t,n){var r=Su(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ld(e){e.q_.forEach((function(e){e.next()}))}var Md=function(){function e(t,n,r){h(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Td(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}();var Fd=m((function e(t){h(this,e),this.key=t})),Ud=m((function e(t){h(this,e),this.key=t})),jd=function(){function e(t,n){h(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Yl(),this.mutatedKeys=Yl(),this._a=Ml(t),this.aa=new Sd(this._a)}return m(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new _d,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Dl(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n._a(f,s)>0||l&&n._a(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:u,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var a=e.la.L_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Eu()}};return n(e)-n(t)}(e.type,t.type)||r._a(e.doc,t.doc)})),this.Pa(n);var o=t?this.Ia():[],u=0===this.oa.size&&this.current?1:0,s=u!==this.sa;return this.sa=u,0!==a.length||s?{snapshot:new Td(this.query,e.aa,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _d,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=Yl(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new Ud(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new Fd(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=Yl();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return Td.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),Vd=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),zd=m((function e(t){h(this,e),this.key=t,this.Ra=!1})),Bd=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ul((function(e){return Nl(e)}),Pl),this.fa=new Map,this.ga=new Set,this.pa=new ps(Ku.comparator),this.ya=new Map,this.wa=new Hf,this.Sa={},this.ba=new Map,this.Da=Uf.Nn(),this.onlineState="Unknown",this.Ca=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function qd(e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=nt(et().mark((function e(t,n){var r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gp(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,fh(r.localStore,Il(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Wd(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&jh(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Wd(e,t,n,r,i){return Kd.apply(this,arguments)}function Kd(){return Kd=nt(et().mark((function e(t,n,r,i,a){var o,u,s,l,c,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,ph(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(cp(t,n.targetId,u.Ta),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ph(t.localStore,n,!0);case 3:return o=e.sent,u=new jd(n,o.ls),s=u.ca(o.documents),l=Wc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=u.applyChanges(s,t.isPrimaryClient,l),cp(t,r,c.Ta),f=new Vd(n,r,u),e.abrupt("return",(t.ma.set(n,f),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Gd(e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Su(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!Pl(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Vh(r.remoteStore,i.targetId),sp(r,i.targetId)})).catch(es);case 9:e.next=14;break;case 11:return sp(r,i.targetId),e.next=14,hh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Qd.apply(this,arguments)}function Yd(e,t,n){return Xd.apply(this,arguments)}function Xd(){return Xd=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bp(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Su(e),a=Vu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Vl(),s=Yl();return i.ss.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=A(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=kc(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new xc(l.key,c,Gs(c.value.mapValue),pc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ql(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new ps(Uu)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,dp(i,a.changes);case 9:return e.next=11,nd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Xd.apply(this,arguments)}function $d(e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su(t),e.prev=1,e.next=4,sh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(xu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?xu(n.Ra):e.removedDocuments.size>0&&(xu(n.Ra),n.Ra=!1))})),e.next=8,dp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,es(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Jd.apply(this,arguments)}function Zd(e,t,n){var r=Su(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Su(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ld(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=nt(et().mark((function e(t,n,r){var i,a,o,u,s,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Su(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ps(Ku.comparator)).insert(o,Qs.newNoDocument(o,zu.min())),s=Yl().add(o),l=new Hc(zu.min(),new Map,new ps(Uu),u,s),e.next=9,$d(i,l);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),hp(i),e.next=16;break;case 14:return e.next=16,hh(i.localStore,n,!1).then((function(){return sp(i,n,r)})).catch(es);case 16:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su(t),i=n.batch.batchId,e.prev=1,e.next=4,oh(r.localStore,n);case 4:return a=e.sent,up(r,i,null),op(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,dp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,es(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rp.apply(this,arguments)}function ip(e,t,n){return ap.apply(this,arguments)}function ap(){return ap=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Su(t),e.prev=1,e.next=4,function(e,t){var n=Su(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,up(i,n,r),op(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,dp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,es(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ap.apply(this,arguments)}function op(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function up(e,t,n){var r=Su(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function sp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||lp(e,t)}))}function lp(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(Vh(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),hp(e))}function cp(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Fd?(e.wa.addReference(a.key,t),fp(e,a)):a instanceof Ud?(gu("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||lp(e,a.key)):Eu()}}catch(o){i.e(o)}finally{i.f()}}function fp(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(gu("SyncEngine","New document in limbo: "+n),e.ga.add(r),hp(e))}function hp(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new Ku(qu.fromString(t)),r=e.Da.next();e.ya.set(r,new zd(n)),e.pa=e.pa.insert(n,r),jh(e.remoteStore,new Pf(Il(Sl(n.path)),r,"TargetPurposeLimboResolution",is._e))}}function dp(e,t,n){return pp.apply(this,arguments)}function pp(){return pp=nt(et().mark((function e(t,n,r){var i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Su(t),a=[],o=[],u=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){u.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zf.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Va.a_(a),e.next=9,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,u,s,l,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ns.forEach(n,(function(t){return ns.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ns.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rs(e.t0)){e.next=10;break}throw e.t0;case 10:gu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ts.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.ts=r.ts.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){return mp.apply(this,arguments)}function mp(){return(mp=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Su(t)).currentUser.isEqual(n)){e.next=11;break}return gu("SyncEngine","User change. New user:",n.toKey()),e.next=5,ih(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new Tu(_u.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,dp(r,i._s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yp(e,t){var n=Su(e),r=n.ya.get(t);if(r&&r.Ra)return Yl().add(r.key);var i=Yl(),a=n.fa.get(t);if(!a)return i;var o,u=A(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ma.get(s);i=i.unionWith(l.view.ua)}}catch(c){u.e(c)}finally{u.f()}return i}function gp(e){var t=Su(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$d.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ep.bind(null,t),t.Va.a_=Rd.bind(null,t.eventManager),t.Va.Fa=Dd.bind(null,t.eventManager),t}function bp(e){var t=Su(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=np.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ip.bind(null,t),t}var kp=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return rh(this.persistence,new th,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Xf(Jf.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new yh}},{key:"terminate",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wp=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Zd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vp.bind(null,this.syncEngine),e.next=12,gd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Id}},{key:"createDatastore",value:function(e){var t=Ch(e.databaseInfo.databaseId),n=function(e){return new _h(e)}(e.databaseInfo);return function(e,t,n,r){return new Nh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Dh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Zd(t.syncEngine,e,0)}),bh.D()?new bh:new gh)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Bd(e,t,n,r,i,a);return o&&(u.Ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Su(t),gu("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,Fh(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Ep=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):bu("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xp=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pu.UNAUTHENTICATED,this.clientId=Fu.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tu(_u.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Sp(e,t){return _p.apply(this,arguments)}function _p(){return _p=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ih(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}function Tp(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ap(t);case 3:return r=e.sent,gu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return md(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return md(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Ip(e){return"FirebaseError"===e.name?e.code===_u.FAILED_PRECONDITION||e.code===_u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Ap(e){return Op.apply(this,arguments)}function Op(){return(Op=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return gu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Sp(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ip(n=e.t0)){e.next=13;break}throw n;case 13:return ku("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Sp(t,new kp);case 16:e.next=21;break;case 18:return gu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Sp(t,new kp);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Pp(e){return Np.apply(this,arguments)}function Np(){return(Np=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return gu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Tp(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return gu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Tp(t,new wp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e){return Pp(e).then((function(e){return e.syncEngine}))}function Dp(e){return Lp.apply(this,arguments)}function Lp(){return(Lp=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=qd.bind(null,n.syncEngine),r.onUnlisten=Gd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ep({next:function(a){t.enqueueAndForget((function(){return Pd(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Tu(_u.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Tu(_u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Md(Sl(n.path),a,{includeMetadataChanges:!0,J_:!0});return Ad(e,o)},i.next=3,Dp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ep({next:function(n){t.enqueueAndForget((function(){return Pd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Tu(_u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Md(n,a,{includeMetadataChanges:!0,J_:!0});return Ad(e,o)},i.next=3,Dp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Up(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var jp=new Map;function Vp(e,t,n){if(!n)throw new Tu(_u.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zp(e){if(!Ku.isDocumentKey(e))throw new Tu(_u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bp(e){if(Ku.isDocumentKey(e))throw new Tu(_u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Eu()}function Hp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tu(_u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qp(e);throw new Tu(_u.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Wp=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tu(_u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tu(_u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Tu(_u.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Up(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Tu(_u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Tu(_u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Tu(_u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kp=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wp({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new Tu(_u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tu(_u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Au;switch(e.type){case"firstParty":return new Ru(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Tu(_u.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jp.get(e);t&&(gu("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Hp(e,Kp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=pu.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[st(JSON.stringify({alg:"none",type:"JWT"})),st(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Tu(_u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pu(l)}e._authCredentials=new Ou(new Iu(u,s))}}var Qp=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Yp=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xp(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Xp=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Sl(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Yp(this.firestore,null,new Ku(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Qp);function $p(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),Vp("collection","path",t),e instanceof Kp){var a=qu.fromString.apply(qu,[t].concat(r));return Bp(a),new Xp(e,null,a)}if(!(e instanceof Yp||e instanceof Xp))throw new Tu(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qu.fromString.apply(qu,[t].concat(r)));return Bp(o),new Xp(e.firestore,null,o)}function Jp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),1===arguments.length&&(t=Fu.newId()),Vp("doc","path",t),e instanceof Kp){var a=qu.fromString.apply(qu,[t].concat(r));return zp(a),new Yp(e,null,new Ku(a))}if(!(e instanceof Yp||e instanceof Xp))throw new Tu(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qu.fromString.apply(qu,[t].concat(r)));return zp(o),new Yp(e.firestore,e instanceof Xp?e.converter:null,new Ku(o))}var Zp=function(){function e(){var t=this;h(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ih(this,"async_queue_retry"),this.iu=function(){var e=Th();e&&gu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=Th();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return m(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new Cu;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rs(e.t0)){e.next=12;break}throw e.t0;case 12:gu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw bu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=Ed.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&Eu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=A(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();var ev=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Zp,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||nv(this),this._firestoreClient.terminate()}}]),n}(Kp);function tv(e){return e._firestoreClient||nv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nv(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new As(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Up(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new xp(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rv=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ws.fromBase64String(t))}catch(t){throw new Tu(_u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ws.fromUint8Array(t))}}]),e}(),iv=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tu(_u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wu(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var av=m((function e(t){h(this,e),this._methodName=t})),ov=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Tu(_u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tu(_u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Uu(this._lat,e._lat)||Uu(this._long,e._long)}}]),e}(),uv=/^__.*__$/,sv=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}]),e}();function lv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Eu()}}var cv=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return wv(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(lv(this.Iu)&&uv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),fv=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(t)}return m(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cv({Iu:e,methodName:t,gu:n,path:Wu.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function hv(e){var t=e._freezeSettings(),n=Ch(e._databaseId);return new fv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);yv("Data must be an object, but it was:",o,r);var u,s,l=vv(r,o);if(a.merge)u=new bs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=A(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=gv(t,c.value,n);if(!o.contains(d))throw new Tu(_u.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Ev(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new bs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new sv(new Ks(l),u,s)}function pv(e,t){if(mv(e=At(e)))return yv("Unsupported field value:",t,e),vv(e,t);if(e instanceof av)return function(e,t){if(!lv(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=pv(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=At(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ec(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vu.fromDate(e);return{timestampValue:af(t.serializer,n)}}if(e instanceof Vu){var r=new Vu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:af(t.serializer,r)}}if(e instanceof ov)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rv)return{bytesValue:of(t.serializer,e._byteString)};if(e instanceof Yp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:lf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(qp(e)))}(e,t)}function vv(e,t){var n={};return ds(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(e,(function(e,r){var i=pv(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vu||e instanceof ov||e instanceof rv||e instanceof Yp||e instanceof av)}function yv(e,t,n){if(!mv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qp(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function gv(e,t,n){if((t=At(t))instanceof iv)return t._internalPath;if("string"==typeof t)return kv(e,t);throw wv("Field path arguments must be of type string or ",e,!1,void 0,n)}var bv=new RegExp("[~\\*/\\[\\]]");function kv(e,t,n){if(t.search(bv)>=0)throw wv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(iv,f(t.split(".")))._internalPath}catch(rr){throw wv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Tu(_u.INVALID_ARGUMENT,u+e+s)}function Ev(e,t){return e.some((function(e){return e.isEqual(t)}))}var xv=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Yp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(_v("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Sv=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return rt(b(n.prototype),"data",this).call(this)}}]),n}(xv);function _v(e,t){return"string"==typeof t?kv(e,t):t instanceof iv?t._internalPath:t._delegate._internalPath}function Tv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tu(_u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cv=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Eu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return hs(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new ov(Ss(e.latitude),Ss(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Is(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xs(e);return new Vu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qu.fromString(e);xu(Of(n));var r=new Os(n.get(1),n.get(3)),i=new Ku(n.popFirst(5));return r.isEqual(t)||bu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Iv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Av=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ov=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return rt(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(_v("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(xv),Pv=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rt(b(n.prototype),"data",this).call(this,e)}}]),n}(Ov),Nv=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Av(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Pv(n._firestore,n._userDataWriter,r.key,r,new Av(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tu(_u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Av(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Av(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Rv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Rv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Eu()}}function Dv(e){e=Hp(e,Yp);var t=Hp(e.firestore,ev);return Mp(tv(t),e._key).then((function(n){return jv(t,e,n)}))}var Lv=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new rv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yp(this.firestore,null,t)}}]),n}(Cv);function Mv(e){e=Hp(e,Qp);var t=Hp(e.firestore,ev),n=tv(t),r=new Lv(t);return Tv(e._query),Fp(n,e._query).then((function(n){return new Nv(t,r,e,n)}))}function Fv(e,t,n){e=Hp(e,Yp);var r=Hp(e.firestore,ev),i=Iv(e.converter,t,n);return Uv(r,[dv(hv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pc.none())])}function Uv(e,t){return function(e,t){var n=new Cu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Yd,r.next=3,Rp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tv(e),t)}function jv(e,t,n){var r=n.docs.get(t._key),i=new Lv(e);return new Ov(e,i,t._key,r,new Av(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vu=e}(Sn),bn(new Ot("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ev(new Pu(e.getProvider("auth-internal")),new Lu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tu(_u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Cn(du,"4.3.2",e),Cn(du,"4.3.2","esm2017")}();Cn("firebase","10.6.0","app");function Vv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var zv;function Bv(){return it({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qv=Bv,Hv=new bt("auth","Firebase",Bv()),Wv=new zt("@firebase/auth");function Kv(e){if(Wv.logLevel<=Dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wv.warn.apply(Wv,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function Gv(e){if(Wv.logLevel<=Dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wv.error.apply(Wv,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function Qv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $v.apply(void 0,[e].concat(n))}function Yv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $v.apply(void 0,[e].concat(n))}function Xv(e,t,n){var r=Object.assign(Object.assign({},qv()),it({},t,n));return new bt("auth","Firebase",r).create(t,{appName:e.name})}function $v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return Hv.create.apply(Hv,[e].concat(n))}function Jv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $v.apply(void 0,[t].concat(r))}}function Zv(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Gv(t),new Error(t)}function em(e,t){e||Zv(t)}function tm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nm(){return"http:"===rm()||"https:"===rm()}function rm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function im(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nm()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var am=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,em(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return m(e,[{key:"get",value:function(){return im()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function om(e,t){em(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var um=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Zv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Zv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Zv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),sm=(it(zv={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),it(zv,"MISSING_CUSTOM_TOKEN","internal-error"),it(zv,"INVALID_IDENTIFIER","invalid-email"),it(zv,"MISSING_CONTINUE_URI","internal-error"),it(zv,"INVALID_PASSWORD","wrong-password"),it(zv,"MISSING_PASSWORD","missing-password"),it(zv,"EMAIL_EXISTS","email-already-in-use"),it(zv,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),it(zv,"INVALID_IDP_RESPONSE","invalid-credential"),it(zv,"INVALID_PENDING_TOKEN","invalid-credential"),it(zv,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),it(zv,"MISSING_REQ_TYPE","internal-error"),it(zv,"EMAIL_NOT_FOUND","user-not-found"),it(zv,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),it(zv,"EXPIRED_OOB_CODE","expired-action-code"),it(zv,"INVALID_OOB_CODE","invalid-action-code"),it(zv,"MISSING_OOB_CODE","internal-error"),it(zv,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),it(zv,"INVALID_ID_TOKEN","invalid-user-token"),it(zv,"TOKEN_EXPIRED","user-token-expired"),it(zv,"USER_NOT_FOUND","user-token-expired"),it(zv,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),it(zv,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),it(zv,"INVALID_CODE","invalid-verification-code"),it(zv,"INVALID_SESSION_INFO","invalid-verification-id"),it(zv,"INVALID_TEMPORARY_PROOF","invalid-credential"),it(zv,"MISSING_SESSION_INFO","missing-verification-id"),it(zv,"SESSION_EXPIRED","code-expired"),it(zv,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),it(zv,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),it(zv,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),it(zv,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),it(zv,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),it(zv,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),it(zv,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),it(zv,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),it(zv,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),it(zv,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),it(zv,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),it(zv,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),it(zv,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),it(zv,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),it(zv,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),it(zv,"MISSING_CLIENT_TYPE","missing-client-type"),it(zv,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),it(zv,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),it(zv,"INVALID_REQ_TYPE","invalid-req-type"),zv),lm=new am(3e4,6e4);function cm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fm(e,t,n,r){return hm.apply(this,arguments)}function hm(){return hm=nt(et().mark((function e(t,n,r,i){var a,o=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",dm(t,a,nt(et().mark((function e(){var a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=St(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",um.fetch()(ym(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t,n){return pm.apply(this,arguments)}function pm(){return pm=nt(et().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h,d;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},sm),n),e.prev=2,a=new bm(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw km(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),c=C(l,2),f=c[0],h=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw km(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw km(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw km(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Xv(t,d,h);case 34:Qv(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gt)){e.next=41;break}throw e.t0;case 41:Qv(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pm.apply(this,arguments)}function vm(e,t,n,r){return mm.apply(this,arguments)}function mm(){return mm=nt(et().mark((function e(t,n,r,i){var a,o,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,fm(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qv(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?om(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function gm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var bm=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Yv(n.auth,"network-request-failed"))}),lm.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function km(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Yv(e,t,r);return i.customData._tokenResponse=n,i}function wm(e){return void 0!==e&&void 0!==e.enterprise}var Em=function(){function e(t){if(h(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return m(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=A(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return gm(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function xm(e,t){return Sm.apply(this,arguments)}function Sm(){return(Sm=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"GET","/v2/recaptchaConfig",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _m(e,t){return Tm.apply(this,arguments)}function Tm(){return(Tm=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cm(e,t){return Im.apply(this,arguments)}function Im(){return(Im=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Am(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Om(){return Om=nt(et().mark((function e(t){var n,r,i,a,o,u,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=At(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Jv((a=Nm(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Am(Pm(a.auth_time)),issuedAtTime:Am(Pm(a.iat)),expirationTime:Am(Pm(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Pm(e){return 1e3*Number(e)}function Nm(e){var t=C(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Gv("JWT malformed, contained fewer than 3 sections"),null;try{var a=lt(r);return a?JSON.parse(a):(Gv("Failed to decode base64 JWT payload"),null)}catch(o){return Gv("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Rm(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=nt(et().mark((function e(t,n){var r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gt&&Lm(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Dm.apply(this,arguments)}function Lm(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Mm=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fm=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Am(this.lastLoginAt),this.creationTime=Am(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Um(e){return jm.apply(this,arguments)}function jm(){return jm=nt(et().mark((function e(t){var n,r,i,a,o,u,s,l,c,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rm(t,Cm(r,{idToken:i}));case 6:Jv(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Vv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=zm(t.providerData,u),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Vm(){return(Vm=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=At(t),e.next=3,Um(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function Bm(e,t){return qm.apply(this,arguments)}function qm(){return(qm=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dm(t,{},nt(et().mark((function e(){var r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ym(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",um.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hm(e,t){return Wm.apply(this,arguments)}function Wm(){return(Wm=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"POST","/v2/accounts:revokeToken",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Km=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Jv(e.idToken,"internal-error"),Jv("undefined"!==typeof e.idToken,"internal-error"),Jv("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Nm(e);return Jv(t,"internal-error"),Jv("undefined"!==typeof t.exp,"internal-error"),Jv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Jv(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bm(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Zv("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Jv("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Jv("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Jv("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gm(e,t){Jv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qm=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Fm(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rm(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Jv(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Om.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Vm.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Jv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Jv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=nt(et().mark((function e(t){var n,r,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Um(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rm(this,_m(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;Jv(b&&x,t,"internal-error");var S=Km.fromJSON(this.name,x);Jv("string"===typeof b,t,"internal-error"),Gm(f,t.name),Gm(h,t.name),Jv("boolean"===typeof k,t,"internal-error"),Jv("boolean"===typeof w,t,"internal-error"),Gm(d,t.name),Gm(p,t.name),Gm(v,t.name),Gm(m,t.name),Gm(y,t.name),Gm(g,t.name);var _=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return E&&Array.isArray(E)&&(_.providerData=E.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r){var i,a,o,u=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Km).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Um(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ym=new Map;function Xm(e){em(e instanceof Function,"Expected a class definition");var t=Ym.get(e);return t?(em(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ym.set(e,t),t)}var $m=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();$m.type="NONE";var Jm=$m;function Zm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ey=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Zm(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=nt(et().mark((function t(n,r){var i,a,o,u,s,l,c,f,h,d,p,v=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Xm(Jm),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Xm(Jm),u=Zm(i,n.config.apiKey,n.name),s=null,l=A(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Qm._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ty(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ay(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ny(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uy(t))return"Blackberry";if(sy(t))return"Webos";if(ry(t))return"Safari";if((t.includes("chrome/")||iy(t))&&!t.includes("edge/"))return"Chrome";if(oy(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ny(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/firefox\//i.test(e)}function ry(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/crios\//i.test(e)}function ay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iemobile/i.test(e)}function oy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/android/i.test(e)}function uy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/blackberry/i.test(e)}function sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/webos/i.test(e)}function ly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cy(){return function(){var e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function fy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return ly(e)||oy(e)||sy(e)||uy(e)||/windows phone/i.test(e)||ay(e)}function hy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ty(mt());break;case"Worker":t="".concat(ty(mt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}var dy=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(l){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function py(e){return vy.apply(this,arguments)}function vy(){return vy=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fm(t,"GET","/v2/passwordPolicy",cm(t,n)));case 2:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}var my=function(){function e(t){var n,r,i,a;h(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return m(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),yy=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new by(this),this.idTokenSubscription=new by(this),this.beforeStateQueue=new dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Xm(t)),this._initializationPromise=this.queue(nt(et().mark((function r(){var i,a;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ey.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Jv(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Um(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?At(t):null)&&Jv(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r=this,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Jv(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Xm(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,py(this);case 2:t=e.sent,n=new my(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new bt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,Hm(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Jv(n=t&&Xm(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ey.create(this,[Xm(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jv(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var l=e.addObserver(t);return function(){o=!0,l()}}},{key:"directlySetCurrentUser",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Jv(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hy(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=nt(et().mark((function e(){var t,n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=it({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Kv("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gy(e){return At(e)}var by=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ct(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Jv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ky(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Yv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ey=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=gy(t)}return m(e,[{key:"verify",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;wm(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=nt(et().mark((function e(n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Em(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&wm(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ky("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xy(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=nt(et().mark((function e(t,n,r){var i,a,o,u,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Ey(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Sy.apply(this,arguments)}function _y(e,t,n,r){return Ty.apply(this,arguments)}function Ty(){return Ty=nt(et().mark((function e(t,n,r,i){var a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,xy(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=nt(et().mark((function e(a){var o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,xy(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Cy(e,t,n){var r=gy(e);Jv(r._canInitEmulator,r,"emulator-config-failed"),Jv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Iy(t),o=function(e){var t=Iy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ay(r.substr(a.length+1))}}var o=C(r.split(":"),2);return{host:o[0],port:Ay(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Iy(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ay(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Oy=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return Zv("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Zv("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Zv("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Zv("not implemented")}}]),e}();function Py(e,t){return Ny.apply(this,arguments)}function Ny(){return(Ny=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ry(e,t){return Dy.apply(this,arguments)}function Dy(){return(Dy=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithPassword",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return(My=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithEmailLink",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fy(e,t){return Uy.apply(this,arguments)}function Uy(){return(Uy=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithEmailLink",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jy=function(e){g(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",_y(t,n,"signInWithPassword",Ry));case 5:return e.abrupt("return",Ly(t,{email:this._email,oobCode:this._password}));case 6:Qv(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",_y(t,r,"signUpPassword",Py));case 5:return e.abrupt("return",Fy(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:Qv(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Oy);function Vy(e,t){return zy.apply(this,arguments)}function zy(){return(zy=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithIdp",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var By=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Vy(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vy(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vy(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=St(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qv("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vv(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Oy);function qy(e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fm(t,"POST","/v1/accounts:sendVerificationCode",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wy(){return(Wy=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithPhoneNumber",cm(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ky(){return(Ky=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vm(t,"POST","/v1/accounts:signInWithPhoneNumber",cm(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw km(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gy=it({},"USER_NOT_FOUND","user-not-found");function Qy(){return(Qy=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vm(t,"POST","/v1/accounts:signInWithPhoneNumber",cm(t,r),Gy));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yy=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Wy.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ky.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Qy.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Oy);var Xy=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=_t(Tt(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,c=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Jv(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_t(Tt(e)).link,n=t?_t(Tt(t)).deep_link_id:null,r=_t(Tt(e)).deep_link_id;return(r?_t(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(UE){return null}}}]),e}();var $y=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return jy._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Xy.parseLink(t);return Jv(n,"argument-error"),jy._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$y.PROVIDER_ID="password",$y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$y.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Jy=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Zy=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(Jy),eg=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return By._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Zy);eg.FACEBOOK_SIGN_IN_METHOD="facebook.com",eg.PROVIDER_ID="facebook.com";var tg=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return By._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Zy);tg.GOOGLE_SIGN_IN_METHOD="google.com",tg.PROVIDER_ID="google.com";var ng=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return By._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Zy);ng.GITHUB_SIGN_IN_METHOD="github.com",ng.PROVIDER_ID="github.com";var rg=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return By._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Zy);rg.TWITTER_SIGN_IN_METHOD="twitter.com",rg.PROVIDER_ID="twitter.com";var ig=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r,i){var a,o,u,s,l=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Qm._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ag(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=nt(et().mark((function t(n,r,i){var a;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ag(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ag(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var og=function(e){g(n,e);var t=E(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gt);function ug(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw og._fromErrorAndOperation(e,n,t,r);throw n}))}function sg(e,t){return lg.apply(this,arguments)}function lg(){return lg=nt(et().mark((function e(t,n){var r,i,a=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rm,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ig._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function cg(e,t){return fg.apply(this,arguments)}function fg(){return fg=nt(et().mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Rm(t,ug(i,a,n,t),r);case 6:return Jv((o=e.sent).idToken,i,"internal-error"),Jv(u=Nm(o.idToken),i,"internal-error"),s=u.sub,Jv(t.uid===s,i,"user-mismatch"),e.abrupt("return",ig._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Qv(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),fg.apply(this,arguments)}function hg(e,t){return dg.apply(this,arguments)}function dg(){return dg=nt(et().mark((function e(t,n){var r,i,a,o,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ug(t,i,n);case 4:return a=e.sent,e.next=7,ig._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t){return fm(e,"POST","/v2/accounts/mfaEnrollment:start",cm(e,t))}function vg(e,t){return fm(e,"POST","/v2/accounts/mfaEnrollment:finalize",cm(e,t))}new WeakMap;var mg="__sak",yg=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch(UE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var gg=function(e){g(n,e);var t=E(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=mt();return ry(e)||ly(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=fy(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);cy()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=nt(et().mark((function e(t,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yg);gg.type="LOCAL";var bg=gg,kg=function(e){g(n,e);var t=E(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yg);kg.type="SESSION";var wg=kg;function Eg(e){return Promise.all(e.map(function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xg=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,u,s,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Eg(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xg.receivers=[];var _g=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var l=Sg("",20);i.port1.start();var c=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Tg(){return window}function Cg(e){Tg().location.href=e}function Ig(){return"undefined"!==typeof Tg().WorkerGlobalScope&&"function"===typeof Tg().importScripts}function Ag(){return Og.apply(this,arguments)}function Og(){return(Og=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Pg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ng="firebaseLocalStorageDb",Rg="firebaseLocalStorage",Dg="fbase_key",Lg=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Mg(e,t){return e.transaction([Rg],t?"readwrite":"readonly").objectStore(Rg)}function Fg(){var e=indexedDB.deleteDatabase(Ng);return new Lg(e).toPromise()}function Ug(){var e=indexedDB.open(Ng,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Rg,{keyPath:Dg})}catch(r){n(r)}})),e.addEventListener("success",nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rg)){n.next=12;break}return r.close(),n.next=5,Fg();case 5:return n.t0=t,n.next=8,Ug();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function jg(e,t,n){return Vg.apply(this,arguments)}function Vg(){return Vg=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mg(t,!0).put((it(i={},Dg,n),it(i,"value",r),i)),e.abrupt("return",new Lg(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function zg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mg(t,!1).get(n),e.next=3,new Lg(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function qg(e,t){var n=Mg(e,!0).delete(t);return new Lg(n).toPromise()}var Hg=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ug();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ig()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xg._getInstance(Ig()?self:null),this.receiver._subscribe("keyChanged",function(){var e=nt(et().mark((function e(n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ag();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new _g(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Pg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ug();case 5:return t=e.sent,e.next=8,jg(t,mg,"1");case 8:return e.next=10,qg(t,mg);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return jg(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return zg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return qg(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Mg(e,!1).getAll();return new Lg(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hg.type="LOCAL";var Wg=Hg;function Kg(e,t){return fm(e,"POST","/v2/accounts/mfaSignIn:start",cm(e,t))}function Gg(e,t){return fm(e,"POST","/v2/accounts/mfaSignIn:finalize",cm(e,t))}wy("rcb"),new am(3e4,6e4);var Qg="recaptcha";function Yg(e,t,n){return Xg.apply(this,arguments)}function Xg(){return Xg=nt(et().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Jv("string"===typeof a,t,"argument-error"),Jv(r.type===Qg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Jv("enroll"===u.type,t,"internal-error"),e.next=13,pg(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Jv("signin"===u.type,t,"internal-error"),Jv(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Kg(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,qy(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Xg.apply(this,arguments)}var $g=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=gy(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return Yg(this.auth,e,At(t))}}],[{key:"credential",value:function(e,t){return Yy._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Yy._fromTokenResponse(n,r):null}}]),e}();function Jg(e,t){return t?Xm(t):(Jv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$g.PROVIDER_ID="phone",$g.PHONE_SIGN_IN_METHOD="phone";var Zg=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Vy(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Vy(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Vy(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Oy);function eb(e){return hg(e.auth,new Zg(e),e.bypassAuthState)}function tb(e){var t=e.auth,n=e.user;return Jv(n,t,"internal-error"),cg(n,new Zg(e),e.bypassAuthState)}function nb(e){return rb.apply(this,arguments)}function rb(){return(rb=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Jv(r=t.user,n,"internal-error"),e.abrupt("return",sg(r,new Zg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ib=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=nt(et().mark((function t(n,r){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eb;case"linkViaPopup":case"linkViaRedirect":return nb;case"reauthViaPopup":case"reauthViaRedirect":return tb;default:Qv(this.auth,"internal-error")}}},{key:"resolve",value:function(e){em(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){em(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ab=new am(2e3,1e4);var ob=function(e){g(n,e);var t=E(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return m(n,[{key:"executeNotNull",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Jv(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){var t,n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return em(1===this.filter.length,"Popup operations only handle one event"),t=Sg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Yv(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Yv(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Yv(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ab.get())}()}}]),n}(ib);ob.currentPopupAction=null;var ub="pendingRedirect",sb=new Map,lb=function(e){g(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=nt(et().mark((function e(){var t,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sb.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cb(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,rt(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:sb.set(this.auth._key(),t);case 21:return this.bypassAuthState||sb.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",rt(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",rt(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ib);function cb(e,t){return fb.apply(this,arguments)}function fb(){return fb=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pb(n),i=db(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t){sb.set(e._key(),t)}function db(e){return Xm(e._redirectPersistence)}function pb(e){return Zm(ub,e.config.apiKey,e.name)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=nt(et().mark((function e(t,n){var r,i,a,o,u,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=gy(t),a=Jg(i,n),o=new lb(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}var yb=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bb(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yv(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gb(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(gb(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function gb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bb(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function kb(e){return wb.apply(this,arguments)}function wb(){return wb=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fm(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}var Eb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xb=/^https?/;function Sb(){return(Sb=nt(et().mark((function e(t){var n,r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kb(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!_b(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qv(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function _b(e){var t=tm(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!xb.test(r))return!1;if(Eb.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tb=new am(3e4,6e4);function Cb(){var e=Tg().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ib=null;function Ab(e){return Ib=Ib||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cb(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cb(),n(Yv(e,"network-request-failed"))},timeout:Tb.get()})}if(null===(i=null===(r=Tg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Tg().gapi)||void 0===a?void 0:a.load)){var u=wy("iframefcb");return Tg()[u]=function(){gapi.load?o():n(Yv(e,"network-request-failed"))},ky("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ib=null,e}))}(e),Ib}var Ob=new am(5e3,15e3),Pb="__/auth/iframe",Nb="emulator/auth/iframe",Rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Db=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lb(e){var t=e.config;Jv(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?om(t,Nb):"https://".concat(e.config.authDomain,"/").concat(Pb),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=Db.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(St(r).slice(1))}function Mb(e){return Fb.apply(this,arguments)}function Fb(){return Fb=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ab(t);case 2:return n=e.sent,Jv(r=Tg().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Lb(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rb,dontclear:!0},(function(e){return new Promise(function(){var n=nt(et().mark((function n(r,i){var a,o,u;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Tg().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Yv(t,"network-request-failed"),o=Tg().setTimeout((function(){i(a)}),Ob.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}var Ub={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jb=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Vb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ub),{width:r.toString(),height:i.toString(),top:a,left:o}),l=mt().toLowerCase();n&&(u=iy(l)?"_blank":n),ny(l)&&(t=t||"http://localhost",s.scrollbars="yes");var c=Object.entries(s).reduce((function(e,t){var n=C(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ly(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new jb(null);var f=window.open(t||"",u,c);Jv(f,e,"popup-blocked");try{f.focus()}catch(h){}return new jb(f)}var zb="__/auth/handler",Bb="emulator/auth/handler",qb=encodeURIComponent("fac");function Hb(e,t,n,r,i,a){return Wb.apply(this,arguments)}function Wb(){return(Wb=nt(et().mark((function e(t,n,r,i,a,o){var u,s,l,c,f,h,d,p,v,m,y,g,b;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jv(t.config.authDomain,t,"auth-domain-config-required"),Jv(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Sn,eventId:a},n instanceof Jy)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",wt(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)c=C(l[s],2),f=c[0],h=c[1],u[f]=h;for(n instanceof Zy&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=d.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,b=g?"#".concat(qb,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(Kb(t),"?").concat(St(p).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(e){var t=e.config;return t.emulator?om(t,Bb):"https://".concat(t.authDomain,"/").concat(zb)}var Gb="webStorageSupport",Qb=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wg,this._completeRedirectFn=vb,this._overrideRedirectResult=hb}return m(e,[{key:"_openPopup",value:function(){var e=nt(et().mark((function e(t,n,r,i){var a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return em(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Hb(t,n,r,tm(),i);case 3:return o=e.sent,e.abrupt("return",Vb(t,o,Sg()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Hb(t,n,r,tm(),i);case 4:return Cg(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(em(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mb(t);case 2:return n=e.sent,r=new yb(t),n.register("authEvent",(function(e){return Jv(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gb,{type:Gb},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Gb];void 0!==i&&t(!!i),Qv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sb.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return fy()||ry()||ly()}}]),e}(),Yb=Qb,Xb=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Zv("unexpected MultiFactorSessionType")}}}]),e}(),$b=function(e){g(n,e);var t=E(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fm(e,"POST","/v2/accounts/mfaEnrollment:finalize",cm(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fm(e,"POST","/v2/accounts/mfaSignIn:finalize",cm(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Xb);(function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return $b._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Jb=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Zb._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Zb._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,a=r.user.auth,o={idToken:r.credential,totpEnrollmentInfo:{}},fm(a,"POST","/v2/accounts/mfaEnrollment:start",cm(a,o));case 4:return i=e.sent,e.abrupt("return",ek._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Jb.FACTOR_ID="totp";var Zb=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",vg(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Gg(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Xb),ek=function(){function e(t,n,r,i,a,o,u){h(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(tk(e)||tk(t))&&(r=!0),r&&(tk(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),tk(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function tk(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var nk="@firebase/auth",rk="1.4.0",ik=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Jv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ak,ok=pt("authIdTokenMaxAge")||300,uk=null;ak="Browser",bn(new Ot("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Jv(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var l={apiKey:u,authDomain:s,clientPlatform:ak,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hy(ak)},c=new yy(r,i,a,l);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bn(new Ot("auth-internal",(function(e){return function(e){return new ik(e)}(gy(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(nk,rk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ak)),Cn(nk,rk,"esm2017");var sk=_n({apiKey:"AIzaSyBjboMH-rwsiD1PsG-LrlQWx-6-Fa_p96M",authDomain:"reveal-clues-quiz.firebaseapp.com",projectId:"reveal-clues-quiz",storageBucket:"reveal-clues-quiz.appspot.com",messagingSenderId:"74030913512",appId:"1:74030913512:web:91fdf6941e3ce3abf0365d"}),lk=function(e,t){var n="string"==typeof e?e:t||"(default)",r=kn("object"==typeof e?e:Tn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=ht(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&Gp.apply(void 0,[r].concat(f(i)))}return r}(sk),ck=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=kn(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=kn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Et(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Qv(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Yb,persistence:[Wg,bg,wg]}),i=pt("authTokenSyncURL");if(i){var a=(n=i,function(){var e=nt(et().mark((function e(t){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>ok)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,uk!==a){e.next=12;break}return e.abrupt("return");case 12:return uk=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){At(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){At(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=ht("auth");o&&Cy(r,"http://".concat(o))}(sk),function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$p(lk,"quizzes"),e.next=3,Mv(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),fk=function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp(lk,"quizzes/".concat(t)),e.next=3,Dv(n);case 3:if(null==(r=e.sent)){e.next=8;break}return e.abrupt("return",Promise.resolve(null===r||void 0===r?void 0:r.data()));case 8:throw new Error("Failed to load quiz ".concat(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hk=function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp(lk,"quizzes/".concat(t.slug)),e.next=3,Fv(n,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dk="HomePage_question__dZ4jd",pk="HomePage_clues__KQCpi",vk=function(e){var t=e.loadAllQuizzes,n=void 0===t?ck:t,r=C((0,i.useState)([]),2),a=r[0],o=r[1];return(0,i.useEffect)((function(){var e=!0;return n().then((function(t){e&&o(t)})),function(){e=!1}})),i.createElement("div",{className:dk},i.createElement("h2",null,"List of Quizzes"),i.createElement("ul",{className:pk},0!==a.length?a.map((function(e){return i.createElement("li",{key:e.slug},i.createElement($e,{to:qe.QUIZ.replace(":id",e.slug)},e.title))})):i.createElement("p",null,"Loading...")))};function mk(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yk(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var gk="An invariant failed, however the error is obfuscated because this is a production build.",bk=[];Object.freeze(bk);var kk={};function wk(){return++qw.mobxGuid}function Ek(e){throw xk(!1,e),"X"}function xk(e,t){if(!e)throw new Error("[mobx] "+(t||gk))}Object.freeze(kk);function Sk(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _k=function(){};function Tk(e){return null!==e&&"object"===typeof e}function Ck(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Ik(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ak(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Tk(e)&&!0===e[n]}}function Ok(e){return e instanceof Map}function Pk(e){return e instanceof Set}function Nk(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function Rk(e){return e&&e.toString?e.toString():new String(e).toString()}function Dk(e){return null===e?null:"object"===typeof e?""+e:e}var Lk="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Mk=Symbol("mobx administration"),Fk=function(){function e(e){void 0===e&&(e="Atom@"+wk()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=fw.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Yw(this)},e.prototype.reportChanged=function(){Gw(),function(e){if(e.lowestObserverState===fw.STALE)return;e.lowestObserverState=fw.STALE,e.observers.forEach((function(t){t.dependenciesState===fw.UP_TO_DATE&&(t.isTracing!==hw.NONE&&Xw(t,e),t.onBecomeStale()),t.dependenciesState=fw.STALE}))}(this),Qw()},e.prototype.toString=function(){return this.name},e}(),Uk=Ak("Atom",Fk);function jk(e,t,n){void 0===t&&(t=_k),void 0===n&&(n=_k);var r,i=new Fk(e);return t!==_k&&pE("onBecomeObserved",i,t,r),n!==_k&&dE(i,n),i}var Vk={identity:function(e,t){return e===t},structural:function(e,t){return ix(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return ix(e,t,1)}},zk=function(e,t){return zk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zk(e,t)};var Bk=function(){return Bk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bk.apply(this,arguments)};function qk(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Hk(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Wk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hk(arguments[t]));return e}var Kk=Symbol("mobx did run lazy initializers"),Gk=Symbol("mobx pending decorators"),Qk={},Yk={};function Xk(e){var t,n;if(!0!==e[Kk]){var r=e[Gk];if(r){Ik(e,Kk,!0);var i=Wk(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var a=qk(i),o=a.next();!o.done;o=a.next()){var u=r[o.value];u.propertyCreator(e,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}}function $k(e,t){return function(){var n,r,i=function(r,i,a,o){if(!0===o)return t(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,Gk)){var u=r[Gk];Ik(r,Gk,Bk({},u))}return r[Gk][i]={prop:i,propertyCreator:t,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?Qk:Yk;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return Xk(this),this[e]},set:function(t){Xk(this),this[e]=t}})}(i,e)};return(2===(r=arguments).length||3===r.length)&&("string"===typeof r[1]||"symbol"===typeof r[1])||4===r.length&&!0===r[3]?(n=bk,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function Jk(e,t,n){return xE(e)?e:Array.isArray(e)?lw.array(e,{name:n}):Ck(e)?lw.object(e,void 0,{name:n}):Ok(e)?lw.map(e,{name:n}):Pk(e)?lw.set(e,{name:n}):e}function Zk(e){return e}function ew(e){xk(e);var t=$k(!0,(function(t,n,r,i,a){var o=r?r.initializer?r.initializer.call(t):r.value:void 0;YE(t).addObservableProp(n,o,e)}));return t.enhancer=e,t}var tw={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function nw(e){return null===e||void 0===e?tw:"string"===typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(tw);var rw=ew(Jk),iw=ew((function(e,t,n){return void 0===e||null===e||ex(e)||VE(e)||HE(e)||GE(e)?e:Array.isArray(e)?lw.array(e,{name:n,deep:!1}):Ck(e)?lw.object(e,void 0,{name:n,deep:!1}):Ok(e)?lw.map(e,{name:n,deep:!1}):Pk(e)?lw.set(e,{name:n,deep:!1}):Ek(!1)})),aw=ew(Zk),ow=ew((function(e,t,n){return ix(e,t)?t:e}));function uw(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?Zk:Jk}var sw={box:function(e,t){arguments.length>2&&cw("box");var n=nw(t);return new Lw(e,uw(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&cw("array");var n=nw(t);return function(e,t,n,r){void 0===n&&(n="ObservableArray@"+wk());void 0===r&&(r=!1);var i=new ME(n,t,r);a=i.values,o=Mk,u=i,Object.defineProperty(a,o,{enumerable:!1,writable:!1,configurable:!0,value:u});var a,o,u;var s=new Proxy(i.values,LE);if(i.proxy=s,e&&e.length){var l=Rw(!0);i.spliceWithArray(0,0,e),Dw(l)}return s}(e,uw(n),n.name)},map:function(e,t){arguments.length>2&&cw("map");var n=nw(t);return new qE(e,uw(n),n.name)},set:function(e,t){arguments.length>2&&cw("set");var n=nw(t);return new KE(e,uw(n),n.name)},object:function(e,t,n){"string"===typeof arguments[1]&&cw("object");var r=nw(n);if(!1===r.proxy)return mE({},e,t,r);var i=yE(r),a=function(e){var t=new Proxy(e,IE);return e[Mk].proxy=t,t}(mE({},void 0,void 0,r));return gE(a,e,t,i),a},ref:aw,shallow:iw,deep:rw,struct:ow},lw=function(e,t,n){if("string"===typeof arguments[1]||"symbol"===typeof arguments[1])return rw.apply(null,arguments);if(xE(e))return e;var r=Ck(e)?lw.object(e,t,n):Array.isArray(e)?lw.array(e,t):Ok(e)?lw.map(e,t):Pk(e)?lw.set(e,t):e;if(r!==e)return r;Ek(!1)};function cw(e){Ek("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(sw).forEach((function(e){return lw[e]=sw[e]}));var fw,hw,dw=$k(!1,(function(e,t,n,r,i){var a=n.get,o=n.set,u=i[0]||{};YE(e).addComputedProp(e,t,Bk({get:a,set:o,context:e},u))})),pw=dw({equals:Vk.structural}),vw=function(e,t,n){if("string"===typeof t)return dw.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return dw.apply(null,arguments);var r="object"===typeof t?t:{};return r.get=e,r.set="function"===typeof t?t:r.set,r.name=r.name||e.name||"",new Mw(r)};vw.struct=pw,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(fw||(fw={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hw||(hw={}));var mw=function(e){this.cause=e};function yw(e){return e instanceof mw}function gw(e){switch(e.dependenciesState){case fw.UP_TO_DATE:return!1;case fw.NOT_TRACKING:case fw.STALE:return!0;case fw.POSSIBLY_STALE:for(var t=_w(!0),n=xw(),r=e.observing,i=r.length,a=0;a<i;a++){var o=r[a];if(Fw(o)){if(qw.disableErrorBoundaries)o.get();else try{o.get()}catch(u){return Sw(n),Tw(t),!0}if(e.dependenciesState===fw.STALE)return Sw(n),Tw(t),!0}}return Cw(e),Sw(n),Tw(t),!1}}function bw(e){var t=e.observers.size>0;qw.computationDepth>0&&t&&Ek(!1),qw.allowStateChanges||!t&&"strict"!==qw.enforceActions||Ek(!1)}function kw(e,t,n){var r=_w(!0);Cw(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++qw.runId;var i,a=qw.trackingDerivation;if(qw.trackingDerivation=e,!0===qw.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(o){i=new mw(o)}return qw.trackingDerivation=a,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=fw.UP_TO_DATE,i=0,a=e.unboundDepsCount,o=0;o<a;o++){0===(u=n[o]).diffValue&&(u.diffValue=1,i!==o&&(n[i]=u),i++),u.dependenciesState>r&&(r=u.dependenciesState)}n.length=i,e.newObserving=null,a=t.length;for(;a--;){0===(u=t[a]).diffValue&&Ww(u,e),u.diffValue=0}for(;i--;){var u;1===(u=n[i]).diffValue&&(u.diffValue=0,Hw(u,e))}r!==fw.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),Tw(r),i}function ww(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ww(t[n],e);e.dependenciesState=fw.NOT_TRACKING}function Ew(e){var t=xw();try{return e()}finally{Sw(t)}}function xw(){var e=qw.trackingDerivation;return qw.trackingDerivation=null,e}function Sw(e){qw.trackingDerivation=e}function _w(e){var t=qw.allowStateReads;return qw.allowStateReads=e,t}function Tw(e){qw.allowStateReads=e}function Cw(e){if(e.dependenciesState!==fw.UP_TO_DATE){e.dependenciesState=fw.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=fw.UP_TO_DATE}}var Iw=0,Aw=1,Ow=Object.getOwnPropertyDescriptor((function(){}),"name");Ow&&Ow.configurable;function Pw(e,t,n){var r=function(){return Nw(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function Nw(e,t,n,r){var i=function(e,t,n){var r=!1,i=0;0;var a=xw();Gw();var o=Rw(!0),u=_w(!0),s={prevDerivation:a,prevAllowStateChanges:o,prevAllowStateReads:u,notifySpy:r,startTime:i,actionId:Aw++,parentActionId:Iw};return Iw=s.actionId,s}();try{return t.apply(n,r)}catch(a){throw i.error=a,a}finally{!function(e){Iw!==e.actionId&&Ek("invalid action stack. did you forget to finish an action?");Iw=e.parentActionId,void 0!==e.error&&(qw.suppressReactionErrors=!0);Dw(e.prevAllowStateChanges),Tw(e.prevAllowStateReads),Qw(),Sw(e.prevDerivation),e.notifySpy;qw.suppressReactionErrors=!1}(i)}}function Rw(e){var t=qw.allowStateChanges;return qw.allowStateChanges=e,t}function Dw(e){qw.allowStateChanges=e}var Lw=function(e){function t(t,n,r,i,a){void 0===r&&(r="ObservableValue@"+wk()),void 0===i&&(i=!0),void 0===a&&(a=Vk.default);var o=e.call(this,r)||this;return o.enhancer=n,o.name=r,o.equals=a,o.hasUnreportedChange=!1,o.value=n(t,void 0,r),o}return function(e,t){function n(){this.constructor=e}zk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==qw.UNCHANGED){false,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(bw(this),AE(this)){var t=PE(this,{object:this,type:"update",newValue:e});if(!t)return qw.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?qw.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),NE(this)&&DE(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return OE(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),RE(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Dk(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Fk),Mw=(Ak("ObservableValue",Lw),function(){function e(e){this.dependenciesState=fw.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=fw.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+wk(),this.value=new mw(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=hw.NONE,xk(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+wk(),e.set&&(this.setter=Pw(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Vk.structural:Vk.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==fw.UP_TO_DATE)return;e.lowestObserverState=fw.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===fw.UP_TO_DATE&&(t.dependenciesState=fw.POSSIBLY_STALE,t.isTracing!==hw.NONE&&Xw(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&Ek("Cycle detected in computation "+this.name+": "+this.derivation),0!==qw.inBatch||0!==this.observers.size||this.keepAlive?(Yw(this),gw(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===fw.STALE)return;e.lowestObserverState=fw.STALE,e.observers.forEach((function(t){t.dependenciesState===fw.POSSIBLY_STALE?t.dependenciesState=fw.STALE:t.dependenciesState===fw.UP_TO_DATE&&(e.lowestObserverState=fw.UP_TO_DATE)}))}(this)):gw(this)&&(this.warnAboutUntrackedRead(),Gw(),this.value=this.computeValue(!1),Qw());var e=this.value;if(yw(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(yw(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){xk(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else xk(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===fw.NOT_TRACKING,n=this.computeValue(!0),r=t||yw(e)||yw(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,qw.computationDepth++,e)t=kw(this,this.derivation,this.scope);else if(!0===qw.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new mw(n)}return qw.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ww(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return cE((function(){var a=n.get();if(!r||t){var o=xw();e({type:"update",object:n,newValue:a,oldValue:i}),Sw(o)}r=!1,i=a}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Dk(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}()),Fw=Ak("ComputedValue",Mw),Uw=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},jw={};function Vw(){return"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:jw}var zw=!0,Bw=!1,qw=function(){var e=Vw();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(zw=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Uw).version&&(zw=!1),zw?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Uw):(setTimeout((function(){Bw||Ek("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Uw)}();function Hw(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ww(e,t){e.observers.delete(t),0===e.observers.size&&Kw(e)}function Kw(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,qw.pendingUnobservations.push(e))}function Gw(){qw.inBatch++}function Qw(){if(0===--qw.inBatch){tE();for(var e=qw.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Mw&&n.suspend())}qw.pendingUnobservations=[]}}function Yw(e){var t=qw.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&qw.inBatch>0&&Kw(e),!1)}function Xw(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===hw.BREAK){var n=[];$w(bE(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Mw?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function $w(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return $w(e,t,n+1)})))}var Jw=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+wk()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=fw.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+wk(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=hw.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,qw.pendingReactions.push(this),tE())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Gw(),this._isScheduled=!1,gw(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Qw()}},e.prototype.track=function(e){if(!this.isDisposed){Gw();false,this._isRunning=!0;var t=kw(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ww(this),yw(t)&&this.reportExceptionInDerivation(t.cause),Qw()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(qw.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";qw.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),qw.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Gw(),ww(this),Qw()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[Mk]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"===typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return qw.trackingDerivation;case 1:return tx(e[0]);case 2:return tx(e[0],e[1])}}(e);if(!r)return Ek(!1);r.isTracing===hw.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?hw.BREAK:hw.LOG}(this,e)},e}();var Zw=100,eE=function(e){return e()};function tE(){qw.inBatch>0||qw.isRunningReactions||eE(nE)}function nE(){qw.isRunningReactions=!0;for(var e=qw.pendingReactions,t=0;e.length>0;){++t===Zw&&(console.error("Reaction doesn't converge to a stable state after "+Zw+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}qw.isRunningReactions=!1}var rE=Ak("Reaction",Jw);function iE(e){var t=eE;eE=function(n){return e((function(){return t(n)}))}}function aE(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function oE(){Ek(!1)}function uE(e){return function(t,n,r){if(r){if(r.value)return{value:Pw(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Pw(e,i.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){Ik(this,n,sE(e,t))}})}}(e).apply(this,arguments)}}var sE=function(e,t,n,r){return 1===arguments.length&&"function"===typeof e?Pw(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?Pw(e,t):1===arguments.length&&"string"===typeof e?uE(e):!0!==r?uE(t).apply(null,arguments):void Ik(e,t,Pw(e.name||t,n.value,this))};function lE(e,t,n){Ik(e,t,Pw(t,n.bind(e)))}function cE(e,t){void 0===t&&(t=kk);var n,r=t&&t.name||e.name||"Autorun@"+wk();if(!t.scheduler&&!t.delay)n=new Jw(r,(function(){this.track(o)}),t.onError,t.requiresObservable);else{var i=hE(t),a=!1;n=new Jw(r,(function(){a||(a=!0,i((function(){a=!1,n.isDisposed||n.track(o)})))}),t.onError,t.requiresObservable)}function o(){e(n)}return n.schedule(),n.getDisposer()}sE.bound=function(e,t,n,r){return!0===r?(lE(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return lE(this,t,n.value||n.initializer.call(this)),this[t]},set:oE}:{enumerable:!1,configurable:!0,set:function(e){lE(this,t,e)},get:function(){}}};var fE=function(e){return e()};function hE(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:fE}function dE(e,t,n){return pE("onBecomeUnobserved",e,t,n)}function pE(e,t,n,r){var i="function"===typeof r?tx(t,n):tx(t),a="function"===typeof r?r:n,o=e+"Listeners";return i[o]?i[o].add(a):i[o]=new Set([a]),"function"!==typeof i[e]?Ek(!1):function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}function vE(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,a=e.reactionScheduler,o=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((qw.pendingReactions.length||qw.inBatch||qw.isRunningReactions)&&Ek("isolateGlobalState should be called before MobX is running any reactions"),Bw=!0,zw&&(0===--Vw().__mobxInstanceCount&&(Vw().__mobxGlobals=void 0),qw=new Uw)),void 0!==t){var s=void 0;switch(t){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:Ek("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}qw.enforceActions=s,qw.allowStateChanges=!0!==s&&"strict"!==s}void 0!==n&&(qw.computedRequiresReaction=!!n),void 0!==o&&(qw.reactionRequiresObservable=!!o),void 0!==u&&(qw.observableRequiresReaction=!!u,qw.allowStateReads=!qw.observableRequiresReaction),void 0!==r&&(qw.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),qw.disableErrorBoundaries=!!i),a&&iE(a)}function mE(e,t,n,r){var i=yE(r=nw(r));return Xk(e),YE(e,r.name,i.enhancer),t&&gE(e,t,n,i),e}function yE(e){return e.defaultDecorator||(!1===e.deep?aw:rw)}function gE(e,t,n,r){var i,a;Gw();try{var o=Lk(t);try{for(var u=qk(o),s=u.next();!s.done;s=u.next()){var l=s.value,c=Object.getOwnPropertyDescriptor(t,l);0;var f=(n&&l in n?n[l]:c.get?dw:r)(e,l,c,!0);f&&Object.defineProperty(e,l,f)}}catch(h){i={error:h}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}finally{Qw()}}function bE(e,t){return kE(tx(e,t))}function kE(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}(e.observing).map(kE)),t}function wE(){this.message="FLOW_CANCELLED"}function EE(e,t){return null!==e&&void 0!==e&&(void 0!==t?!!ex(e)&&e[Mk].values.has(t):ex(e)||!!e[Mk]||Uk(e)||rE(e)||Fw(e))}function xE(e){return 1!==arguments.length&&Ek(!1),EE(e)}function SE(e,t,n){if(2!==arguments.length||GE(e))if(ex(e)){var r=e[Mk];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(HE(e))e.set(t,n);else if(GE(e))e.add(t);else{if(!VE(e))return Ek(!1);"number"!==typeof t&&(t=parseInt(t,10)),xk(t>=0,"Not a valid index: '"+t+"'"),Gw(),t>=e.length&&(e.length=t+1),e[t]=n,Qw()}else{Gw();var i=t;try{for(var a in i)SE(e,a,i[a])}finally{Qw()}}}wE.prototype=Object.create(Error.prototype);function _E(e,t){void 0===t&&(t=void 0),Gw();try{return e.apply(t)}finally{Qw()}}function TE(e){return e[Mk]}function CE(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e}var IE={has:function(e,t){if(t===Mk||"constructor"===t||t===Kk)return!0;var n=TE(e);return CE(t)?n.has(t):t in e},get:function(e,t){if(t===Mk||"constructor"===t||t===Kk)return e[t];var n=TE(e),r=n.values.get(t);if(r instanceof Fk){var i=r.get();return void 0===i&&n.has(t),i}return CE(t)&&n.has(t),e[t]},set:function(e,t,n){return!!CE(t)&&(SE(e,t,n),!0)},deleteProperty:function(e,t){return!!CE(t)&&(TE(e).remove(t),!0)},ownKeys:function(e){return TE(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return Ek("Dynamic observable objects cannot be frozen"),!1}};function AE(e){return void 0!==e.interceptors&&e.interceptors.length>0}function OE(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),Sk((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function PE(e,t){var n=xw();try{for(var r=Wk(e.interceptors||[]),i=0,a=r.length;i<a&&(xk(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{Sw(n)}}function NE(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function RE(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),Sk((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function DE(e,t){var n=xw(),r=e.changeListeners;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);Sw(n)}}var LE={get:function(e,t){return t===Mk?e[Mk]:"length"===t?e[Mk].getArrayLength():"number"===typeof t?FE.get.call(e,t):"string"!==typeof t||isNaN(t)?FE.hasOwnProperty(t)?FE[t]:e[t]:FE.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[Mk].setArrayLength(n),"number"===typeof t&&FE.set.call(e,t,n),"symbol"===typeof t||isNaN(t)?e[t]=n:FE.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return Ek("Observable arrays cannot be frozen"),!1}};var ME=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Fk(e||"ObservableArray@"+wk()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return OE(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),RE(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;bw(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=bk),AE(this)){var a=PE(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return bk;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var o=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,o),this.dehanceValues(o)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,Wk([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,i=NE(this),a=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&DE(this,a)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,i=NE(this),a=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&DE(this,a)},e}(),FE={intercept:function(e){return this[Mk].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[Mk].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[Mk];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[Mk];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[Mk].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Mk];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[Mk].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Mk];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[Mk],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[Mk];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[Mk],r=n.values;if(e<r.length){bw(n.atom);var i=r[e];if(AE(n)){var a=PE(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!a)return;t=a.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"===typeof Array.prototype[e]&&(FE[e]=function(){var t=this[Mk];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"===typeof Array.prototype[e]&&(FE[e]=function(t,n){var r=this,i=this[Mk];return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){FE[e]=function(){var t=this,n=this[Mk];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,i,a){return i=n.dehanceValue(i),r(e,i,a,t)},n.values[e].apply(n.values,arguments)}}));var UE,jE=Ak("ObservableArrayAdministration",ME);function VE(e){return Tk(e)&&jE(e[Mk])}var zE,BE={},qE=function(){function e(e,t,n){if(void 0===t&&(t=Jk),void 0===n&&(n="ObservableMap@"+wk()),this.enhancer=t,this.name=n,this[UE]=BE,this._keysAtom=jk(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!qw.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Lw(this._has(e),Zk,this.name+"."+Rk(e)+"?",!1);this._hasMap.set(e,r),dE(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(AE(this)){var r=PE(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((bw(this._keysAtom),AE(this))&&!(r=PE(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=NE(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return _E((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&DE(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==qw.UNCHANGED){var r=!1,i=NE(this),a=i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r,n.setNewValue(t),i&&DE(this,a)}},e.prototype._addValue=function(e,t){var n=this;bw(this._keysAtom),_E((function(){var r=new Lw(t,n.enhancer,n.name+"."+Rk(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=!1,i=NE(this);i&&DE(this,i?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return sx({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return sx({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype[(UE=Mk,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=qk(this),a=i.next();!a.done;a=i.next()){var o=Hk(a.value,2),u=o[0],s=o[1];e.call(t,s,u,this)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return HE(e)&&(e=e.toJS()),_E((function(){var n=Rw(!0);try{Ck(e)?Nk(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=Hk(e,2),r=n[0],i=n[1];return t.set(r,i)})):Ok(e)?(e.constructor!==Map&&Ek("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&Ek("Cannot initialize map from "+e)}finally{Dw(n)}})),this},e.prototype.clear=function(){var e=this;_E((function(){Ew((function(){var t,n;try{for(var r=qk(e.keys()),i=r.next();!i.done;i=r.next()){var a=i.value;e.delete(a)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return _E((function(){var n,r,i,a,o=function(e){if(Ok(e)||HE(e))return e;if(Array.isArray(e))return new Map(e);if(Ck(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return Ek("Cannot convert to map from '"+e+"'")}(e),u=new Map,s=!1;try{for(var l=qk(t._data.keys()),c=l.next();!c.done;c=l.next()){var f=c.value;if(!o.has(f))if(t.delete(f))s=!0;else{var h=t._data.get(f);u.set(f,h)}}}catch(E){n={error:E}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var d=qk(o.entries()),p=d.next();!p.done;p=d.next()){var v=Hk(p.value,2),m=(f=v[0],h=v[1],t._data.has(f));if(t.set(f,h),t._data.has(f)){var y=t._data.get(f);u.set(f,y),m||(s=!0)}}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}if(!s)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var g=t._data.keys(),b=u.keys(),k=g.next(),w=b.next();!k.done;){if(k.value!==w.value){t._keysAtom.reportChanged();break}k=g.next(),w=b.next()}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=qk(this),i=r.next();!i.done;i=r.next()){var a=Hk(i.value,2),o=a[0],u=a[1];n["symbol"===typeof o?o:Rk(o)]=u}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return Rk(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return RE(this,e)},e.prototype.intercept=function(e){return OE(this,e)},e}(),HE=Ak("ObservableMap",qE),WE={},KE=function(){function e(e,t,n){if(void 0===t&&(t=Jk),void 0===n&&(n="ObservableSet@"+wk()),this.name=n,this[zE]=WE,this._data=new Set,this._atom=jk(this.name),this[Symbol.toStringTag]="Set","function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;_E((function(){Ew((function(){var t,n;try{for(var r=qk(e._data.values()),i=r.next();!i.done;i=r.next()){var a=i.value;e.delete(a)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=qk(this),a=i.next();!a.done;a=i.next()){var o=a.value;e.call(t,o,o,this)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((bw(this._atom),AE(this))&&!(i=PE(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){_E((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=!1,r=NE(this),i=r?{type:"add",object:this,newValue:e}:null;n,r&&DE(this,i)}return this},e.prototype.delete=function(e){var t=this;if(AE(this)&&!(r=PE(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=NE(this),r=n?{type:"delete",object:this,oldValue:e}:null;return _E((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&DE(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return sx({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return sx({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return GE(e)&&(e=e.toJS()),_E((function(){var n=Rw(!0);try{Array.isArray(e)||Pk(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&Ek("Cannot initialize set from "+e)}finally{Dw(n)}})),this},e.prototype.observe=function(e,t){return RE(this,e)},e.prototype.intercept=function(e){return OE(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(zE=Mk,Symbol.iterator)]=function(){return this.values()},e}(),GE=Ak("ObservableSet",KE),QE=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new Fk(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Mw)r.set(t);else{if(AE(this)){if(!(o=PE(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=o.newValue}if((t=r.prepareNewValue(t))!==qw.UNCHANGED){var i=NE(this),a=!1,o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;a,r.setNewValue(t),i&&DE(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Lw(r,Zk,this.name+"."+Rk(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(AE(this)){var i=PE(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var a=new Lw(t,n,this.name+"."+Rk(e),!1);this.values.set(e,a),t=a.value,Object.defineProperty(r,e,function(e){return XE[e]||(XE[e]={configurable:!0,enumerable:!0,get:function(){return this[Mk].read(e)},set:function(t){this[Mk].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+Rk(t),this.values.set(t,new Mw(n)),(e===r||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t))&&Object.defineProperty(e,t,function(e){return $E[e]||($E[e]={configurable:qw.computedConfigurable,enumerable:!1,get:function(){return JE(this).read(e)},set:function(t){JE(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(AE(this))if(!(u=PE(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Gw();var n=NE(this),r=!1,i=this.values.get(e),a=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!1)}delete this.target[e];var u=n?{type:"remove",object:this.proxy||t,oldValue:a,name:e}:null;r,n&&DE(this,u)}finally{Qw()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return RE(this,e)},e.prototype.intercept=function(e){return OE(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=NE(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&DE(this,r),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=qk(this.values),i=r.next();!i.done;i=r.next()){var a=Hk(i.value,2),o=a[0];a[1]instanceof Lw&&n.push(o)}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function YE(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=Jk),Object.prototype.hasOwnProperty.call(e,Mk))return e[Mk];Ck(e)||(t=(e.constructor.name||"ObservableObject")+"@"+wk()),t||(t="ObservableObject@"+wk());var r=new QE(e,new Map,Rk(t),n);return Ik(e,Mk,r),r}var XE=Object.create(null),$E=Object.create(null);function JE(e){var t=e[Mk];return t||(Xk(e),e[Mk])}var ZE=Ak("ObservableObjectAdministration",QE);function ex(e){return!!Tk(e)&&(Xk(e),ZE(e[Mk]))}function tx(e,t){if("object"===typeof e&&null!==e){if(VE(e))return void 0!==t&&Ek(!1),e[Mk].atom;if(GE(e))return e[Mk];if(HE(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||Ek(!1),r)}var r;if(Xk(e),t&&!e[Mk]&&e[t],ex(e))return t?((r=e[Mk].values.get(t))||Ek(!1),r):Ek(!1);if(Uk(e)||Fw(e)||rE(e))return e}else if("function"===typeof e&&rE(e[Mk]))return e[Mk];return Ek(!1)}function nx(e,t){return e||Ek("Expecting some object"),void 0!==t?nx(tx(e,t)):Uk(e)||Fw(e)||rE(e)||HE(e)||GE(e)?e:(Xk(e),e[Mk]?e[Mk]:void Ek(!1))}var rx=Object.prototype.toString;function ix(e,t,n){return void 0===n&&(n=-1),ax(e,t,n)}function ax(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=rx.call(e);if(o!==rx.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=ox(e),t=ox(t);var u="[object Array]"===o;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!("function"===typeof s&&s instanceof s&&"function"===typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),u){if((c=e.length)!==t.length)return!1;for(;c--;)if(!ax(e[c],t[c],n-1,r,i))return!1}else{var f=Object.keys(e),h=void 0;if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!ux(t,h=f[c])||!ax(e[h],t[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function ox(e){return VE(e)?e.slice():Ok(e)||HE(e)||Pk(e)||GE(e)?Array.from(e.entries()):e}function ux(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sx(e){return e[Symbol.iterator]=lx,e}function lx(){return this}if("undefined"===typeof Proxy||"undefined"===typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:aE,extras:{getDebugName:function(e,t){return(void 0!==t?tx(e,t):ex(e)||HE(e)||GE(e)?nx(e):tx(e)).name}},$mobx:Mk});var cx,fx,hx,dx,px,vx,mx=function(e){return e[e.UNANSWERED=0]="UNANSWERED",e[e.CORRECTLY_ANSWERED=1]="CORRECTLY_ANSWERED",e[e.INCORRECTLY_ANSWERED=2]="INCORRECTLY_ANSWERED",e}({}),yx={state:mx.UNANSWERED,score:0,revealedClues:0},gx={slug:"",title:"",prompt:"",time:0,questions:[]},bx={clues:["","","",""],answer:"",revealOnAnswer:""},kx=function(e){return e[e.UNSTARTED=0]="UNSTARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETED=2]="COMPLETED",e}({}),wx=(cx=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx;h(this,e),mk(this,"currentQuiz",fx,this),mk(this,"quizState",hx,this),mk(this,"timeRemaining",dx,this),mk(this,"quizStatus",px,this),mk(this,"maxScore",vx,this),this.startQuiz=function(){t.quizStatus=kx.IN_PROGRESS,t.measure()},this.currentQuiz=n,this.quizState=n.questions.map((function(e){return qt({},yx)})),this.timeRemaining=1e3*n.time,this.maxScore=n.questions.reduce((function(e,t){return e+t.clues.length}),0)}return m(e,[{key:"scoreQuestion",value:function(e,t){this.quizState[e].state===mx.UNANSWERED&&(this.quizState[e]=t)}},{key:"isComplete",get:function(){var e=this.quizState.every((function(e){return e.state!==mx.UNANSWERED})),t=this.timeRemaining<=0;return e||t}},{key:"scorePoints",get:function(){return this.quizState.reduce((function(e,t){return e+t.score}),0)}},{key:"scorePercent",get:function(){return this.quizState.filter((function(e){return e.state===mx.CORRECTLY_ANSWERED})).length}},{key:"measure",value:function(){var e=this;this.quizStatus===kx.IN_PROGRESS&&(this.timeRemaining-=50,this.isComplete?this.quizStatus=kx.COMPLETED:setTimeout((function(){return e.measure()}),50))}},{key:"display",get:function(){var e=parseInt((this.timeRemaining/10).toString(),10),t=(e%100).toLocaleString(void 0,{minimumIntegerDigits:2}),n=parseInt((e/100).toString(),10),r=(n%60).toLocaleString(void 0,{minimumIntegerDigits:2}),i=parseInt((n/60).toString(),10);return"".concat(i," : ").concat(r," :  ").concat(t)}}]),e}(),fx=yk(cx.prototype,"currentQuiz",[lw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hx=yk(cx.prototype,"quizState",[lw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dx=yk(cx.prototype,"timeRemaining",[lw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),px=yk(cx.prototype,"quizStatus",[lw],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kx.UNSTARTED}}),vx=yk(cx.prototype,"maxScore",[lw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yk(cx.prototype,"isComplete",[vw],Object.getOwnPropertyDescriptor(cx.prototype,"isComplete"),cx.prototype),yk(cx.prototype,"scorePoints",[vw],Object.getOwnPropertyDescriptor(cx.prototype,"scorePoints"),cx.prototype),yk(cx.prototype,"scorePercent",[vw],Object.getOwnPropertyDescriptor(cx.prototype,"scorePercent"),cx.prototype),yk(cx.prototype,"measure",[sE],Object.getOwnPropertyDescriptor(cx.prototype,"measure"),cx.prototype),yk(cx.prototype,"display",[vw],Object.getOwnPropertyDescriptor(cx.prototype,"display"),cx.prototype),cx),Ex=(0,i.createContext)(new wx),xx="Quiz_disabled__4GvsD",Sx="Quiz_quiz__C6lVi",_x="Quiz_startQuiz__FsT4S",Tx="Quiz_nextPrevQs__9-TN2",Cx="Quiz_questions__VKCyh",Ix="Quiz_unanswered__KSPFa",Ax="Quiz_correct__RGpg3",Ox="Quiz_incorrect__+HMnY",Px="Quiz_current__eLrQX";if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!aE)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var Nx=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function Rx(){var e=Nx((0,i.useState)(0),2)[1];return(0,i.useCallback)((function(){e((function(e){return e+1}))}),[])}var Dx={};var Lx,Mx=(Lx="observerBatching","function"===typeof Symbol?Symbol.for(Lx):"__$mobx-react "+Lx+"__");function Fx(e){e()}var Ux=!1;function jx(){return Ux}function Vx(e){return bE(e)}var zx,Bx=1e4,qx=1e4,Hx=new Set;function Wx(){void 0===zx&&(zx=setTimeout(Kx,qx))}function Kx(){zx=void 0;var e=Date.now();Hx.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,Hx.delete(t))})),Hx.size>0&&Wx()}var Gx=!1,Qx=[];var Yx={};function Xx(e){return"observer"+e}function $x(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=Yx),jx())return e();var r,a=function(e){return function(){Gx?Qx.push(e):e()}}((n.useForceUpdate||Rx)()),o=i.useRef(null);if(!o.current){var u=new Jw(Xx(t),(function(){s.mounted?a():(u.dispose(),o.current=null)})),s=function(e){return{cleanAt:Date.now()+Bx,reaction:e}}(u);o.current=s,r=o,Hx.add(r),Wx()}var l=o.current.reaction;return i.useDebugValue(l,Vx),i.useEffect((function(){var e;return e=o,Hx.delete(e),o.current?o.current.mounted=!0:(o.current={reaction:new Jw(Xx(t),(function(){a()})),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}}),[]),function(e){Gx=!0,Qx=[];try{var t=e();Gx=!1;var n=Qx.length>0?Qx:void 0;return i.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{Gx=!1}}((function(){var t,n;if(l.track((function(){try{t=e()}catch(r){n=r}})),n)throw n;return t}))}var Jx=function(){return Jx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jx.apply(this,arguments)};function Zx(e,t){if(jx())return e;var n,r=Jx({forwardRef:!1},t),a=e.displayName||e.name,o=function(t,n){return $x((function(){return e(t,n)}),a)};return o.displayName=a,n=r.forwardRef?(0,i.memo)((0,i.forwardRef)(o)):(0,i.memo)(o),function(e,t){Object.keys(e).forEach((function(n){eS[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}(e,n),n.displayName=a,n}var eS={$$typeof:!0,render:!0,compare:!0,type:!0};function tS(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:$x(r)}function nS(e,t,n,r,i){var a="children"===t?"render":"children",o="function"===typeof e[t],u="function"===typeof e[a];return o&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):o||u?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}tS.propTypes={children:nS,render:nS},tS.displayName="Observer";!function(e){e||(e=Fx),vE({reactionScheduler:e}),("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:Dx)[Mx]=!0}(o.unstable_batchedUpdates);var rS=0;var iS={};function aS(e){return iS[e]||(iS[e]=function(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+rS+")";return rS++,t}(e)),iS[e]}function oS(e,t){if(uS(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!uS(e[n[i]],t[n[i]]))return!1;return!0}function uS(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function sS(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var lS=aS("patchMixins"),cS=aS("patchedDefinition");function fS(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t.locks++;try{var o;return void 0!==e&&null!==e&&(o=e.apply(this,i)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function hS(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];fS.call.apply(fS,[this,e,t].concat(r))}}function dS(e,t,n){var r=function(e,t){var n=e[lS]=e[lS]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[cS]){var a=e[t],o=pS(e,t,i?i.enumerable:void 0,r,a);Object.defineProperty(e,t,o)}}function pS(e,t,n,r,i){var a,o=hS(i,r);return(a={})[cS]=!0,a.get=function(){return o},a.set=function(i){if(this===e)o=hS(i,r);else{var a=pS(this,t,n,r,i);Object.defineProperty(this,t,a)}},a.configurable=!0,a.enumerable=n,a}var vS=Mk||"$mobx",mS=aS("isMobXReactObserver"),yS=aS("isUnmounted"),gS=aS("skipRender"),bS=aS("isForcingUpdate");function kS(e){var t=e.prototype;if(e[mS]){var n=wS(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[mS]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==i.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==xS)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=xS;SS(t,"props"),SS(t,"state");var r=t.render;return t.render=function(){return ES.call(this,r)},dS(t,"componentWillUnmount",(function(){var e;if(!0!==jx()&&(null===(e=this.render[vS])||void 0===e||e.dispose(),this[yS]=!0,!this.render[vS])){var t=wS(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function wS(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ES(e){var t=this;if(!0===jx())return e.call(this);sS(this,gS,!1),sS(this,bS,!1);var n=wS(this),r=e.bind(this),a=!1,o=new Jw(n+".render()",(function(){if(!a&&(a=!0,!0!==t[yS])){var e=!0;try{sS(t,bS,!0),t[gS]||i.Component.prototype.forceUpdate.call(t),e=!1}finally{sS(t,bS,!1),e&&o.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(o.track((function(){try{t=function(e,t){var n,r=Rw(e);try{n=t()}finally{Dw(r)}return n}(!1,r)}catch(n){e=n}})),e)throw e;return t}return o.reactComponent=this,u[vS]=o,this.render=u,u.call(this)}function xS(e,t){return jx()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!oS(this.props,e)}function SS(e,t){var n=aS("reactProp_"+t+"_valueHolder"),r=aS("reactProp_"+t+"_atomHolder");function i(){return this[r]||sS(this,r,jk("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return _w&&Tw&&(e=_w(!0)),i.call(this).reportObserved(),_w&&Tw&&Tw(e),this[n]},set:function(e){this[bS]||oS(this[n],e)?sS(this,n,e):(sS(this,n,e),sS(this,gS,!0),i.call(this).reportChanged(),sS(this,gS,!1))}})}var _S="function"===typeof Symbol&&Symbol.for,TS=_S?Symbol.for("react.forward_ref"):"function"===typeof i.forwardRef&&(0,i.forwardRef)((function(e){return null})).$$typeof,CS=_S?Symbol.for("react.memo"):"function"===typeof i.memo&&(0,i.memo)((function(e){return null})).$$typeof;function IS(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),CS&&e.$$typeof===CS)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(TS&&e.$$typeof===TS){var t=e.render;if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return(0,i.forwardRef)((function(){var e=arguments;return(0,i.createElement)(tS,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(i.Component,e)?kS(e):Zx(e)}if(!i.Component)throw new Error("mobx-react requires React to be available");if(!lw)throw new Error("mobx-react requires mobx to be available");var AS=n(586);function OS(e){return e&&"object"===typeof e?"position"in e||"type"in e?NS(e.position):"start"in e||"end"in e?NS(e):"line"in e||"column"in e?PS(e):"":""}function PS(e){return RS(e&&e.line)+":"+RS(e&&e.column)}function NS(e){return PS(e&&e.start)+"-"+PS(e&&e.end)}function RS(e){return e&&"number"===typeof e?e:1}var DS=function(e){g(n,e);var t=E(n);function n(e,r,i){var a;h(this,n);var o=[null,null],u={start:{line:null,column:null},end:{line:null,column:null}};if(a=t.call(this),"string"===typeof r&&(i=r,r=void 0),"string"===typeof i){var s=i.indexOf(":");-1===s?o[1]=i:(o[0]=i.slice(0,s),o[1]=i.slice(s+1))}return r&&("type"in r||"position"in r?r.position&&(u=r.position):"start"in r||"end"in r?u=r:("line"in r||"column"in r)&&(u.start=r)),a.name=OS(r)||"1:1",a.message="object"===typeof e?e.message:e,a.stack="","object"===typeof e&&e.stack&&(a.stack=e.stack),a.reason=a.message,a.fatal,a.line=u.start.line,a.column=u.start.column,a.position=u,a.source=o[0],a.ruleId=o[1],a.file,a.actual,a.expected,a.url,a.note,a}return m(n)}(S(Error));DS.prototype.file="",DS.prototype.name="",DS.prototype.reason="",DS.prototype.message="",DS.prototype.stack="",DS.prototype.fatal=null,DS.prototype.column=null,DS.prototype.line=null,DS.prototype.source=null,DS.prototype.ruleId=null,DS.prototype.position=null;var LS={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');MS(e);var n,r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";var o=-1,u=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else o<0&&(n=!0,o=a+1),u>-1&&(e.charCodeAt(a)===t.charCodeAt(u--)?u<0&&(i=a):(u=-1,i=o));r===i?i=o:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(MS(e),0===e.length)return".";var t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){MS(e);var t,n=e.length,r=-1,i=0,a=-1,o=0;for(;n--;){var u=e.charCodeAt(n);if(47!==u)r<0&&(t=!0,r=n+1),46===u?a<0?a=n:1!==o&&(o=1):a>-1&&(o=-1);else if(t){i=n+1;break}}if(a<0||r<0||0===o||1===o&&a===r-1&&a===i+1)return"";return e.slice(a,r)},join:function(){for(var e,t=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)MS(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){MS(e);var t=47===e.charCodeAt(0),n=function(e,t){var n,r,i="",a=0,o=-1,u=0,s=-1;for(;++s<=e.length;){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===u);else if(o!==s-1&&2===u){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):a=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),o=s,u=0;continue}}else if(i.length>0){i="",a=0,o=s,u=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),a=s-o-1;o=s,u=0}else 46===n&&u>-1?u++:u=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function MS(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var FS={cwd:function(){return"/"}};function US(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function jS(e){if("string"===typeof e)e=new URL(e);else if(!US(e)){var t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){var n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return function(e){if(""!==e.hostname){var t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}var n=e.pathname,r=-1;for(;++r<n.length;)if(37===n.charCodeAt(r)&&50===n.charCodeAt(r+1)){var i=n.charCodeAt(r+2);if(70===i||102===i){var a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}(e)}var VS=["history","path","basename","stem","extname","dirname"],zS=function(){function e(t){var n;h(this,e),n=t?"string"===typeof t||function(e){return AS(e)}(t)?{value:t}:US(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=FS.cwd(),this.value,this.stored,this.result,this.map;for(var r,i=-1;++i<VS.length;){var a=VS[i];a in n&&void 0!==n[a]&&null!==n[a]&&(this[a]="history"===a?f(n[a]):n[a])}for(r in n)VS.includes(r)||(this[r]=n[r])}return m(e,[{key:"path",get:function(){return this.history[this.history.length-1]},set:function(e){US(e)&&(e=jS(e)),qS(e,"path"),this.path!==e&&this.history.push(e)}},{key:"dirname",get:function(){return"string"===typeof this.path?LS.dirname(this.path):void 0},set:function(e){HS(this.basename,"dirname"),this.path=LS.join(e||"",this.basename)}},{key:"basename",get:function(){return"string"===typeof this.path?LS.basename(this.path):void 0},set:function(e){qS(e,"basename"),BS(e,"basename"),this.path=LS.join(this.dirname||"",e)}},{key:"extname",get:function(){return"string"===typeof this.path?LS.extname(this.path):void 0},set:function(e){if(BS(e,"extname"),HS(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=LS.join(this.dirname,this.stem+(e||""))}},{key:"stem",get:function(){return"string"===typeof this.path?LS.basename(this.path,this.extname):void 0},set:function(e){qS(e,"stem"),BS(e,"stem"),this.path=LS.join(this.dirname||"",e+(this.extname||""))}},{key:"toString",value:function(e){return(this.value||"").toString(e||void 0)}},{key:"message",value:function(e,t,n){var r=new DS(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}},{key:"info",value:function(e,t,n){var r=this.message(e,t,n);return r.fatal=null,r}},{key:"fail",value:function(e,t,n){var r=this.message(e,t,n);throw r.fatal=!0,r}}]),e}();function BS(e,t){if(e&&e.includes(LS.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+LS.sep+"`")}function qS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function HS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function WS(e){if(e)throw e}var KS=n(132);function GS(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function QS(){var e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=-1,a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);(function t(r){var o=e[++i],u=-1;if(r)a(r);else{for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(;++u<n.length;)null!==l[u]&&void 0!==l[u]||(l[u]=n[u]);n=l,o?function(e,t){var n;return i;function i(){for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];var s,l=e.length>i.length;l&&i.push(a);try{s=e.apply(this,i)}catch(r){if(l&&n)throw r;return a(r)}l||(s instanceof Promise?s.then(o,a):s instanceof Error?a(s):o(s))}function a(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.apply(void 0,[e].concat(i))}}function o(e){a(null,e)}}(o,t).apply(void 0,l):a.apply(void 0,[null].concat(l))}}).apply(void 0,[null].concat(f(n)))},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}var YS=function e(){var t,n=QS(),r=[],i={},a=-1;return o.data=function(e,n){if("string"===typeof e)return 2===arguments.length?(e_("data",t),i[e]=n,o):XS.call(i,e)&&i[e]||null;if(e)return e_("data",t),i=e,o;return i},o.Parser=void 0,o.Compiler=void 0,o.freeze=function(){if(t)return o;for(;++a<r.length;){var e=I(r[a]),i=e[0],u=e.slice(1);if(!1!==u[0]){!0===u[0]&&(u[0]=void 0);var s=i.call.apply(i,[o].concat(f(u)));"function"===typeof s&&n.use(s)}}return t=!0,a=Number.POSITIVE_INFINITY,o},o.attachers=r,o.use=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];var s;if(e_("use",t),null===e||void 0===e);else if("function"===typeof e)d.apply(void 0,[e].concat(a));else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?h(e):c(e)}s&&(i.settings=Object.assign(i.settings||{},s));return o;function l(e){if("function"===typeof e)d(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){var t=I(e),n=t[0],r=t.slice(1);d.apply(void 0,[n].concat(f(r)))}else c(e)}}function c(e){h(e.plugins),e.settings&&(s=Object.assign(s||{},e.settings))}function h(e){var t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){l(e[t])}}}function d(e,t){for(var n,i=-1;++i<r.length;)if(r[i][0]===e){n=r[i];break}n?(GS(n[1])&&GS(t)&&(t=KS(!0,n[1],t)),n[1]=t):r.push(Array.prototype.slice.call(arguments))}},o.parse=function(e){o.freeze();var t=r_(e),n=o.Parser;if(JS("parse",n),$S(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},o.stringify=function(e,t){o.freeze();var n=r_(t),r=o.Compiler;if(ZS("stringify",r),t_(e),$S(r,"compile"))return new r(e,n).compile();return r(e,n)},o.run=function(e,t,r){t_(e),o.freeze(),r||"function"!==typeof t||(r=t,t=void 0);if(!r)return new Promise(i);function i(i,a){function o(t,n,o){n=n||e,t?a(t):i?i(n):r(null,n,o)}n.run(e,r_(t),o)}i(null,r)},o.runSync=function(e,t){var n,r;return o.run(e,t,i),n_("runSync","run",r),n;function i(e,t){WS(e),n=t,r=!0}},o.process=function(e,t){if(o.freeze(),JS("process",o.Parser),ZS("process",o.Compiler),!t)return new Promise(n);function n(n,r){var i=r_(e);function a(e,i){e||!i?r(e):n?n(i):t(null,i)}o.run(o.parse(i),i,(function(e,t,n){if(!e&&t&&n){var r=o.stringify(t,n);void 0===r||null===r||("string"===typeof(i=r)||AS(i)?n.value=r:n.result=r),a(e,n)}else a(e);var i}))}n(null,t)},o.processSync=function(e){var t;o.freeze(),JS("processSync",o.Parser),ZS("processSync",o.Compiler);var n=r_(e);return o.process(n,r),n_("processSync","process",t),n;function r(e){t=!0,WS(e)}},o;function o(){for(var t=e(),n=-1;++n<r.length;)t.use.apply(t,f(r[n]));return t.data(KS(!0,{},i)),t}}().freeze(),XS={}.hasOwnProperty;function $S(e,t){return"function"===typeof e&&e.prototype&&(function(e){var t;for(t in e)if(XS.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function JS(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function ZS(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function e_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function t_(e){if(!GS(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function n_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function r_(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new zS(e)}var i_={};function a_(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return o_(e.children,t,n)}return Array.isArray(e)?o_(e,t,n):""}function o_(e,t,n){for(var r=[],i=-1;++i<e.length;)r[i]=a_(e[i],t,n);return r.join("")}function u_(e,t,n,r){var i,a=e.length,o=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),e.splice.apply(e,f(i));else for(n&&e.splice(t,n);o<r.length;)(i=r.slice(o,o+1e4)).unshift(t,0),e.splice.apply(e,f(i)),o+=1e4,t+=1e4}function s_(e,t){return e.length>0?(u_(e,e.length,0,t),e):t}var l_={}.hasOwnProperty;function c_(e,t){var n;for(n in t){var r=(l_.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],a=void 0;if(i)for(a in i){l_.call(r,a)||(r[a]=[]);var o=i[a];f_(r[a],Array.isArray(o)?o:o?[o]:[])}}}function f_(e,t){for(var n=-1,r=[];++n<t.length;)("after"===t[n].add?e:r).push(t[n]);u_(e,0,0,r)}var h_=S_(/[A-Za-z]/),d_=S_(/[\dA-Za-z]/),p_=S_(/[#-'*+\--9=?A-Z^-~]/);function v_(e){return null!==e&&(e<32||127===e)}var m_=S_(/\d/),y_=S_(/[\dA-Fa-f]/),g_=S_(/[!-/:-@[-`{-~]/);function b_(e){return null!==e&&e<-2}function k_(e){return null!==e&&(e<0||32===e)}function w_(e){return-2===e||-1===e||32===e}var E_=S_(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),x_=S_(/\s/);function S_(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function __(e,t,n,r){var i=r?r-1:Number.POSITIVE_INFINITY,a=0;return function(r){if(w_(r))return e.enter(n),o(r);return t(r)};function o(r){return w_(r)&&a++<i?(e.consume(r),o):(e.exit(n),t(r))}}var T_={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),__(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,i(n)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):b_(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};var C_={tokenize:function(e){var t,n,r,i=this,a=[],o=0;return u;function u(t){if(o<a.length){var n=a[o];return i.containerState=n[1],e.attempt(n[0].continuation,s,l)(t)}return l(t)}function s(e){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,t&&g();for(var n,r=i.events.length,a=r;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){n=i.events[a][1].end;break}y(o);for(var s=r;s<i.events.length;)i.events[s][1].end=Object.assign({},n),s++;return u_(i.events,a+1,0,i.events.slice(r)),i.events.length=s,l(e)}return u(e)}function l(n){if(o===a.length){if(!t)return h(n);if(t.currentConstruct&&t.currentConstruct.concrete)return p(n);i.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(I_,c,f)(n)}function c(e){return t&&g(),y(o),h(e)}function f(e){return i.parser.lazy[i.now().line]=o!==a.length,r=i.now().offset,p(e)}function h(t){return i.containerState={},e.attempt(I_,d,p)(t)}function d(e){return o++,a.push([i.currentConstruct,i.containerState]),h(e)}function p(r){return null===r?(t&&g(),y(0),void e.consume(r)):(t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),v(r))}function v(t){return null===t?(m(e.exit("chunkFlow"),!0),y(0),void e.consume(t)):b_(t)?(e.consume(t),m(e.exit("chunkFlow")),o=0,i.interrupt=void 0,u):(e.consume(t),v)}function m(e,a){var u=i.sliceStream(e);if(a&&u.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(u),i.parser.lazy[e.start.line]){for(var s=t.events.length;s--;)if(t.events[s][1].start.offset<r&&(!t.events[s][1].end||t.events[s][1].end.offset>r))return;for(var l,c,f=i.events.length,h=f;h--;)if("exit"===i.events[h][0]&&"chunkFlow"===i.events[h][1].type){if(l){c=i.events[h][1].end;break}l=!0}for(y(o),s=f;s<i.events.length;)i.events[s][1].end=Object.assign({},c),s++;u_(i.events,h+1,0,i.events.slice(f)),i.events.length=s}}function y(t){for(var n=a.length;n-- >t;){var r=a[n];i.containerState=r[1],r[0].exit.call(i,e)}a.length=t}function g(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},I_={tokenize:function(e,t,n){return __(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var A_={tokenize:function(e,t,n){return function(t){return w_(t)?__(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||b_(e)?t(e):n(e)}},partial:!0};function O_(e){for(var t,n,r,i,a,o,u,s={},l=-1;++l<e.length;){for(;l in s;)l=s[l];if(t=e[l],l&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[l-1][1].type&&((r=0)<(o=t[1]._tokenizer.events).length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(s,P_(e,l)),l=s[l],u=!0);else if(t[1]._container){for(r=l,n=void 0;r--&&("lineEnding"===(i=e[r])[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(n&&(e[n][1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);n&&(t[1].end=Object.assign({},e[n][1].start),(a=e.slice(n,l)).unshift(t),u_(e,n,l-n+1,a))}}return!u}function P_(e,t){for(var n,r,i=e[t][1],a=e[t][2],o=t-1,u=[],s=i._tokenizer||a.parser[i.contentType](i.start),l=s.events,c=[],f={},h=-1,d=i,p=0,v=0,m=[v];d;){for(;e[++o][1]!==d;);u.push(o),d._tokenizer||(n=a.sliceStream(d),d.next||n.push(null),r&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(n),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),r=d,d=d.next}for(d=i;++h<l.length;)"exit"===l[h][0]&&"enter"===l[h-1][0]&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(v=h+1,m.push(v),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):m.pop(),h=m.length;h--;){var y=l.slice(m[h],m[h+1]),g=u.pop();c.unshift([g,g+y.length-1]),u_(e,g,2,y)}for(h=-1;++h<c.length;)f[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return f}var N_={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):b_(t)?e.check(R_,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return O_(e),e}},R_={tokenize:function(e,t,n){var r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),__(e,i,"linePrefix")};function i(i){if(null===i||b_(i))return n(i);var a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};var D_={tokenize:function(e){var t=this,n=e.attempt(A_,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,__(e,e.attempt(this.parser.constructs.flow,r,e.attempt(N_,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var L_={resolveAll:j_()},M_=U_("string"),F_=U_("text");function U_(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return s(e)?i(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return s(e)?(t.exit("data"),i(e)):(t.consume(e),u)}function s(e){if(null===e)return!0;var t=r[e],i=-1;if(t)for(;++i<t.length;){var a=t[i];if(!a.previous||a.previous.call(n,n.previous))return!0}return!1}},resolveAll:j_("text"===e?V_:void 0)}}function j_(e){return function(t,n){var r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function V_(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,u=0,s=void 0;a--;){var l=i[a];if("string"===typeof l){for(o=l.length;32===l.charCodeAt(o-1);)u++,o--;if(o)break;o=-1}else if(-2===l)s=!0,u++;else if(-1!==l){a++;break}}if(u){var c={type:n===e.length||s||u<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-u,offset:r.end.offset-u,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function z_(e,t,n){for(var r=[],i=-1;++i<e.length;){var a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function B_(e,t,n){var r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},a=[],o=[],u=[],s={consume:function(e){b_(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));l.previous=e,!0},enter:function(e,t){var n=t||{};return n.type=e,n.start=d(),l.events.push(["enter",n,l]),u.push(n),n},exit:function(e){var t=u.pop();return t.end=d(),l.events.push(["exit",t,l]),t},attempt:y((function(e,t){g(e,t.from)})),check:y(m),interrupt:y(m,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){var n,r=-1,i=[];for(;++r<e.length;){var a=e[r],o=void 0;if("string"===typeof a)o=a;else switch(a){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&n)continue;o=" ";break;default:o=String.fromCharCode(a)}n=-2===a,i.push(o)}return i.join("")}(h(e),t)},now:d,defineSkip:function(e){i[e.line]=e.column,b()},write:function(e){if(o=s_(o,e),p(),null!==o[o.length-1])return[];return g(t,0),l.events=z_(a,l.events,l),l.events}},c=t.tokenize.call(l,s);return t.resolveAll&&a.push(t),l;function h(e){return function(e,t){var n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;if(r===a)n=[e[r].slice(i,o)];else{if(n=e.slice(r,a),i>-1){var u=n[0];"string"===typeof u?n[0]=u.slice(i):n.shift()}o>0&&n.push(e[a].slice(0,o))}return n}(o,e)}function d(){var e=r;return{line:e.line,column:e.column,offset:e.offset,_index:e._index,_bufferIndex:e._bufferIndex}}function p(){for(var e;r._index<o.length;){var t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)v(t.charCodeAt(r._bufferIndex));else v(t)}}function v(e){void 0,e,c=c(e)}function m(e,t){t.restore()}function y(e,t){return function(n,i,a){var o,c,h,p;return Array.isArray(n)?v(n):"tokenize"in n?v([n]):function(e){return t;function t(t){var n=null!==t&&e[t],r=null!==t&&e.null;return v([].concat(f(Array.isArray(n)?n:n?[n]:[]),f(Array.isArray(r)?r:r?[r]:[])))(t)}}(n);function v(e){return o=e,c=0,0===e.length?a:m(e[c])}function m(e){return function(n){p=function(){var e=d(),t=l.previous,n=l.currentConstruct,i=l.events.length,a=Array.from(u);return{restore:o,from:i};function o(){r=e,l.previous=t,l.currentConstruct=n,l.events.length=i,u=a,b()}}(),h=e,e.partial||(l.currentConstruct=e);if(e.name&&l.parser.constructs.disable.null.includes(e.name))return g(n);return e.tokenize.call(t?Object.assign(Object.create(l),t):l,s,y,g)(n)}}function y(t){return!0,e(h,p),i}function g(e){return!0,p.restore(),++c<o.length?m(o[c]):a}}}function g(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&u_(l.events,t,l.events.length-t,e.resolve(l.events.slice(t),l)),e.resolveTo&&(l.events=e.resolveTo(l.events,l))}function b(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}var q_={name:"thematicBreak",tokenize:function(e,t,n){var r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),o(a)):i>=3&&(null===a||b_(a))?(e.exit("thematicBreak"),t(a)):n(a)}function o(t){return t===r?(e.consume(t),i++,o):(e.exit("thematicBreakSequence"),w_(t)?__(e,a,"whitespace")(t):a(t))}}};var H_={name:"list",tokenize:function(e,t,n){var r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){var i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:m_(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(q_,n,s)(t):s(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(t)}return n(t)};function u(t){return m_(t)&&++o<10?(e.consume(t),u):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),s(t)):n(t)}function s(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(A_,r.interrupt?n:l,e.attempt(W_,f,c))}function l(e){return r.containerState.initialBlankLine=!0,a++,f(e)}function c(t){return w_(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(A_,i,a);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,__(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!w_(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(K_,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,__(e,e.attempt(H_,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},W_={tokenize:function(e,t,n){var r=this;return __(e,(function(e){var i=r.events[r.events.length-1];return!w_(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},K_={tokenize:function(e,t,n){var r=this;return __(e,(function(e){var i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};var G_={name:"blockQuote",tokenize:function(e,t,n){var r=this;return function(t){if(62===t){var a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return w_(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){var r=this;return function(t){if(w_(t))return __(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(G_,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function Q_(e,t,n,r,i,a,o,u,s){var l=s||Number.POSITIVE_INFINITY,c=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),f;if(null===t||32===t||41===t||v_(t))return n(t);return e.enter(r),e.enter(o),e.enter(u),e.enter("chunkString",{contentType:"string"}),p(t)};function f(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(u),f(t)):null===t||60===t||b_(t)?n(t):(e.consume(t),92===t?d:h)}function d(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(i){return c||null!==i&&41!==i&&!k_(i)?c<l&&40===i?(e.consume(i),c++,p):41===i?(e.consume(i),c--,p):null===i||32===i||40===i||v_(i)?n(i):(e.consume(i),92===i?v:p):(e.exit("chunkString"),e.exit(u),e.exit(o),e.exit(r),t(i))}function v(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Y_(e,t,n,r,i,a){var o,u=this,s=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),l};function l(f){return s>999||null===f||91===f||93===f&&!o||94===f&&!s&&"_hiddenFootnoteSupport"in u.parser.constructs?n(f):93===f?(e.exit(a),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):b_(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(t){return null===t||91===t||93===t||b_(t)||s++>999?(e.exit("chunkString"),l(t)):(e.consume(t),o||(o=!w_(t)),92===t?f:c)}function f(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}}function X_(e,t,n,r,i,a){var o;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=40===t?41:t,u;return n(t)};function u(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),s(n))}function s(t){return t===o?(e.exit(a),u(o)):null===t?n(t):b_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),__(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===o||null===t||b_(t)?(e.exit("chunkString"),s(t)):(e.consume(t),92===t?c:l)}function c(t){return t===o||92===t?(e.consume(t),l):l(t)}}function $_(e,t){var n;return function r(i){if(b_(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(w_(i))return __(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function J_(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Z_={name:"definition",tokenize:function(e,t,n){var r,i=this;return function(t){return e.enter("definition"),function(t){return Y_.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return r=J_(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o):n(t)}function o(t){return k_(t)?$_(e,u)(t):u(t)}function u(t){return Q_(e,s,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function s(t){return e.attempt(eT,l,l)(t)}function l(t){return w_(t)?__(e,c,"whitespace")(t):c(t)}function c(a){return null===a||b_(a)?(e.exit("definition"),i.parser.defined.push(r),t(a)):n(a)}}},eT={tokenize:function(e,t,n){return function(t){return k_(t)?$_(e,r)(t):n(t)};function r(t){return X_(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return w_(t)?__(e,a,"whitespace")(t):a(t)}function a(e){return null===e||b_(e)?t(e):n(e)}},partial:!0};var tT={name:"codeIndented",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("codeIndented"),__(e,i,"linePrefix",5)(t)};function i(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?u(t):b_(t)?e.attempt(nT,a,u)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||b_(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),o)}function u(n){return e.exit("codeIndented"),t(n)}}},nT={tokenize:function(e,t,n){var r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):b_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):__(e,a,"linePrefix",5)(t)}function a(e){var a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):b_(e)?i(e):n(e)}},partial:!0};var rT={name:"headingAtx",tokenize:function(e,t,n){var r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||k_(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),o(n)):null===n||b_(n)?(e.exit("atxHeading"),t(n)):w_(n)?__(e,a,"whitespace")(n):(e.enter("atxHeadingText"),u(n))}function o(t){return 35===t?(e.consume(t),o):(e.exit("atxHeadingSequence"),a(t))}function u(t){return null===t||35===t||k_(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),u)}},resolve:function(e,t){var n,r,i=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);i-2>a&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4);i>a&&u_(e,a,i-a+1,[["enter",n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},t],["enter",r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},t],["exit",r,t],["exit",n,t]]);return e}};var iT={name:"setextUnderline",tokenize:function(e,t,n){var r,i=this;return function(t){var o,u=i.events.length;for(;u--;)if("lineEnding"!==i.events[u][1].type&&"linePrefix"!==i.events[u][1].type&&"content"!==i.events[u][1].type){o="paragraph"===i.events[u][1].type;break}if(!i.parser.lazy[i.now().line]&&(i.interrupt||o))return e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===r?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),w_(t)?__(e,o,"lineSuffix")(t):o(t))}function o(r){return null===r||b_(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){var n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);var o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};var aT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oT=["pre","script","style","textarea"],uT={name:"htmlFlow",tokenize:function(e,t,n){var r,i,a,o,u,s=this;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),i=!0,d):63===o?(e.consume(o),r=3,s.interrupt?t:D):h_(o)?(e.consume(o),a=String.fromCharCode(o),p):n(o)}function c(i){return 45===i?(e.consume(i),r=2,f):91===i?(e.consume(i),r=5,o=0,h):h_(i)?(e.consume(i),r=4,s.interrupt?t:D):n(i)}function f(r){return 45===r?(e.consume(r),s.interrupt?t:D):n(r)}function h(r){var i="CDATA[";return r===i.charCodeAt(o++)?(e.consume(r),6===o?s.interrupt?t:T:h):n(r)}function d(t){return h_(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||k_(o)){var u=47===o,l=a.toLowerCase();return u||i||!oT.includes(l)?aT.includes(a.toLowerCase())?(r=6,u?(e.consume(o),v):s.interrupt?t(o):T(o)):(r=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(o):i?m(o):y(o)):(r=1,s.interrupt?t(o):T(o))}return 45===o||d_(o)?(e.consume(o),a+=String.fromCharCode(o),p):n(o)}function v(r){return 62===r?(e.consume(r),s.interrupt?t:T):n(r)}function m(t){return w_(t)?(e.consume(t),m):S(t)}function y(t){return 47===t?(e.consume(t),S):58===t||95===t||h_(t)?(e.consume(t),g):w_(t)?(e.consume(t),y):S(t)}function g(t){return 45===t||46===t||58===t||95===t||d_(t)?(e.consume(t),g):b(t)}function b(t){return 61===t?(e.consume(t),k):w_(t)?(e.consume(t),b):y(t)}function k(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),u=t,w):w_(t)?(e.consume(t),k):E(t)}function w(t){return t===u?(e.consume(t),u=null,x):null===t||b_(t)?n(t):(e.consume(t),w)}function E(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||k_(t)?b(t):(e.consume(t),E)}function x(e){return 47===e||62===e||w_(e)?y(e):n(e)}function S(t){return 62===t?(e.consume(t),_):n(t)}function _(t){return null===t||b_(t)?T(t):w_(t)?(e.consume(t),_):n(t)}function T(t){return 45===t&&2===r?(e.consume(t),O):60===t&&1===r?(e.consume(t),P):62===t&&4===r?(e.consume(t),L):63===t&&3===r?(e.consume(t),D):93===t&&5===r?(e.consume(t),R):!b_(t)||6!==r&&7!==r?null===t||b_(t)?(e.exit("htmlFlowData"),C(t)):(e.consume(t),T):(e.exit("htmlFlowData"),e.check(sT,M,C)(t))}function C(t){return e.check(lT,I,M)(t)}function I(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||b_(t)?C(t):(e.enter("htmlFlowData"),T(t))}function O(t){return 45===t?(e.consume(t),D):T(t)}function P(t){return 47===t?(e.consume(t),a="",N):T(t)}function N(t){if(62===t){var n=a.toLowerCase();return oT.includes(n)?(e.consume(t),L):T(t)}return h_(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),N):T(t)}function R(t){return 93===t?(e.consume(t),D):T(t)}function D(t){return 62===t?(e.consume(t),L):45===t&&2===r?(e.consume(t),D):T(t)}function L(t){return null===t||b_(t)?(e.exit("htmlFlowData"),M(t)):(e.consume(t),L)}function M(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},sT={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(A_,t,n)}},partial:!0},lT={tokenize:function(e,t,n){var r=this;return function(t){if(b_(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};var cT={tokenize:function(e,t,n){var r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},fT={name:"codeFenced",tokenize:function(e,t,n){var r,i=this,a={tokenize:function(e,t,n){var a=0;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s}function s(t){return e.enter("codeFencedFence"),w_(t)?__(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===r?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===r?(a++,e.consume(t),c):a>=u?(e.exit("codeFencedFenceSequence"),w_(t)?__(e,f,"whitespace")(t):f(t)):n(t)}function f(r){return null===r||b_(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},o=0,u=0;return function(t){return function(t){var n=i.events[i.events.length-1];return o=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,r=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),s(t)}(t)};function s(t){return t===r?(u++,e.consume(t),s):u<3?n(t):(e.exit("codeFencedFenceSequence"),w_(t)?__(e,l,"whitespace")(t):l(t))}function l(n){return null===n||b_(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(cT,d,g)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||b_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):w_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),__(e,f,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),c)}function f(t){return null===t||b_(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||b_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===r?n(t):(e.consume(t),h)}function d(t){return e.attempt(a,g,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),v}function v(t){return o>0&&w_(t)?__(e,m,"linePrefix",o+1)(t):m(t)}function m(t){return null===t||b_(t)?e.check(cT,d,g)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||b_(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),y)}function g(n){return e.exit("codeFenced"),t(n)}},concrete:!0};var hT=document.createElement("i");function dT(e){var t="&"+e+";";hT.innerHTML=t;var n=hT.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}var pT={name:"characterReference",tokenize:function(e,t,n){var r,i,a=this,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),u};function u(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),r=31,i=d_,l(t))}function s(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=y_,l):(e.enter("characterReferenceValue"),r=7,i=m_,l(t))}function l(u){if(59===u&&o){var s=e.exit("characterReferenceValue");return i!==d_||dT(a.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return i(u)&&o++<r?(e.consume(u),l):n(u)}}};var vT={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return g_(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};var mT={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),__(e,t,"linePrefix")}}};var yT={name:"labelEnd",tokenize:function(e,t,n){var r,i,a=this,o=a.events.length;for(;o--;)if(("labelImage"===a.events[o][1].type||"labelLink"===a.events[o][1].type)&&!a.events[o][1]._balanced){r=a.events[o][1];break}return function(t){if(!r)return n(t);if(r._inactive)return c(t);return i=a.parser.defined.includes(J_(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),u};function u(t){return 40===t?e.attempt(gT,l,i?l:c)(t):91===t?e.attempt(bT,l,i?s:c)(t):i?l(t):c(t)}function s(t){return e.attempt(kT,l,c)(t)}function l(e){return t(e)}function c(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,i,a,o=e.length,u=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){u=2;break}}else"labelEnd"===n.type&&(i=o);var s={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},c={type:"labelText",start:Object.assign({},e[r+u+2][1].end),end:Object.assign({},e[i-2][1].start)};return a=s_(a=[["enter",s,t],["enter",l,t]],e.slice(r+1,r+u+3)),a=s_(a,[["enter",c,t]]),a=s_(a,z_(t.parser.constructs.insideSpan.null,e.slice(r+u+4,i-3),t)),a=s_(a,[["exit",c,t],e[i-2],e[i-1],["exit",l,t]]),a=s_(a,e.slice(i+1)),a=s_(a,[["exit",s,t]]),u_(e,r,e.length,a),e},resolveAll:function(e){var t=-1;for(;++t<e.length;){var n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},gT={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return k_(t)?$_(e,i)(t):i(t)}function i(t){return 41===t?l(t):Q_(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return k_(t)?$_(e,u)(t):l(t)}function o(e){return n(e)}function u(t){return 34===t||39===t||40===t?X_(e,s,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function s(t){return k_(t)?$_(e,l)(t):l(t)}function l(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},bT={tokenize:function(e,t,n){var r=this;return function(t){return Y_.call(r,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(J_(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},kT={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};var wT={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:yT.resolveAll};function ET(e){return null===e||k_(e)||x_(e)?1:E_(e)?2:void 0}var xT={name:"attention",tokenize:function(e,t){var n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=ET(i);return function(t){return n=t,e.enter("attentionSequence"),o(t)};function o(u){if(u===n)return e.consume(u),o;var s=e.exit("attentionSequence"),l=ET(u),c=!l||2===l&&a||r.includes(u),f=!a||2===a&&l||r.includes(i);return s._open=Boolean(42===n?c:c&&(a||!f)),s._close=Boolean(42===n?f:f&&(l||!c)),t(u)}},resolveAll:function(e,t){var n,r,i,a,o,u,s,l,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;var f=Object.assign({},e[n][1].end),h=Object.assign({},e[c][1].start);ST(f,-u),ST(h,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[n][1].end)},o={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:h},i={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:u>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},a.start),e[c][1].start=Object.assign({},o.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=s_(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=s_(s,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),s=s_(s,z_(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),s=s_(s,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(l=2,s=s_(s,[["enter",e[c][1],t],["exit",e[c][1],t]])):l=0,u_(e,n-1,c-n+3,s),c=n+s.length-l-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function ST(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var _T={name:"autolink",tokenize:function(e,t,n){var r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return h_(t)?(e.consume(t),a):s(t)}function a(e){return 43===e||45===e||46===e||d_(e)?(r=1,o(e)):s(e)}function o(t){return 58===t?(e.consume(t),r=0,u):(43===t||45===t||46===t||d_(t))&&r++<32?(e.consume(t),o):(r=0,s(t))}function u(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||v_(r)?n(r):(e.consume(r),u)}function s(t){return 64===t?(e.consume(t),l):p_(t)?(e.consume(t),s):n(t)}function l(e){return d_(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):f(n)}function f(t){if((45===t||d_(t))&&r++<63){var i=45===t?f:c;return e.consume(t),i}return n(t)}}};var TT={name:"htmlText",tokenize:function(e,t,n){var r,i,a,o=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),u};function u(t){return 33===t?(e.consume(t),s):47===t?(e.consume(t),k):63===t?(e.consume(t),g):h_(t)?(e.consume(t),x):n(t)}function s(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),i=0,d):h_(t)?(e.consume(t),y):n(t)}function l(t){return 45===t?(e.consume(t),h):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),f):b_(t)?(a=c,N(t)):(e.consume(t),c)}function f(t){return 45===t?(e.consume(t),h):c(t)}function h(e){return 62===e?P(e):45===e?f(e):c(e)}function d(t){var r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?p:d):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),v):b_(t)?(a=p,N(t)):(e.consume(t),p)}function v(t){return 93===t?(e.consume(t),m):p(t)}function m(t){return 62===t?P(t):93===t?(e.consume(t),m):p(t)}function y(t){return null===t||62===t?P(t):b_(t)?(a=y,N(t)):(e.consume(t),y)}function g(t){return null===t?n(t):63===t?(e.consume(t),b):b_(t)?(a=g,N(t)):(e.consume(t),g)}function b(e){return 62===e?P(e):g(e)}function k(t){return h_(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||d_(t)?(e.consume(t),w):E(t)}function E(t){return b_(t)?(a=E,N(t)):w_(t)?(e.consume(t),E):P(t)}function x(t){return 45===t||d_(t)?(e.consume(t),x):47===t||62===t||k_(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),P):58===t||95===t||h_(t)?(e.consume(t),_):b_(t)?(a=S,N(t)):w_(t)?(e.consume(t),S):P(t)}function _(t){return 45===t||46===t||58===t||95===t||d_(t)?(e.consume(t),_):T(t)}function T(t){return 61===t?(e.consume(t),C):b_(t)?(a=T,N(t)):w_(t)?(e.consume(t),T):S(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,I):b_(t)?(a=C,N(t)):w_(t)?(e.consume(t),C):(e.consume(t),A)}function I(t){return t===r?(e.consume(t),r=void 0,O):null===t?n(t):b_(t)?(a=I,N(t)):(e.consume(t),I)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||k_(t)?S(t):(e.consume(t),A)}function O(e){return 47===e||62===e||k_(e)?S(e):n(e)}function P(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function N(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return w_(t)?__(e,D,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):D(t)}function D(t){return e.enter("htmlTextData"),a(t)}}};var CT={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:yT.resolveAll};var IT={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return b_(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};var AT,OT,PT,NT,RT,DT={name:"codeText",tokenize:function(e,t,n){var r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),a++,o):(e.exit("codeTextSequence"),u(t))}function u(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),u):96===t?(i=e.enter("codeTextSequence"),r=0,l(t)):b_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):(e.enter("codeTextData"),s(t))}function s(t){return null===t||32===t||96===t||b_(t)?(e.exit("codeTextData"),u(t)):(e.consume(t),s)}function l(n){return 96===n?(e.consume(n),r++,l):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",s(n))}},resolve:function(e){var t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};var LT=(it(AT={},42,H_),it(AT,43,H_),it(AT,45,H_),it(AT,48,H_),it(AT,49,H_),it(AT,50,H_),it(AT,51,H_),it(AT,52,H_),it(AT,53,H_),it(AT,54,H_),it(AT,55,H_),it(AT,56,H_),it(AT,57,H_),it(AT,62,G_),AT),MT=it({},91,Z_),FT=(it(OT={},-2,tT),it(OT,-1,tT),it(OT,32,tT),OT),UT=(it(PT={},35,rT),it(PT,42,q_),it(PT,45,[iT,q_]),it(PT,60,uT),it(PT,61,iT),it(PT,95,q_),it(PT,96,fT),it(PT,126,fT),PT),jT=(it(NT={},38,pT),it(NT,92,vT),NT),VT=(it(RT={},-5,mT),it(RT,-4,mT),it(RT,-3,mT),it(RT,33,wT),it(RT,38,pT),it(RT,42,xT),it(RT,60,[_T,TT]),it(RT,91,CT),it(RT,92,[IT,vT]),it(RT,93,yT),it(RT,95,xT),it(RT,96,DT),RT),zT={null:[xT,L_]},BT={null:[42,95]},qT={null:[]};function HT(t){var n=function(e){for(var t={},n=-1;++n<e.length;)c_(t,e[n]);return t}([e].concat(f((t||{}).extensions||[]))),r={defined:[],lazy:{},constructs:n,content:i(T_),document:i(C_),flow:i(D_),string:i(M_),text:i(F_)};return r;function i(e){return function(t){return B_(r,e,t)}}}var WT=/[\0\t\n\r]/g;function KT(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}var GT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QT(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){var r=n.charCodeAt(1),i=120===r||88===r;return KT(n.slice(i?2:1),i?16:10)}return dT(n)||e}var YT={}.hasOwnProperty,XT=function(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){var t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(ne),autolinkProtocol:C,autolinkEmail:C,atxHeading:u(J),blockQuote:u(G),characterEscape:C,characterReference:C,codeFenced:u(Q),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:u(Q,s),codeText:u(Y,s),codeTextData:C,data:C,codeFlowValue:C,definition:u(X),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:u($),hardBreakEscape:u(Z),hardBreakTrailing:u(Z),htmlFlow:u(ee,s),htmlFlowData:C,htmlText:u(ee,s),htmlTextData:C,image:u(te),label:s,link:u(ne),listItem:u(ie),listItemValue:p,listOrdered:u(re,d),listUnordered:u(re),paragraph:u(ae),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:u(J),strong:u(oe),thematicBreak:u(se)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:K,autolinkProtocol:W,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:H,codeFenced:c(g),codeFencedFence:y,codeFencedFenceInfo:v,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:c(b),codeText:c(R),codeTextData:I,data:I,definition:c(),definitionDestinationString:E,definitionLabelString:k,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(P),htmlFlowData:I,htmlText:c(N),htmlTextData:I,image:c(L),label:F,labelText:M,lineEnding:A,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:B,resourceDestinationString:U,resourceTitleString:j,resource:V,setextHeading:c(T),setextHeadingLineSequence:_,setextHeadingText:S,strong:c(),thematicBreak:c()}};JT(t,(e||{}).mdastExtensions||[]);var n={};return r;function r(e){for(var n={type:"root",children:[]},r={stack:[n],tokenStack:[],config:t,enter:l,exit:f,buffer:s,resume:h,setData:a,getData:o},u=[],c=-1;++c<e.length;){if("listOrdered"===e[c][1].type||"listUnordered"===e[c][1].type)if("enter"===e[c][0])u.push(c);else c=i(e,u.pop(),c)}for(c=-1;++c<e.length;){var d=t[e[c][0]];YT.call(d,e[c][1].type)&&d[e[c][1].type].call(Object.assign({sliceSerialize:e[c][2].sliceSerialize},r),e[c][1])}if(r.tokenStack.length>0){var p=r.tokenStack[r.tokenStack.length-1];(p[1]||eC).call(r,void 0,p[0])}for(n.position={start:$T(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:$T(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<t.transforms.length;)n=t.transforms[c](n)||n;return n}function i(e,t,n){for(var r,i,a,o,u=t-1,s=-1,l=!1;++u<=n;){var c=e[u];if("listUnordered"===c[1].type||"listOrdered"===c[1].type||"blockQuote"===c[1].type?("enter"===c[0]?s++:s--,o=void 0):"lineEndingBlank"===c[1].type?"enter"===c[0]&&(!r||o||s||a||(a=u),o=void 0):"linePrefix"===c[1].type||"listItemValue"===c[1].type||"listItemMarker"===c[1].type||"listItemPrefix"===c[1].type||"listItemPrefixWhitespace"===c[1].type||(o=void 0),!s&&"enter"===c[0]&&"listItemPrefix"===c[1].type||-1===s&&"exit"===c[0]&&("listUnordered"===c[1].type||"listOrdered"===c[1].type)){if(r){var f=u;for(i=void 0;f--;){var h=e[f];if("lineEnding"===h[1].type||"lineEndingBlank"===h[1].type){if("exit"===h[0])continue;i&&(e[i][1].type="lineEndingBlank",l=!0),h[1].type="lineEnding",i=f}else if("linePrefix"!==h[1].type&&"blockQuotePrefix"!==h[1].type&&"blockQuotePrefixWhitespace"!==h[1].type&&"blockQuoteMarker"!==h[1].type&&"listItemIndent"!==h[1].type)break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:c[1].end),e.splice(i||u,0,["exit",r,c[2]]),u++,n++}"listItemPrefix"===c[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},c[1].start),end:void 0},e.splice(u,0,["enter",r,c[2]]),u++,n++,a=void 0,o=!0)}}return e[t][1]._spread=l,n}function a(e,t){n[e]=t}function o(e){return n[e]}function u(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:$T(t.start)},e}function c(e){return t;function t(t){e&&e.call(this,t),f.call(this,t)}}function f(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+OS({start:e.start,end:e.end})+"): it\u2019s not open");return r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||eC).call(this,e,r[0])),n.position.end=$T(e.end),n}function h(){return function(e,t){var n=t||i_;return a_(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function d(){a("expectingFirstListItemValue",!0)}function p(e){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),a("expectingFirstListItemValue"))}function v(){var e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){var e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){o("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function g(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function b(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function k(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=J_(this.sliceSerialize(e)).toLowerCase()}function w(){var e=this.resume();this.stack[this.stack.length-1].title=e}function E(){var e=this.resume();this.stack[this.stack.length-1].url=e}function x(e){var t=this.stack[this.stack.length-1];if(!t.depth){var n=this.sliceSerialize(e).length;t.depth=n}}function S(){a("setextHeadingSlurpLineEnding",!0)}function _(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function T(){a("setextHeadingSlurpLineEnding")}function C(e){var t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n=ue()).position={start:$T(e.start)},t.children.push(n)),this.stack.push(n)}function I(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=$T(e.end)}function A(e){var n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=$T(e.end),void a("atHardBreak");!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(C.call(this,e),I.call(this,e))}function O(){a("atHardBreak",!0)}function P(){var e=this.resume();this.stack[this.stack.length-1].value=e}function N(){var e=this.resume();this.stack[this.stack.length-1].value=e}function R(){var e=this.resume();this.stack[this.stack.length-1].value=e}function D(){var e=this.stack[this.stack.length-1];if(o("inReference")){var t=o("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function L(){var e=this.stack[this.stack.length-1];if(o("inReference")){var t=o("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function M(e){var t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(GT,QT)}(t),n.identifier=J_(t).toLowerCase()}function F(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(a("inReference",!0),"link"===n.type){var r=e.children;n.children=r}else n.alt=t}function U(){var e=this.resume();this.stack[this.stack.length-1].url=e}function j(){var e=this.resume();this.stack[this.stack.length-1].title=e}function V(){a("inReference")}function z(){a("referenceType","collapsed")}function B(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=J_(this.sliceSerialize(e)).toLowerCase(),a("referenceType","full")}function q(e){a("characterReferenceType",e.type)}function H(e){var t,n=this.sliceSerialize(e),r=o("characterReferenceType");r?(t=KT(n,"characterReferenceMarkerNumeric"===r?10:16),a("characterReferenceType")):t=dT(n);var i=this.stack.pop();i.value+=t,i.position.end=$T(e.end)}function W(e){I.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function K(e){I.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:void 0,children:[]}}function Z(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function se(){return{type:"thematicBreak"}}}(n)(function(e){for(;!O_(e););return e}(HT(n).document().write(function(){var e,t=1,n="",r=!0;return function(i,a,o){var u,s,l,c,f,h=[];for(i=n+i.toString(a),l=0,n="",r&&(65279===i.charCodeAt(0)&&l++,r=void 0);l<i.length;){if(WT.lastIndex=l,c=(u=WT.exec(i))&&void 0!==u.index?u.index:i.length,f=i.charCodeAt(c),!u){n=i.slice(l);break}if(10===f&&l===c&&e)h.push(-3),e=void 0;else switch(e&&(h.push(-5),e=void 0),l<c&&(h.push(i.slice(l,c)),t+=c-l),f){case 0:h.push(65533),t++;break;case 9:for(s=4*Math.ceil(t/4),h.push(-2);t++<s;)h.push(-1);break;case 10:h.push(-4),t=1;break;default:e=!0,t=1}l=c+1}return o&&(e&&h.push(-5),n&&h.push(n),h.push(null)),h}}()(e,t,!0))))};function $T(e){return{line:e.line,column:e.column,offset:e.offset}}function JT(e,t){for(var n=-1;++n<t.length;){var r=t[n];Array.isArray(r)?JT(e,r):ZT(e,r)}}function ZT(e,t){var n;for(n in t)if(YT.call(t,n))if("canContainEols"===n){var r,i=t[n];if(i)(r=e[n]).push.apply(r,f(i))}else if("transforms"===n){var a,o=t[n];if(o)(a=e[n]).push.apply(a,f(o))}else if("enter"===n||"exit"===n){var u=t[n];u&&Object.assign(e[n],u)}}function eC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+OS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+OS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+OS({start:t.start,end:t.end})+") is still open")}function tC(e){var t=this;Object.assign(this,{Parser:function(n){var r=t.data("settings");return XT(n,Object.assign({},r,e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}})}function nC(e){for(var t=[],n=-1,r=0,i=0;++n<e.length;){var a=e.charCodeAt(n),o="";if(37===a&&d_(e.charCodeAt(n+1))&&d_(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){var u=e.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(o=String.fromCharCode(a,u),i=1):o="\ufffd"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}var rC=function(e){if(void 0===e||null===e)return oC;if("string"===typeof e)return function(e){return aC(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?iC(e):function(e){return aC(t);function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return aC(e);throw new Error("Expected function, string, or object as test")};function iC(e){for(var t=[],n=-1;++n<e.length;)t[n]=rC(e[n]);return aC((function(){for(var e=-1,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;){var a;if((a=t[e]).call.apply(a,[this].concat(r)))return!0}return!1}))}function aC(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call.apply(e,[this,t].concat(r))))}}function oC(){return!0}var uC=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var i=rC(t),a=r?-1:1;!function e(o,u,s){var l=o&&"object"===typeof o?o:{};if("string"===typeof l.type){var c="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(f,"name",{value:"node ("+o.type+(c?"<"+c+">":"")+")"})}return f;function f(){var l,c,f,h=[];if((!t||i(o,u,s[s.length-1]||null))&&(h=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,s)),false===h[0]))return h;if(o.children&&"skip"!==h[0])for(c=(r?o.children.length:-1)+a,f=s.concat(o);c>-1&&c<o.children.length;){if(false===(l=e(o.children[c],c,f)())[0])return l;c="number"===typeof l[1]?l[1]:c+a}return h}}(e,void 0,[])()};var sC=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),uC(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},lC=fC("start"),cC=fC("end");function fC(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}var hC={}.hasOwnProperty;function dC(e){return String(e||"").toUpperCase()}function pC(e,t){var n,r=String(t.identifier).toUpperCase(),i=nC(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);-1===a?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,n=e.footnoteOrder.length):(e.footnoteCounts[r]++,n=a+1);var o=e.footnoteCounts[r],u={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(n)}]};e.patch(t,u);var s={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,s),e.applyData(t,s)}function vC(e,t){var n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return{type:"text",value:"!["+t.alt+r};var i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});var o=i[i.length-1];return o&&"text"===o.type?o.value+=r:i.push({type:"text",value:r}),i}function mC(e){var t=e.spread;return void 0===t||null===t?e.children.length>1:t}var yC=9,gC=32;function bC(e){for(var t=String(e),n=/\r?\n|\r/g,r=n.exec(t),i=0,a=[];r;)a.push(kC(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(kC(t.slice(i),i>0,!1)),a.join("")}function kC(e,t,n){var r=0,i=e.length;if(t)for(var a=e.codePointAt(r);a===yC||a===gC;)r++,a=e.codePointAt(r);if(n)for(var o=e.codePointAt(i-1);o===yC||o===gC;)i--,o=e.codePointAt(i-1);return i>r?e.slice(r,i):""}var wC={blockquote:function(e,t){var n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){var n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){var n=t.value?t.value+"\n":"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);var a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a={type:"element",tagName:"pre",properties:{},children:[a=e.applyData(t,a)]},e.patch(t,a),a},delete:function(e,t){var n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){var n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:pC,footnote:function(e,t){for(var n=e.footnoteById,r=1;r in n;)r++;var i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},pC(e,{type:"footnoteReference",identifier:i,position:t.position})},heading:function(e,t){var n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.dangerous){var n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null},imageReference:function(e,t){var n=e.definition(t.identifier);if(!n)return vC(e,t);var r={src:nC(n.url||""),alt:t.alt};null!==n.title&&void 0!==n.title&&(r.title=n.title);var i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){var n={src:nC(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);var r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){var n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);var r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){var n=e.definition(t.identifier);if(!n)return vC(e,t);var r={href:nC(n.url||"")};null!==n.title&&void 0!==n.title&&(r.title=n.title);var i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){var n={href:nC(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);var r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){var r=e.all(t),i=n?function(e){var t=!1;if("list"===e.type){t=e.spread||!1;for(var n=e.children,r=-1;!t&&++r<n.length;)t=mC(n[r])}return t}(n):mC(t),a={},o=[];if("boolean"===typeof t.checked){var u,s=r[0];s&&"element"===s.type&&"p"===s.tagName?u=s:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}for(var l=-1;++l<r.length;){var c=r[l];(i||0!==l||"element"!==c.type||"p"!==c.tagName)&&o.push({type:"text",value:"\n"}),"element"!==c.type||"p"!==c.tagName||i?o.push(c):o.push.apply(o,f(c.children))}var h=r[r.length-1];h&&(i||"element"!==h.type||"p"!==h.tagName)&&o.push({type:"text",value:"\n"});var d={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,d),e.applyData(t,d)},list:function(e,t){var n={},r=e.all(t),i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){var a=r[i];if("element"===a.type&&"li"===a.tagName&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}var o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){var n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){var n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){var n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){var n=e.all(t),r=n.shift(),i=[];if(r){var a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){var o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=lC(t.children[1]),s=cC(t.children[t.children.length-1]);u.line&&s.line&&(o.position={start:u,end:s}),i.push(o)}var l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)},tableCell:function(e,t){var n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){for(var r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,o=a?a.length:t.children.length,u=-1,s=[];++u<o;){var l=t.children[u],c={},f=a?a[u]:void 0;f&&(c.align=f);var h={type:"element",tagName:i,properties:c,children:[]};l&&(h.children=e.all(l),e.patch(l,h),h=e.applyData(t,h)),s.push(h)}var d={type:"element",tagName:"tr",properties:{},children:e.wrap(s,!0)};return e.patch(t,d),e.applyData(t,d)},text:function(e,t){var n={type:"text",value:bC(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){var n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:EC,yaml:EC,definition:EC,footnoteDefinition:EC};function EC(){return null}var xC={}.hasOwnProperty;function SC(e,t){var n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers=qt(qt({},wC),n.handlers),o.definition=function(e){var t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return sC(e,"definition",(function(e){var n=dC(e.identifier);n&&!hC.call(t,n)&&(t[n]=e)})),function(e){var n=dC(e);return n&&hC.call(t,n)?t[n]:null}}(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=_C,o.applyData=TC,o.one=function(e,t){return CC(o,e,t)},o.all=function(e){return IC(o,e)},o.wrap=AC,o.augment=a,sC(e,"footnoteDefinition",(function(e){var t=String(e.identifier).toUpperCase();xC.call(i,t)||(i[t]=e)})),o;function a(e,t){if(e&&"data"in e&&e.data){var n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=qt(qt({},t.properties),n.hProperties)),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){var r="type"in e?e:{position:e};(function(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column})(r)||(t.position={start:lC(r),end:cC(r)})}return t}function o(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),a(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}function _C(e,t){e.position&&(t.position=function(e){return{start:lC(e),end:cC(e)}}(e))}function TC(e,t){var n=t;if(e&&e.data){var r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;"string"===typeof r&&("element"===n.type?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),"element"===n.type&&a&&(n.properties=qt(qt({},n.properties),a)),"children"in n&&n.children&&null!==i&&void 0!==i&&(n.children=i)}return n}function CC(e,t,n){var r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return xC.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?qt(qt({},t),{},{children:IC(e,t)}):t:e.unknownHandler?e.unknownHandler(e,t,n):function(e,t){var n=t.data||{},r=!("value"in t)||xC.call(n,"hProperties")||xC.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:IC(e,t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}(e,t)}function IC(e,t){var n=[];if("children"in t)for(var r=t.children,i=-1;++i<r.length;){var a=CC(e,r[i],t);if(a){if(i&&"break"===r[i-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){var o=a.children[0];o&&"text"===o.type&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(a)?n.push.apply(n,f(a)):n.push(a)}}return n}function AC(e,t){var n=[],r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function OC(e,t){var n=SC(e,t),r=n.one(e,null),i=function(e){for(var t=[],n=-1;++n<e.footnoteOrder.length;){var r=e.footnoteById[e.footnoteOrder[n]];if(r){for(var i=e.all(r),a=String(r.identifier).toUpperCase(),o=nC(a.toLowerCase()),u=0,s=[];++u<=e.footnoteCounts[a];){var l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21a9"}]};u>1&&l.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),s.length>0&&s.push({type:"text",value:" "}),s.push(l)}var c=i[i.length-1];if(c&&"element"===c.type&&"p"===c.tagName){var f,h=c.children[c.children.length-1];h&&"text"===h.type?h.value+=" ":c.children.push({type:"text",value:" "}),(f=c.children).push.apply(f,s)}else i.push.apply(i,s);var d={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,d),t.push(d)}}if(0!==t.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:qt(qt({},JSON.parse(JSON.stringify(e.footnoteLabelProperties))),{},{id:"footnote-label"}),children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:"\n"}]}}(n);return i&&r.children.push({type:"text",value:"\n"},i),Array.isArray(r)?{type:"root",children:r}:r}var PC=function(e,t){return e&&"run"in e?function(e,t){return function(n,r,i){e.run(OC(n,t),r,(function(e){i(e)}))}}(e,t):function(e){return function(t){return OC(t,e)}}(e||t)};var NC=n(7),RC=m((function e(t,n,r){h(this,e),this.property=t,this.normal=n,r&&(this.space=r)}));function DC(e,t){for(var n={},r={},i=-1;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new RC(n,r,t)}function LC(e){return e.toLowerCase()}RC.prototype.property={},RC.prototype.normal={},RC.prototype.space=null;var MC=m((function e(t,n){h(this,e),this.property=t,this.attribute=n}));MC.prototype.space=null,MC.prototype.boolean=!1,MC.prototype.booleanish=!1,MC.prototype.overloadedBoolean=!1,MC.prototype.number=!1,MC.prototype.commaSeparated=!1,MC.prototype.spaceSeparated=!1,MC.prototype.commaOrSpaceSeparated=!1,MC.prototype.mustUseProperty=!1,MC.prototype.defined=!1;var FC=0,UC=WC(),jC=WC(),VC=WC(),zC=WC(),BC=WC(),qC=WC(),HC=WC();function WC(){return Math.pow(2,++FC)}var KC=Object.keys(t),GC=function(e){g(r,e);var n=E(r);function r(e,i,a,o){var u;h(this,r);var s=-1;if(QC(w(u=n.call(this,e,i)),"space",o),"number"===typeof a)for(;++s<KC.length;){var l=KC[s];QC(w(u),KC[s],(a&t[l])===t[l])}return u}return m(r)}(MC);function QC(e,t,n){n&&(e[t]=n)}GC.prototype.defined=!0;var YC={}.hasOwnProperty;function XC(e){var t,n={},r={};for(t in e.properties)if(YC.call(e.properties,t)){var i=e.properties[t],a=new GC(t,e.transform(e.attributes||{},t),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),n[t]=a,r[LC(t)]=t,r[LC(a.attribute)]=t}return new RC(n,r,e.space)}var $C=XC({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),JC=XC({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ZC(e,t){return t in e?e[t]:t}function eI(e,t){return ZC(e,t.toLowerCase())}var tI=XC({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:eI,properties:{xmlns:null,xmlnsXLink:null}}),nI=XC({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jC,ariaAutoComplete:null,ariaBusy:jC,ariaChecked:jC,ariaColCount:zC,ariaColIndex:zC,ariaColSpan:zC,ariaControls:BC,ariaCurrent:null,ariaDescribedBy:BC,ariaDetails:null,ariaDisabled:jC,ariaDropEffect:BC,ariaErrorMessage:null,ariaExpanded:jC,ariaFlowTo:BC,ariaGrabbed:jC,ariaHasPopup:null,ariaHidden:jC,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:BC,ariaLevel:zC,ariaLive:null,ariaModal:jC,ariaMultiLine:jC,ariaMultiSelectable:jC,ariaOrientation:null,ariaOwns:BC,ariaPlaceholder:null,ariaPosInSet:zC,ariaPressed:jC,ariaReadOnly:jC,ariaRelevant:null,ariaRequired:jC,ariaRoleDescription:BC,ariaRowCount:zC,ariaRowIndex:zC,ariaRowSpan:zC,ariaSelected:jC,ariaSetSize:zC,ariaSort:null,ariaValueMax:zC,ariaValueMin:zC,ariaValueNow:zC,ariaValueText:null,role:null}}),rI=XC({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:eI,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qC,acceptCharset:BC,accessKey:BC,action:null,allow:null,allowFullScreen:UC,allowPaymentRequest:UC,allowUserMedia:UC,alt:null,as:null,async:UC,autoCapitalize:null,autoComplete:BC,autoFocus:UC,autoPlay:UC,capture:UC,charSet:null,checked:UC,cite:null,className:BC,cols:zC,colSpan:null,content:null,contentEditable:jC,controls:UC,controlsList:BC,coords:zC|qC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:UC,defer:UC,dir:null,dirName:null,disabled:UC,download:VC,draggable:jC,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:UC,formTarget:null,headers:BC,height:zC,hidden:UC,high:zC,href:null,hrefLang:null,htmlFor:BC,httpEquiv:BC,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:UC,itemId:null,itemProp:BC,itemRef:BC,itemScope:UC,itemType:BC,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:UC,low:zC,manifest:null,max:null,maxLength:zC,media:null,method:null,min:null,minLength:zC,multiple:UC,muted:UC,name:null,nonce:null,noModule:UC,noValidate:UC,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:UC,optimum:zC,pattern:null,ping:BC,placeholder:null,playsInline:UC,poster:null,preload:null,readOnly:UC,referrerPolicy:null,rel:BC,required:UC,reversed:UC,rows:zC,rowSpan:zC,sandbox:BC,scope:null,scoped:UC,seamless:UC,selected:UC,shape:null,size:zC,sizes:null,slot:null,span:zC,spellCheck:jC,src:null,srcDoc:null,srcLang:null,srcSet:null,start:zC,step:null,style:null,tabIndex:zC,target:null,title:null,translate:null,type:null,typeMustMatch:UC,useMap:null,value:jC,width:zC,wrap:null,align:null,aLink:null,archive:BC,axis:null,background:null,bgColor:null,border:zC,borderColor:null,bottomMargin:zC,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:UC,declare:UC,event:null,face:null,frame:null,frameBorder:null,hSpace:zC,leftMargin:zC,link:null,longDesc:null,lowSrc:null,marginHeight:zC,marginWidth:zC,noResize:UC,noHref:UC,noShade:UC,noWrap:UC,object:null,profile:null,prompt:null,rev:null,rightMargin:zC,rules:null,scheme:null,scrolling:jC,standby:null,summary:null,text:null,topMargin:zC,valueType:null,version:null,vAlign:null,vLink:null,vSpace:zC,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:UC,disableRemotePlayback:UC,prefix:null,property:null,results:zC,security:null,unselectable:null}}),iI=XC({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ZC,properties:{about:HC,accentHeight:zC,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:zC,amplitude:zC,arabicForm:null,ascent:zC,attributeName:null,attributeType:null,azimuth:zC,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:zC,by:null,calcMode:null,capHeight:zC,className:BC,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:zC,diffuseConstant:zC,direction:null,display:null,dur:null,divisor:zC,dominantBaseline:null,download:UC,dx:null,dy:null,edgeMode:null,editable:null,elevation:zC,enableBackground:null,end:null,event:null,exponent:zC,externalResourcesRequired:null,fill:null,fillOpacity:zC,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qC,g2:qC,glyphName:qC,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:zC,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:zC,horizOriginX:zC,horizOriginY:zC,id:null,ideographic:zC,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:zC,k:zC,k1:zC,k2:zC,k3:zC,k4:zC,kernelMatrix:HC,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:zC,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:zC,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:zC,overlineThickness:zC,paintOrder:null,panose1:null,path:null,pathLength:zC,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:BC,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:zC,pointsAtY:zC,pointsAtZ:zC,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:HC,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:HC,rev:HC,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:HC,requiredFeatures:HC,requiredFonts:HC,requiredFormats:HC,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:zC,specularExponent:zC,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:zC,strikethroughThickness:zC,string:null,stroke:null,strokeDashArray:HC,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:zC,strokeOpacity:zC,strokeWidth:null,style:null,surfaceScale:zC,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:HC,tabIndex:zC,tableValues:null,target:null,targetX:zC,targetY:zC,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:HC,to:null,transform:null,u1:null,u2:null,underlinePosition:zC,underlineThickness:zC,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:zC,values:null,vAlphabetic:zC,vMathematical:zC,vectorEffect:null,vHanging:zC,vIdeographic:zC,version:null,vertAdvY:zC,vertOriginX:zC,vertOriginY:zC,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:zC,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),aI=DC([JC,$C,tI,nI,rI],"html"),oI=DC([JC,$C,tI,nI,iI],"svg");function uI(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return function(t){sC(t,"element",(function(t,n,r){var i,a=r;if(e.allowedElements?i=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(i=e.disallowedElements.includes(t.tagName)),!i&&e.allowElement&&"number"===typeof n&&(i=!e.allowElement(t,n,a)),i&&"number"===typeof n){var o;if(e.unwrapDisallowed&&t.children)(o=a.children).splice.apply(o,[n,1].concat(f(t.children)));else a.children.splice(n,1);return n}}))}}var sI=n(599);function lI(e){var t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}var cI=/^data[-\w.:]+$/i,fI=/-[a-z]/g,hI=/[A-Z]/g;function dI(e){return"-"+e.toLowerCase()}function pI(e){return e.charAt(1).toUpperCase()}var vI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var mI=n(426),yI=["http","https","mailto","tel"];function gI(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var r=t.indexOf(":");if(-1===r)return t;for(var i=-1;++i<yI.length;){var a=yI[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return-1!==(i=t.indexOf("?"))&&r>i||-1!==(i=t.indexOf("#"))&&r>i?t:"javascript:void(0)"}var bI={}.hasOwnProperty,kI=new Set(["table","thead","tbody","tfoot","tr"]);function wI(e,t){for(var n,r=[],i=-1;++i<t.children.length;)"element"===(n=t.children[i]).type?r.push(EI(e,n,i,t)):"text"===n.type?"element"===t.type&&kI.has(t.tagName)&&lI(n)||r.push(n.value):"raw"!==n.type||e.options.skipHtml||r.push(n.value);return r}function EI(e,t,n,r){var a,o=e.options,u=void 0===o.transformLinkUri?gI:o.transformLinkUri,s=e.schema,l=t.tagName,c={},f=s;if("html"===s.space&&"svg"===l&&(f=oI,e.schema=f),t.properties)for(a in t.properties)bI.call(t.properties,a)&&SI(c,a,t.properties[a],e);"ol"!==l&&"ul"!==l||e.listDepth++;var h=wI(e,t);"ol"!==l&&"ul"!==l||e.listDepth--,e.schema=s;var d,p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},v=o.components&&bI.call(o.components,l)?o.components[l]:l,m="string"===typeof v||v===i.Fragment;if(!sI.isValidElementType(v))throw new TypeError("Component for name `".concat(l,"` not defined or is not renderable"));if(c.key=n,"a"===l&&o.linkTarget&&(c.target="function"===typeof o.linkTarget?o.linkTarget(String(c.href||""),t.children,"string"===typeof c.title?c.title:null):o.linkTarget),"a"===l&&u&&(c.href=u(String(c.href||""),t.children,"string"===typeof c.title?c.title:null)),m||"code"!==l||"element"!==r.type||"pre"===r.tagName||(c.inline=!0),m||"h1"!==l&&"h2"!==l&&"h3"!==l&&"h4"!==l&&"h5"!==l&&"h6"!==l||(c.level=Number.parseInt(l.charAt(1),10)),"img"===l&&o.transformImageUri&&(c.src=o.transformImageUri(String(c.src||""),String(c.alt||""),"string"===typeof c.title?c.title:null)),!m&&"li"===l&&"element"===r.type){var y=function(e){var t=-1;for(;++t<e.children.length;){var n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);c.checked=y&&y.properties?Boolean(y.properties.checked):null,c.index=xI(r,t),c.ordered="ol"===r.tagName}return m||"ol"!==l&&"ul"!==l||(c.ordered="ol"===l,c.depth=e.listDepth),"td"!==l&&"th"!==l||(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),m||(c.isHeader="th"===l)),m||"tr"!==l||"element"!==r.type||(c.isHeader=Boolean("thead"===r.tagName)),o.sourcePos&&(c["data-sourcepos"]=[(d=p).start.line,":",d.start.column,"-",d.end.line,":",d.end.column].map(String).join("")),!m&&o.rawSourcePos&&(c.sourcePosition=t.position),!m&&o.includeElementIndex&&(c.index=xI(r,t),c.siblingCount=xI(r)),m||(c.node=t),h.length>0?i.createElement(v,c,h):i.createElement(v,c)}function xI(e,t){for(var n=-1,r=0;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function SI(e,t,n,r){var i=function(e,t){var n=LC(t),r=t,i=MC;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&cI.test(t)){if("-"===t.charAt(4)){var a=t.slice(5).replace(fI,pI);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{var o=t.slice(4);if(!fI.test(o)){var u=o.replace(hI,dI);"-"!==u.charAt(0)&&(u="-"+u),t="data"+u}}i=GC}return new i(r,t)}(r.schema,t),a=n;null!==a&&void 0!==a&&a===a&&(Array.isArray(a)&&(a=i.commaSeparated?function(e,t){var n=t||{};return(""===e[e.length-1]?[].concat(f(e),[""]):e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(a):function(e){return e.join(" ").trim()}(a)),"style"===i.property&&"string"===typeof a&&(a=function(e){var t={};try{mI(e,n)}catch(r){}return t;function n(e,n){var r="-ms-"===e.slice(0,4)?"ms-".concat(e.slice(4)):e;t[r.replace(/-([a-z])/g,_I)]=n}}(a)),i.space&&i.property?e[bI.call(vI,i.property)?vI[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function _I(e,t){return t.toUpperCase()}var TI={}.hasOwnProperty,CI={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function II(e){for(var t in CI)if(TI.call(CI,t)&&TI.call(e,t)){var n=CI[t];console.warn("[react-markdown] Warning: please ".concat(n.to?"use `".concat(n.to,"` instead of"):"remove"," `").concat(t,"` (see <").concat("https://github.com/remarkjs/react-markdown/blob/main/changelog.md","#").concat(n.id,"> for more info)")),delete CI[t]}var r=YS().use(tC).use(e.remarkPlugins||[]).use(PC,qt(qt({},e.remarkRehypeOptions),{},{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(uI,e),a=new zS;"string"===typeof e.children?a.value=e.children:void 0!==e.children&&null!==e.children&&console.warn("[react-markdown] Warning: please pass a string as `children` (not: `".concat(e.children,"`)"));var o=r.runSync(r.parse(a),a);if("root"!==o.type)throw new TypeError("Expected a `root` node");var u=i.createElement(i.Fragment,{},wI({options:e,schema:aI,listDepth:0},o));return e.className&&(u=i.createElement("div",{className:e.className},u)),u}II.propTypes={children:NC.string,className:NC.string,allowElement:NC.func,allowedElements:NC.arrayOf(NC.string),disallowedElements:NC.arrayOf(NC.string),unwrapDisallowed:NC.bool,remarkPlugins:NC.arrayOf(NC.oneOfType([NC.object,NC.func,NC.arrayOf(NC.oneOfType([NC.bool,NC.string,NC.object,NC.func,NC.arrayOf(NC.any)]))])),rehypePlugins:NC.arrayOf(NC.oneOfType([NC.object,NC.func,NC.arrayOf(NC.oneOfType([NC.bool,NC.string,NC.object,NC.func,NC.arrayOf(NC.any)]))])),sourcePos:NC.bool,rawSourcePos:NC.bool,skipHtml:NC.bool,includeElementIndex:NC.bool,transformLinkUri:NC.oneOfType([NC.func,NC.bool]),linkTarget:NC.oneOfType([NC.func,NC.string]),transformImageUri:NC.func,components:NC.object};var AI="Question_question__JEPLI",OI="Question_clues__otCir",PI="Question_prompt__dNqUf",NI=IS((function(e){var t=e.question,n=e.state,r=e.awardPoints,a=e.prompt,o=C((0,i.useState)(""),2),u=o[0],s=o[1],l=(0,i.useRef)(null);(0,i.useEffect)((function(){return null!=l.current&&l.current.focus(),function(){s("")}}),[t,n.revealedClues]);var c=function(){var e={revealedClues:n.revealedClues};if(u.toLocaleLowerCase()===t.answer.toLocaleLowerCase()){var i=t.clues.length-n.revealedClues;e.score=i,e.state=mx.CORRECTLY_ANSWERED}else e.state=mx.INCORRECTLY_ANSWERED,e.score=0;r(e)};return i.createElement("div",{className:AI},i.createElement("span",{className:PI},"For ",t.clues.length-n.revealedClues," point(s), ",a),i.createElement("button",{onClick:function(){n.revealedClues=n.revealedClues+1},disabled:n.state!==mx.UNANSWERED||n.revealedClues===t.clues.length-1},"Reveal Another Clue"),i.createElement("ul",{className:OI},t.clues.map((function(e,t){return i.createElement(RI,{key:t,clue:e,revealed:t<=n.revealedClues})}))),i.createElement("label",null,"Your Answer:",i.createElement("input",{ref:l,disabled:n.state!==mx.UNANSWERED,value:u,onKeyPress:function(e){return"Enter"===e.key?c():""},onChange:function(e){return s(null===e||void 0===e?void 0:e.currentTarget.value)}})),i.createElement("button",{onClick:function(e){c()},disabled:n.state!==mx.UNANSWERED},"Submit Guess"),function(){if(mx.UNANSWERED===n.state)return null;var e="";if(mx.CORRECTLY_ANSWERED===n.state){var r=t.clues.length-n.revealedClues;e="Correct! You get ".concat(r," points.")}else e="Incorrect! You get 0 points. The correct answer is ".concat(t.answer,".");return i.createElement("span",null,e," ",null!=t.revealOnAnswer&&i.createElement(II,null,t.revealOnAnswer)," ")}())})),RI=function(e){var t=e.clue,n=e.revealed;return i.createElement("li",null,n?t:"-----------")},DI=IS((function(){var e=(0,i.useContext)(Ex),t=C((0,i.useState)(0),2),n=t[0],r=t[1],a=e.currentQuiz.questions,o=function(){for(var t=a.length+n-1;t>n&&e.quizState[t%a.length].state!==mx.UNANSWERED;)t--;r(t%a.length)},u=function(){for(var t=n+1;t!==n&&e.quizState[t%a.length].state!==mx.UNANSWERED;)t=(t+1)%a.length;r(t%a.length)},s=function(t){e.scoreQuestion(n,t),setTimeout((function(){u()}),1500)};return i.createElement("div",{className:"".concat(e.quizStatus===kx.UNSTARTED?xx:Sx)},i.createElement("p",null,"Time remaining: ",e.display," ",i.createElement("br",null),"Current score: ",e.scorePoints," pts ",e.scorePercent,"/",e.quizState.length," question(s) correct"),i.createElement("div",null,i.createElement("ul",{className:Cx},e.quizState.map((function(e,t){return i.createElement("li",{tabIndex:0,key:t,onKeyPress:function(e){return"Enter"===e.key?r(t):""},onClick:function(){return r(t)},className:"".concat(t===n?Px:"","\n              ").concat(e.state===mx.UNANSWERED?Ix:e.state===mx.CORRECTLY_ANSWERED?Ax:Ox)},t+1)}))),i.createElement("div",{className:Tx},i.createElement("button",{onClick:function(){return o()},onKeyPress:function(e){return"Enter"===e.key?o():""},disabled:e.quizStatus!==kx.IN_PROGRESS},"< Previous Question"),i.createElement("button",{onClick:function(){return u()},onKeyPress:function(e){return"Enter"===e.key?u():""},disabled:e.quizStatus!==kx.IN_PROGRESS},"Next Question >")),e.quizStatus===kx.UNSTARTED?i.createElement("button",{className:_x,onClick:e.startQuiz},"Start Quiz"):i.createElement(i.Fragment,null,i.createElement(NI,{question:a[n],state:e.quizState[n],awardPoints:s,prompt:e.currentQuiz.prompt})),e.quizStatus===kx.COMPLETED?i.createElement("span",null,"Congratulations! Your final score is ",e.scorePoints," / ",e.maxScore," "):""))})),LI=function(){var e=function(){var e=i.useContext(be).matches,t=e[e.length-1];return t?t.params:{}}().id,t=C((0,i.useState)(),2),n=t[0],r=t[1];function a(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}return(0,i.useEffect)((function(){var t=function(){var e=nt(et().mark((function e(t){var n,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fk(t);case 2:n=e.sent,a(i=n.questions),n.questions=i,r(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();null!=e&&t(e)}),[e]),void 0===n?i.createElement("h2",null,"Still Loading"):i.createElement(Ex.Provider,{value:new wx(n)},i.createElement(DI,null))},MI=function(){return i.createElement("header",null,i.createElement("h1",null,"Raymond's Quiz App"),i.createElement("nav",null,i.createElement($e,{to:qe.HOME},"Home"),i.createElement($e,{to:qe.NEW_QUIZ},"New Quiz")),i.createElement("details",{className:"description"},i.createElement("summary",null,"How to Play"),"Each question in this quiz will involve a series of increasingly-obvious clues. If you get the question right after the first clue, you get the maximum number of points (4 points if the question has 4 clues, 3 points if it has 3 clues, etc). Each additional clue you need reduces the value by 1 point, down to 1 point if you need all the clues. HOWEVER, you only get one chance to answer, and if you answer wrong, you get 0 points. So it's better to ask for another clue and get 3 points than get a question wrong and get 0 points.",i.createElement("br",null),i.createElement("br",null),"EG: If you know which US state is home to ",i.createElement("a",{href:"https://www.atlasobscura.com/places/widow-jane-mine"},"the Widow Jane Mine"),", you get 4 points. If you need another clue, that this state is also home to the ",i.createElement("a",{href:"https://www.atlasobscura.com/places/jello-gallery-museum"},"JELL-O Gallery Museum")," you will get only 3 points for a correct answer. If you need to hear that this state also has the ",i.createElement("a",{href:"https://www.atlasobscura.com/places/amityville-horror-house"},"Amityville Horror house"),", you only get 2 points. If you can't get the answer until you hear that this state also has the ",i.createElement("a",{href:"https://www.nps.gov/stli/index.htm"},"Statue of Liberty Enlightening the World"),", you only get 1 point.",i.createElement("br",null),"On the other hand, if you answered wrongly based on any of those clues, you'd only get 0 points.",i.createElement("br",null),"(The state is New York, FYI)"),i.createElement("details",{className:"description"},i.createElement("summary",null,"Known Issues"),i.createElement("ul",null,i.createElement("li",null,'Only got two quizzes. Looking to get some more, and to add a "Create your own quiz" feature, but for now, two hard-coded quizzes.'),i.createElement("li",null,"Not accessible enough. I've made an effort to keep things high-contrast, properly keyboard-navigable, and use semantic HTML, but there's probably some other use cases I've missed."),i.createElement("li",null,'Due to programmer laziness, we are not particular about casing, but we only accept one spelling and phrasing. "the sex pistols" is correct, "Sex Pistols" is not.'),i.createElement("li",null,"I am deeply unsatisfied with the layout and UI, but don't know enough to fix it properly. Feedback welcome, although I am not budging on the brutalism."))))},FI="NavFooter_NavFooter__fGv4h",UI=function(){return i.createElement("footer",{className:FI},"\xa9 ",(new Date).getFullYear()," Copyright: Raymond Price",i.createElement($e,{to:"https://github.com/darthbob88/"},"Github"),i.createElement($e,{to:"https://github.com/darthbob88/reveal-clues-quiz"},"Github Repo for this Project"),i.createElement($e,{to:"https://twitter.com/darthbob88"},"Twitter"),i.createElement($e,{to:"https://www.linkedin.com/in/raymond-price-10a3746b/"},"Linkedin"))},jI="NewQuizForm_question__qrqX+",VI=function(){var e=qt(qt({},gx),{},{questions:[{clues:["","","",""],answer:"",revealOnAnswer:""}]}),t=C((0,i.useState)(e),2),n=t[0],r=t[1],a=Se(),o=n.questions.length>1,u=function(e){var t=n.questions;n.questions.length<=1||(t.splice(e,1),r(qt(qt({},n),{},{questions:t})))},s=n.questions.length<=10,l=function(e,t){var i=n.questions;i[e]=t,r(qt(qt({},n),{},{questions:i}))},c=""!==n.title&&""!==n.prompt&&n.time>=60,f=n.questions.every((function(e){return""!==e.answer&&e.clues.some((function(e){return""!==e}))})),h=c&&f;return i.createElement("form",{className:jI},i.createElement("p",null,i.createElement("label",null,"Quiz Title",i.createElement("input",{type:"text",onChange:function(e){return r(qt(qt({},n),{},{title:e.target.value}))},value:n.title}))),i.createElement("p",null,i.createElement("label",null,"Quiz Prompt",i.createElement("input",{type:"text",onChange:function(e){return r(qt(qt({},n),{},{prompt:e.target.value}))},value:n.prompt})," ")),i.createElement("p",null,i.createElement("label",null,"Time Limit (in minutes)",i.createElement("input",{type:"number",id:"timer",name:"timer",min:"1",max:"20",onChange:function(e){var t=Number(e.target.value);r((function(e){return qt(qt({},e),{},{time:60*t})}))},value:n.time/60}))),i.createElement("button",{onClick:function(e){e.preventDefault(),function(){var e=n.questions;e.push(bx),r(qt(qt({},n),{},{questions:e}))}()},disabled:!s},"Add Question"),n.questions.map((function(e,t){return i.createElement(zI,{key:t,question:e,QIdx:t,removeQuestion:u,canRemoveQuestion:o,updateQuestion:l})})),i.createElement("button",{disabled:!h,onClick:function(e){e.preventDefault(),n.slug=n.title.toLocaleLowerCase().replace(/\s/g,"-"),hk(n),a(qe.HOME)}},"Submit New Quiz"))},zI=function(e){var t=e.question,n=e.QIdx,r=e.updateQuestion,a=e.removeQuestion,o=e.canRemoveQuestion,u=t.clues.length<10,s=t.clues.length>1;return i.createElement("div",{"data-testid":"question"+(n+1)},i.createElement("h3",null,"Question ",n+1),i.createElement("button",{"data-testid":"remove-question",disabled:!o,onClick:function(e){e.preventDefault(),a(n)}},"X"),i.createElement("button",{"data-testid":"add-clue",onClick:function(e){e.preventDefault(),function(){var e=t;e.clues.push(""),r(n,e)}()},disabled:!u},"Add Clue"),i.createElement("ol",null,t.clues.map((function(e,a){return i.createElement("li",{key:a},i.createElement("input",{type:"text","data-index":a,"data-testid":"clue"+(a+1),value:e,onChange:function(e){return function(e,i){var a=e.target.value,o=t;o.clues[i]=a,r(n,o)}(e,a)}}),i.createElement("button",{"data-testid":"remove-clue",onClick:function(e){e.preventDefault(),function(e){var i=t.clues;i.splice(e,1),r(n,qt(qt({},t),{},{clues:i}))}(a)},disabled:!s},"X"))}))),i.createElement("label",null,"Answer ",i.createElement("input",{type:"text",onChange:function(e){return function(e){var i=e.target.value,a=t;a.answer=i,r(n,a)}(e)},value:t.answer})),i.createElement("label",null,"Additional text ",i.createElement("input",{type:"text",onChange:function(e){return function(e){var i=e.target.value,a=t;a.revealOnAnswer=i,r(n,a)}(e)},value:t.revealOnAnswer})))};var BI=function(){return i.createElement("div",{className:"App"},i.createElement(MI,null),i.createElement("div",{className:"content"},i.createElement(je,null,i.createElement(Fe,{path:qe.HOME,element:i.createElement(vk,null)}),i.createElement(Fe,{path:qe.LANDING,element:i.createElement(vk,null)}),i.createElement(Fe,{path:qe.QUIZ,element:i.createElement(LI,null)}),i.createElement(Fe,{path:qe.NEW_QUIZ,element:i.createElement(VI,null)}))),i.createElement(UI,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.render(i.createElement(i.StrictMode,null,i.createElement(Qe,null,i.createElement(BI,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}()}();
//# sourceMappingURL=main.38d53ae1.js.map